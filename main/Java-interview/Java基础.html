<!doctype html>
<html style='font-size:18px !important'>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>
<link href="https://gitee.com/curit/test-project/raw/master/src/main/resources/CuriT-icon/CuriT-transparent-T.png" rel="shortcut icon">
<style>
#O-switch, .typora-export-sidebar {
    -moz-user-select: none; 
    -webkit-user-select: none; 
    -ms-user-select: none; 
    -khtml-user-select: none; 
    user-select: none;
}
</style>
<link href='https://fonts.googleapis.com/css2?family=Source+Code+Pro&display=swap' rel='stylesheet' type='text/css' /><link href='https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@500&display=swap' rel='stylesheet' type='text/css' /><style type='text/css'>html {overflow-x: initial !important;}:root { --bg-color:#ffffff; --text-color:#333333; --select-text-bg-color:#B5D6FC; --select-text-font-color:auto; --monospace:"Lucida Console",Consolas,"Courier",monospace; --title-bar-height:20px; }
.mac-os-11 { --title-bar-height:28px; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }
body { margin: 0px; padding: 0px; height: auto; inset: 0px; font-size: 1rem; line-height: 1.42857; overflow-x: hidden; background: inherit; tab-size: 4; }
iframe { margin: auto; }
a.url { word-break: break-all; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; overflow-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; padding-top: 36px; }
#write.first-line-indent p { text-indent: 2em; }
#write.first-line-indent li p, #write.first-line-indent p * { text-indent: 0px; }
#write.first-line-indent li { margin-left: 2em; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
.typora-export .footnote-line, .typora-export li, .typora-export p { white-space: pre-wrap; }
.typora-export .task-list-item input { pointer-events: none; }
@media screen and (max-width: 500px) {
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  #write { padding-left: 20px; padding-right: 20px; }
  .CodeMirror-sizer { margin-left: 0px !important; }
  .CodeMirror-gutters { display: none !important; }
}
#write li > figure:last-child { margin-bottom: 0.5rem; }
#write ol, #write ul { position: relative; }
img { max-width: 100%; vertical-align: middle; image-orientation: from-image; }
button, input, select, textarea { color: inherit; font: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
*, ::after, ::before { box-sizing: border-box; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p { position: relative; }
p { line-height: inherit; }
h1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 4; }
p { orphans: 4; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-radius: 4px; cursor: pointer; }
sup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; }
figure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }
figure > table { margin: 0px; }
tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 32px; }
.CodeMirror-gutters { border-right: 0px; background-color: inherit; }
.CodeMirror-linenumber { user-select: none; }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
#write pre { white-space: pre-wrap; }
#write.fences-no-line-wrapping pre { white-space: pre; }
#write pre.ty-contain-cm { white-space: normal; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background: inherit; position: relative !important; }
.md-fences-adv-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
#write .md-fences.mock-cm { white-space: pre-wrap; }
.md-fences.md-fences-with-lineno { padding-left: 0px; }
#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }
.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }
.CodeMirror-line, twitterwidget { break-inside: avoid; }
.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }
.footnotes + .footnotes { margin-top: 0px; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; background: 0px 0px; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; -webkit-tap-highlight-color: transparent; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li .mathjax-block, li p { margin: 0.5rem 0px; }
li blockquote { margin: 1rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child, li > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }
#write .footnote-line { white-space: pre-wrap; }
@media print {
  body, html { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; font-variant-ligatures: no-common-ligatures; }
  #write { margin-top: 0px; padding-top: 0px; border-color: transparent !important; }
  .typora-export * { -webkit-print-color-adjust: exact; }
  .typora-export #write { break-after: avoid; }
  .typora-export #write::after { height: 0px; }
  .is-mac table { break-inside: avoid; }
  .typora-export-show-outline .typora-export-sidebar { display: none; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background: rgb(204, 204, 204); display: block; overflow-x: hidden; }
p > .md-image:only-child:not(.md-img-error) img, p > img:only-child { display: block; margin: auto; }
#write.first-line-indent p > .md-image:only-child:not(.md-img-error) img { left: -2em; position: relative; }
p > .md-image:only-child { display: inline-block; width: 100%; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.md-math-block { width: 100%; }
.md-math-block:not(:empty)::after { display: none; }
.MathJax_ref { fill: currentcolor; }
[contenteditable="true"]:active, [contenteditable="true"]:focus, [contenteditable="false"]:active, [contenteditable="false"]:focus { outline: 0px; box-shadow: none; }
.md-task-list-item { position: relative; list-style-type: none; }
.task-list-item.md-task-list-item { padding-left: 0px; }
.md-task-list-item > input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); border: none; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc-content::after, .md-toc::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); }
.md-toc-item a { text-decoration: none; }
.md-toc-inner:hover { text-decoration: underline; }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) {
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
code, pre, samp, tt { font-family: var(--monospace); }
kbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.6; font-family: var(--monospace); }
code { text-align: left; vertical-align: initial; }
a.md-print-anchor { white-space: pre !important; border-width: initial !important; border-style: none !important; border-color: initial !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; background: 0px 0px !important; text-decoration: initial !important; text-shadow: initial !important; }
.os-windows.monocolor-emoji .md-emoji { font-family: "Segoe UI Symbol", sans-serif; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="flow"] svg, [lang="mermaid"] svg { max-width: 100%; height: auto; }
[lang="mermaid"] .node text { font-size: 1rem; }
table tr th { border-bottom: 0px; }
video { max-width: 100%; display: block; margin: 0px auto; }
iframe { max-width: 100%; width: 100%; border: none; }
.highlight td, .highlight tr { border: 0px; }
mark { background: rgb(255, 255, 0); color: rgb(0, 0, 0); }
.md-html-inline .md-plain, .md-html-inline strong, mark .md-inline-math, mark strong { color: inherit; }
.md-expand mark .md-meta { opacity: 0.3 !important; }
mark .md-meta { color: rgb(0, 0, 0); }
@media print {
  .typora-export h1, .typora-export h2, .typora-export h3, .typora-export h4, .typora-export h5, .typora-export h6 { break-inside: avoid; }
}
.md-diagram-panel .messageText { stroke: none !important; }
.md-diagram-panel .start-state { fill: var(--node-fill); }
.md-diagram-panel .edgeLabel rect { opacity: 1 !important; }
.md-fences.md-fences-math { font-size: 1em; }
.md-fences-advanced:not(.md-focus) { padding: 0px; white-space: nowrap; border: 0px; }
.md-fences-advanced:not(.md-focus) { background: inherit; }
.typora-export-show-outline .typora-export-content { max-width: 1440px; margin: auto; display: flex; flex-direction: row; }
.typora-export-sidebar { width: 300px; font-size: 0.8rem; margin-top: 80px; margin-right: 18px; }
.typora-export-show-outline #write { --webkit-flex:2; flex: 2 1 0%; }
.typora-export-sidebar .outline-content { position: fixed; top: 0px; max-height: 100%; overflow: hidden auto; padding-bottom: 30px; padding-top: 60px; width: 300px; }
@media screen and (max-width: 1024px) {
  .typora-export-sidebar, .typora-export-sidebar .outline-content { width: 240px; }
}
@media screen and (max-width: 800px) {
  .typora-export-sidebar { display: none; }
}
.outline-content li, .outline-content ul { margin-left: 0px; margin-right: 0px; padding-left: 0px; padding-right: 0px; list-style: none; }
.outline-content ul { margin-top: 0px; margin-bottom: 0px; }
.outline-content strong { font-weight: 400; }
.outline-expander { width: 1rem; height: 1.42857rem; position: relative; display: table-cell; vertical-align: middle; cursor: pointer; padding-left: 4px; }
.outline-expander::before { content: "ï„¥"; position: relative; font-family: Ionicons; display: inline-block; font-size: 8px; vertical-align: middle; }
.outline-item { padding-top: 3px; padding-bottom: 3px; cursor: pointer; }
.outline-expander:hover::before { content: "ï„£"; }
.outline-h1 > .outline-item { padding-left: 0px; }
.outline-h2 > .outline-item { padding-left: 1em; }
.outline-h3 > .outline-item { padding-left: 2em; }
.outline-h4 > .outline-item { padding-left: 3em; }
.outline-h5 > .outline-item { padding-left: 4em; }
.outline-h6 > .outline-item { padding-left: 5em; }
.outline-label { cursor: pointer; display: table-cell; vertical-align: middle; text-decoration: none; color: inherit; }
.outline-label:hover { text-decoration: underline; }
.outline-item:hover { border-color: rgb(245, 245, 245); background-color: var(--item-hover-bg-color); }
.outline-item:hover { margin-left: -28px; margin-right: -28px; border-left: 28px solid transparent; border-right: 28px solid transparent; }
.outline-item-single .outline-expander::before, .outline-item-single .outline-expander:hover::before { display: none; }
.outline-item-open > .outline-item > .outline-expander::before { content: "ï„£"; }
.outline-children { display: none; }
.info-panel-tab-wrapper { display: none; }
.outline-item-open > .outline-children { display: block; }
.typora-export .outline-item { padding-top: 1px; padding-bottom: 1px; }
.typora-export .outline-item:hover { margin-right: -8px; border-right: 8px solid transparent; }
.typora-export .outline-expander::before { content: "+"; font-family: inherit; top: -1px; }
.typora-export .outline-expander:hover::before, .typora-export .outline-item-open > .outline-item > .outline-expander::before { content: "âˆ’"; }
.typora-export-collapse-outline .outline-children { display: none; }
.typora-export-collapse-outline .outline-item-open > .outline-children, .typora-export-no-collapse-outline .outline-children { display: block; }
.typora-export-no-collapse-outline .outline-expander::before { content: "" !important; }
.typora-export-show-outline .outline-item-active > .outline-item .outline-label { font-weight: 700; }
.md-inline-math-container mjx-container { zoom: 0.95; }


.CodeMirror { height: auto; }
.CodeMirror.cm-s-inner { background: inherit; }
.CodeMirror-scroll { overflow: auto hidden; z-index: 3; }
.CodeMirror-gutter-filler, .CodeMirror-scrollbar-filler { background-color: rgb(255, 255, 255); }
.CodeMirror-gutters { border-right: 1px solid rgb(221, 221, 221); background: inherit; white-space: nowrap; }
.CodeMirror-linenumber { padding: 0px 3px 0px 5px; text-align: right; color: rgb(153, 153, 153); }
.cm-s-inner .cm-keyword { color: rgb(119, 0, 136); }
.cm-s-inner .cm-atom, .cm-s-inner.cm-atom { color: rgb(34, 17, 153); }
.cm-s-inner .cm-number { color: rgb(17, 102, 68); }
.cm-s-inner .cm-def { color: rgb(0, 0, 255); }
.cm-s-inner .cm-variable { color: rgb(0, 0, 0); }
.cm-s-inner .cm-variable-2 { color: rgb(0, 85, 170); }
.cm-s-inner .cm-variable-3 { color: rgb(0, 136, 85); }
.cm-s-inner .cm-string { color: rgb(170, 17, 17); }
.cm-s-inner .cm-property { color: rgb(0, 0, 0); }
.cm-s-inner .cm-operator { color: rgb(152, 26, 26); }
.cm-s-inner .cm-comment, .cm-s-inner.cm-comment { color: rgb(170, 85, 0); }
.cm-s-inner .cm-string-2 { color: rgb(255, 85, 0); }
.cm-s-inner .cm-meta { color: rgb(85, 85, 85); }
.cm-s-inner .cm-qualifier { color: rgb(85, 85, 85); }
.cm-s-inner .cm-builtin { color: rgb(51, 0, 170); }
.cm-s-inner .cm-bracket { color: rgb(153, 153, 119); }
.cm-s-inner .cm-tag { color: rgb(17, 119, 0); }
.cm-s-inner .cm-attribute { color: rgb(0, 0, 204); }
.cm-s-inner .cm-header, .cm-s-inner.cm-header { color: rgb(0, 0, 255); }
.cm-s-inner .cm-quote, .cm-s-inner.cm-quote { color: rgb(0, 153, 0); }
.cm-s-inner .cm-hr, .cm-s-inner.cm-hr { color: rgb(153, 153, 153); }
.cm-s-inner .cm-link, .cm-s-inner.cm-link { color: rgb(0, 0, 204); }
.cm-negative { color: rgb(221, 68, 68); }
.cm-positive { color: rgb(34, 153, 34); }
.cm-header, .cm-strong { font-weight: 700; }
.cm-del { text-decoration: line-through; }
.cm-em { font-style: italic; }
.cm-link { text-decoration: underline; }
.cm-error { color: red; }
.cm-invalidchar { color: red; }
.cm-constant { color: rgb(38, 139, 210); }
.cm-defined { color: rgb(181, 137, 0); }
div.CodeMirror span.CodeMirror-matchingbracket { color: rgb(0, 255, 0); }
div.CodeMirror span.CodeMirror-nonmatchingbracket { color: rgb(255, 34, 34); }
.cm-s-inner .CodeMirror-activeline-background { background: inherit; }
.CodeMirror { position: relative; overflow: hidden; }
.CodeMirror-scroll { height: 100%; outline: 0px; position: relative; box-sizing: content-box; background: inherit; }
.CodeMirror-sizer { position: relative; }
.CodeMirror-gutter-filler, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-vscrollbar { position: absolute; z-index: 6; display: none; outline: 0px; }
.CodeMirror-vscrollbar { right: 0px; top: 0px; overflow: hidden; }
.CodeMirror-hscrollbar { bottom: 0px; left: 0px; overflow: auto hidden; }
.CodeMirror-scrollbar-filler { right: 0px; bottom: 0px; }
.CodeMirror-gutter-filler { left: 0px; bottom: 0px; }
.CodeMirror-gutters { position: absolute; left: 0px; top: 0px; padding-bottom: 10px; z-index: 3; overflow-y: hidden; }
.CodeMirror-gutter { white-space: normal; height: 100%; box-sizing: content-box; padding-bottom: 30px; margin-bottom: -32px; display: inline-block; }
.CodeMirror-gutter-wrapper { position: absolute; z-index: 4; background: 0px 0px !important; border: none !important; }
.CodeMirror-gutter-background { position: absolute; top: 0px; bottom: 0px; z-index: 4; }
.CodeMirror-gutter-elt { position: absolute; cursor: default; z-index: 4; }
.CodeMirror-lines { cursor: text; }
.CodeMirror pre { border-radius: 0px; border-width: 0px; background: 0px 0px; font-family: inherit; font-size: inherit; margin: 0px; white-space: pre; overflow-wrap: normal; color: inherit; z-index: 2; position: relative; overflow: visible; }
.CodeMirror-wrap pre { overflow-wrap: break-word; white-space: pre-wrap; word-break: normal; }
.CodeMirror-code pre { border-right: 30px solid transparent; width: fit-content; }
.CodeMirror-wrap .CodeMirror-code pre { border-right: none; width: auto; }
.CodeMirror-linebackground { position: absolute; inset: 0px; z-index: 0; }
.CodeMirror-linewidget { position: relative; z-index: 2; overflow: auto; }
.CodeMirror-wrap .CodeMirror-scroll { overflow-x: hidden; }
.CodeMirror-measure { position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden; }
.CodeMirror-measure pre { position: static; }
.CodeMirror div.CodeMirror-cursor { position: absolute; visibility: hidden; border-right: none; width: 0px; }
.CodeMirror div.CodeMirror-cursor { visibility: hidden; }
.CodeMirror-focused div.CodeMirror-cursor { visibility: inherit; }
.cm-searching { background: rgba(255, 255, 0, 0.4); }
span.cm-underlined { text-decoration: underline; }
span.cm-strikethrough { text-decoration: line-through; }
.cm-tw-syntaxerror { color: rgb(255, 255, 255); background-color: rgb(153, 0, 0); }
.cm-tw-deleted { text-decoration: line-through; }
.cm-tw-header5 { font-weight: 700; }
.cm-tw-listitem:first-child { padding-left: 10px; }
.cm-tw-box { border-style: solid; border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-color: inherit; border-top-width: 0px !important; }
.cm-tw-underline { text-decoration: underline; }
@media print {
  .CodeMirror div.CodeMirror-cursor { visibility: hidden; }
}


/* åŸºäº rainbow ä¸»é¢˜ */
/*
fonts initalization
*/
@import url(https://fonts.googleapis.com/css2?family=Source+Code+Pro&display=swap);
@import url(https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@500&display=swap);

@page {
	size: A4;
	margin: 8mm 0mm;
}

/*
root variables including colors, font-familys and a shadow style
*/
:root {
	--bg-color: #f3f2ee;
	--font--family: "å®‹ä½“", "æ€æºé»‘ä½“ CN", "å¾®è½¯é›…é»‘";
	--monospace-font: "Source Code Pro Regular", "Source Code Pro", monospace;
	--font--family-h1: "æ–¹æ­£æ¥·ä½“_GBK", "å¾®è½¯é›…é»‘";
	--font--family-h2: "ååº·æ‰‹æœ­ä½“W5P", "å¾®è½¯é›…é»‘";

	--color--h2--quote: #2d7d59;
	/* äºŒçº§æ ‡é¢˜èƒŒæ™¯é¢œè‰²ã€å¼•ç”¨ä¾§è¾¹é¢œè‰²*/
	--color--quote--backgroudn: rgba(66, 185, 131, 0.1);
	/*å¼•ç”¨èƒŒæ™¯é¢œè‰²*/
	--color--h--focus: #ff5d52;
	/* æ ‡é¢˜ç‚¹å‡»åçš„å‰ç¼€æç¤ºé¢œè‰² */

	--color--inlinecode--font: #D83B64;
	/*è¡Œå†…ä»£ç å­—ä½“é¢œè‰²*/
	--color--inlinecode--background: #f9f2f4;
	/*è¡Œå†…ä»£ç èƒŒæ™¯2é¢œè‰²*/
	--color--url: #659ddc;
	/*è¶…é“¾æ¥å­—ä½“é¢œè‰²*/
	--color--url--focus: #f60;
	/*é€‰ä¸­çš„è¶…é“¾æ¥åçš„å¡«å……é¢œè‰²*/
	--color--url--focus--font: #ffffffe6;
	/*é€‰ä¸­çš„è¶…é“¾æ¥åçš„å­—ä½“é¢œè‰²*/
	--color--highlight: #ffff00;
	/*é«˜äº®é¢œè‰²*/
	--del-color: rgb(151, 151, 151);
	/*åˆ é™¤çº¿é¢œè‰²*/
	--italic-color: gray;
	/*æ–œä½“é¢œè‰²*/
	--strong-color: brown;
	/*ç²—ä½“é¢œè‰²*/
	--underline-color: #f00;
	/*ä¸‹åˆ’çº¿é¢œè‰²*/
	--ol-color: #81accf;
	/* æœ‰åºåˆ—è¡¨å‰ç¼€é¢œè‰² */
	--olfore-color: #fff;
	/* æœ‰åºåˆ—è¡¨å­—ä½“é¢œè‰² */

	--h-border-color: rgb(255, 191, 191);
	--h-bg-color: rgb(255, 232, 232);
	--table-border-color: rgb(255, 235, 211);
	--th-bg-color: rgb(255, 243, 228);
	--tr-bg-color: rgb(255, 249, 242);
	--tr-hover-bg-color: rgb(254, 255, 230);
	--code-bg-color: rgb(247, 247, 247);

	--selection-bg-color: rgb(235, 227, 255);
	--block-shadow: 0.15rem 0.15rem 0.5rem rgb(150, 150, 150);

	--focus-color: #ff5d52; /* ç‚¹å‡»æŸäº›å…ƒç´ ï¼ˆå¦‚æ ‡é¢˜ï¼‰æ˜¾ç¤ºçš„é¢œè‰²ï¼ˆåçº¢ï¼‰ */
	--ulol-color: #81accf; /* æœ‰åºæ— åºåˆ—è¡¨å‰ç¼€é¢œè‰²ï¼ˆç°è‰²ï¼‰ */
    --olfore-color: #fff; /* æœ‰åºåˆ—è¡¨å­—ä½“é¢œè‰²ï¼ˆç™½è‰²ï¼‰ */
    --taskborder-color: #81accf; /* ä»»åŠ¡åˆ—è¡¨è¾¹æ¡†è‰²ï¼ˆçº¢è‰²ï¼‰ */
    --taskfocus-color: #81accf; /* ä»»åŠ¡åˆ—è¡¨é€‰ä¸­å¡«å……è‰²ï¼ˆç»¿è‰²ï¼‰ */

}

html {
	background-color: #f3f2ee;
	font-size: 16px;
}

body {
	background-color: #f3f2ee;
}


#write {
	font-family: var(--font--family);
	max-width: 60rem;
	padding-left: 2rem;
	padding-right: 2rem;
}

/*
yaml header settings
*/
#write pre.md-meta-block {
	font-family: var(--monospace-font);
	font-size: 1rem;
	text-align: left;
	padding: 0.6rem;
	color: rgb(134, 134, 134);
	background-color: var(--code-bg-color);
	border-radius: 0.4rem;
}

/*
headers settings
æ ‡é¢˜
*/
#write h1 {
	font-size: 1.75rem;
	text-align: center;
	font-family: var(--font--family-h1);
}

#write h2 {
	font-size: 1.5rem;
	border-bottom: 2px solid var(--color--h2--quote);
	font-family: var(--font--family-h2);
}

#write h2 span {
	display: inline-block;
	font-weight: bold;
	background: var(--color--h2--quote);
	color: #ffffff;
	padding: 3px 10px 1px;
	border-top-right-radius: 3px;
	border-top-left-radius: 3px;
	margin-right: 3px;
}

#write h2:after {
	display: inline-block;
	content: "";
	vertical-align: bottom;
	border-bottom: 36px solid #efebe9;
	border-right: 20px solid transparent;
}

h3 {
	font-size: 1.3em;
	line-height: 1.43;
	margin: 1.6em auto 1.2em;
	padding-left: 8px;
	border-left: 4px solid var(--color--h2--quote);
}

#write>h3.md-focus {
	border-color: var(--color--h--focus);
}

#write h4 {
	font-size: 1.15rem;
}

#write h5 {
	font-size: 1rem;
}

#write h6 {
	font-size: 1rem;
}

/* æ ‡é¢˜ç‚¹å‡»åçš„å‰ç¼€æç¤ºå›¾æ ‡ */
#write>h3.md-focus:before {
	width: auto;
	height: auto;
	background-color: var(--color--h--focus);
	color: #ffffff;
}

#write>h4.md-focus:before {
	width: auto;
	height: auto;
	background-color: #ff5d52;
	color: #ffffff;
	margin-top: -1px;
}

#write h5.md-focus:before,
#write h6.md-focus:before {
	margin-top: 6px;
	color: #ff5d52;
	font-size: 0.4rem;
}

/*
tables settings
è¡¨æ ¼
*/
#write table {
	display: table;
	text-align: left;
}

#write tbody {
	border: 0;
}

#write table tr {
	border: 0;
	border-top: 1px solid #ccc;
	background-color: white;
}

#write table tr:nth-child(2n) {
	background-color: #F8F8F8;
}

#write table tr th,
#write table tr td {
	font-size: 16px;
	border: 1px solid #ccc;
	padding: 5px 10px;
	text-align: left;
}

#write table tr th {
	font-weight: bold;
	background-color: #f0f0f0;
}

/*
checkboxes settings
ä»»åŠ¡åˆ—è¡¨
*/
.md-task-list-item>input {
    margin-left: -1.3em;
    margin-top: 0.4rem;
    -webkit-appearance: none;
}

/* ä»»åŠ¡åˆ—è¡¨æœªé€‰ä¸­ */
#write .task-list-item input[type="checkbox"]::before,
#write input[type="checkbox"]:checked::before {
	content: "";
	display: inline-block;

	/*åœ†å½¢æ¡†*/
	border-radius: 1.1rem;

	/* æ–¹å½¢æ¡† */
	/* border-radius: 0.1rem; */
	vertical-align: middle;
	border: 1.2px solid #81accf;
	background-color: #ffffff;
	width: 1.1rem;
	height: 1.1rem;
	margin-left: -1px;
	margin-right: 0.1rem;
	margin-top: -0.19rem;
}

/* ä»»åŠ¡åˆ—è¡¨é€‰ä¸­ */
#write .task-list-item input[type="checkbox"]:checked::before {
	padding-left: 0.125em;
	padding-top: 0em;
	content: 'âœ”';
	color: white;
	background-color: #81accf;
	font-size: 0.8rem;
	line-height: 0.95rem;
	margin-left: -1px;
	margin-right: 0.1rem;
	margin-top: -0.19rem;
	transition: background-color 200ms ease-in-out;
}

#write .task-list-item input[type="checkbox"]:checked+p {
	text-decoration: line-through;
	color: var(--del-color);
}

#write input[type='checkbox']:hover::before {
	transition: all 0.2s;
	background-color: rgb(228, 228, 228);
}

/** æœ‰åºã€æ— åºåˆ—è¡¨ **/
/* æœ‰åºåˆ—è¡¨åœ¨åŠ å…¥æ¢è¡Œåé‡æ–°è®¡æ•°äº†ï¼Œæ•…æ³¨é‡Šäº†ï¼Œå¾…ä¿®å¤ */
/* #write ol li,
#write .ol .li, */
#write ul li,
#write .ul .li {
	list-style-type: none;
}

#write ul>li:not(.tab):before,
#write .ul>.li:not(.tab):before {
	margin-left: -18px;
	margin-top: 7px;
	width: .62em;
	height: .62em;
	border: .1em solid var(--ulol-color);

	border-radius: .31em;
	background: 0 0;
	content: '';
	line-height: .42em;
}

/* #write ol li:before,
#write .ol .li:before, */
#write ul li:before,
#write .ul .li:before {
	position: absolute;
	background: var(--ulol-color);
	color: var(--olfore-color);
	cursor: pointer;
	-webkit-transition: all .3s ease-out;
	-moz-transition: all .3s ease-out;
	-o-transition: all .3s ease-out;
	-ms-transition: all .3s ease-out;
	transition: all .3s ease-out;
}

/* #write ol li:first-child,
#write .ol .li:first-child {
	counter-reset: li;
} */

/* #write ol>li:before,
#write .ol>.li:before {
	margin-top: 3.8px;
	margin-left: -21px;
	width: 1.65em;
	height: 1.65em;
	border-radius: 0.825em;
	content: counter(li);
	counter-increment: li;
	text-align: center;
	font-size: .65em;
	line-height: 1.7em;
} */

/* åˆ—è¡¨å­é¡¹ä¸Šä¸‹é—´éš”è°ƒæ•´ */
/* #write ol li *,
#write .ol .li *  */
#write ul li *,
#write .ul .li * {
	margin-top: 0px;
	margin-bottom: 0px;
}

/* åˆ—è¡¨ä¸Šä¸‹é—´éš”è°ƒæ•´ */

/* #write ol li,
#write .ol .li, */
#write ul li,
#write .ul .li {
	margin-top: 7px;
	margin-bottom: 7px;
}


/*
blockquotes settings
å¼•ç”¨
*/
#write blockquote {
	color: #7e7a7a;
	border-left: 0.25rem solid var(--color--h2--quote);
	background: var(--color--quote--backgroudn);
	padding: 0.25rem 0.5rem;
	border-radius: 0.25rem;
}

/* å¼•ç”¨ä¸­çš„å½©è™¹ */
#write blockquote::before {
	display: block;
	height: 2rem;
	width: 1.5rem;
	content: "ğŸŒˆ";
	font-size: 1.2rem;
}

/* å¼•ç”¨å†…å•è¡Œä»£ç  */
#write blockquote code {
	background-color: transparent;
}

/*
horizontal rules settings
*/
#write hr {
	margin-top: 2rem;
	margin-bottom: 2rem;
	background-color: rgb(226, 226, 226);
	height: 0.13rem;
	border: 0;
}


/*
code blocks settings
ä»£ç å—
*/
#write .md-fences {
	font-family: var(--monospace-font);
	font-size: 1rem;
	padding: 0.6rem;
	background-color: var(--code-bg-color);
	border-radius: 0.4rem;
	box-shadow: var(--block-shadow);
}

#write .cm-s-inner .CodeMirror-gutters {
	border: none;
}

#write .cm-s-inner .CodeMirror-linenumber {
	color: rgb(212, 212, 212);
}

#write .cm-s-inner .cm-keyword {
	color: rgb(204, 35, 35);
}

#write .cm-s-inner .cm-number {
	color: rgb(27, 57, 226);
}

#write .cm-s-inner .cm-def {
	color: rgb(146, 50, 255);
}

#write .cm-s-inner .cm-operator {
	color: rgb(204, 35, 35);
}

#write .cm-s-inner .cm-variable2 {
	color: rgb(38, 129, 219);
}

#write .cm-s-inner .cm-variable3 {
	color: rgb(204, 35, 35);
}

#write .cm-s-inner .cm-comment {
	color: rgb(18, 129, 18);
}

#write .cm-s-inner .cm-string {
	color: rgb(18, 129, 18);
}

#write .cm-s-inner .cm-builtin {
	color: rgb(218, 135, 12);
}

#write .cm-tag {
	color: rgb(139, 10, 10);
}

/*
formulas settings
*/
#write mjx-container {
	font-size: 1.1rem;
}

/*
tooltips settings
*/
#write .code-tooltip {
	box-shadow: 0.1rem 0.1rem 0.2rem rgb(150, 150, 150);
	border-radius: 0.2rem;
	margin-top: 0.3rem;
}

/*
selected texts in code blocks settings
*/
#write .CodeMirror-selected,
#write .CodeMirror-selectedtext,
#write .in-text-selection {
	background-color: var(--selection-bg-color) !important;
}
/*
selected texts settings
æ–‡æœ¬é€‰ä¸­åçš„é¢œè‰²
*/
#write ::selection {
	background-color: var(--selection-bg-color);
}

/*
diagrams settings
*/
#write pre[lang=â€™sequenceâ€™],
#write pre[lang=â€™flowâ€™],
#write pre[lang=â€™mermaidâ€™] {
	background-color: var(--code-bg-color);
	border-radius: 0.4rem;
	box-shadow: var(--block-shadow);
}

/*
inline codes settings
è¡Œå†…ä»£ç 
*/
#write code {
	font-family: var(--monospace-font);
	padding: 0.05rem 0.12rem;
	color: var(--color--inlinecode--font);
	background-color: var(--color--inlinecode--background);
	border-radius: 0.4rem;
}

/*
urls settings
è¶…é“¾æ¥
*/
#write a {
	color: var(--color--url);
	text-decoration: none;
}

#write a:hover {
	border-radius: 6px;
	border-bottom: 2px solid transparent;
	background-color: var(--color--url--focus);
	color: var(--color--url--focus--font) !important;
	cursor: pointer;
	padding: 2.5px 2.5px;
	font-size: 1rem;
}

/*
images settings
å›¾åƒ
*/
#write img {
	display: block;
	margin: 0 auto;
	border: 0;
	border-radius: 12px;
	box-shadow: var(--block-shadow);
	margin-bottom: 4px;
}

/*
deletes settings
åˆ é™¤çº¿
*/
#write del {
	color: var(--del-color);
}


kbd {
	background-color: rgb(255, 255, 255);
	border-radius: 8px;
	color: black;
	padding: 1px 4px;
	font-family: "å¾®è½¯é›…é»‘";
	font-size: 0.8rem;
	border-top: 1px solid #cfcfcf;
	border-left: 1px solid #cfcfcf;
	border-right: 1px solid #cfcfcf;
	border-bottom: 3px solid #cfcfcf;
}

/* æ–œä½“ */
em {
	font-style: normal;
	color: var(--italic-color);
}

/* ç²—ä½“ */
strong {
	background-color: inherit;
	color: var(--strong-color);
}

/* ä¸‹åˆ’çº¿ */
u {
	background-color: inherit;
	color: inherit;
	text-decoration: none;
	border-bottom: 2px solid var(--underline-color);
	padding-bottom: 1px;
}

/* é«˜äº® */
mark {
	color: black;
	font-weight: normal;
	padding: 1px 5px 2px;
	border-radius: 2px;
	background-color: var(--color--highlight) !important;
}

/* sidebar	ä¾§è¾¹æ  */
#typora-sidebar {
	background-color: #f3f2ee;
	/* åˆ†å‰²çº¿ */
	border-right: 1px dashed #C0C0C0;
}

#typora-sidebar #sidebar-loading-template.file-list-item {
	border-bottom: transparent !important;
	background-color: rgba(171, 192, 208, 0.1);
}

#typora-sidebar .info-panel-tab-wrapper .info-panel-tab:hover {
	color: inherit;
}

#typora-sidebar .info-panel-tab-wrapper .info-panel-tab .info-panel-tab-border {
	background-color: #2f845e;
	border-radius: 4px;
}

#typora-sidebar .sidebar-osx-tab .sidebar-tabs {
	border-bottom-color: transparent;
}

#typora-sidebar #sidebar-content .file-list-item {
	border-bottom: 1px solid #eee;
}

#typora-sidebar #sidebar-content .file-list-item.active {
	background-color: rgba(66, 185, 131, 0.1);
	border-left: 4px solid #2f845e;
}

#typora-sidebar #sidebar-content .ty-sidebar-search-panel {
	border-bottom: 1px solid #eee;
}

#typora-sidebar #sidebar-content .ty-sidebar-search-panel .searchpanel-search-option-btn {
	background-color: #fff;
}

#typora-sidebar #sidebar-content .sidebar-content-content .file-node-content {
	line-height: 1.375rem;
	font-size: 1rem;
	color: #282c34 !important;
}

#typora-sidebar #sidebar-content .sidebar-content-content .file-tree-node:not(.file-node-root):hover>.file-node-background {
	border-left: 4px solid #2f845e;
	background-color: rgba(66, 185, 131, 0.1);
}

#typora-sidebar #sidebar-content .sidebar-content-content .file-tree-node.active>.file-node-background {
	border-color: #2f845e;
	background-color: rgba(66, 185, 131, 0.1);
}

#typora-sidebar #sidebar-content .sidebar-content-content #file-library-list-children .file-library-file-node:hover {
	border-left: 4px solid #2f845e;
	background-color: rgba(66, 185, 131, 0.1);
}

#typora-sidebar #sidebar-content #outline-content .no-collapse-outline .outline-item {
	line-height: 1.375rem;
	font-size: 1rem;
}

#typora-sidebar #sidebar-content #outline-content .outline-expander:before {
	color: inherit;
	font-size: 14px;
	top: auto;
	content: "\f0da";
	font-family: FontAwesome;
}

#typora-sidebar #sidebar-content #outline-content .outline-expander:hover:before,
#typora-sidebar #sidebar-content #outline-content .outline-item-open>.outline-item>.outline-expander:before {
	content: "\f0d7";
}

#typora-sidebar #sidebar-content #outline-content .outline-item:hover {
	background-color: #bac6e9 !important;
}

#typora-sidebar #ty-sidebar-footer {
	border-top: 1px solid #eee;
}

#typora-sidebar #ty-sidebar-footer .sidebar-footer-item:hover {
	background-color: #bac6e9 !important;
}

#typora-sidebar #ty-sidebar-footer #sidebar-files-menu {
	-webkit-box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12);
	box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12);
}


/* mac é£æ ¼ */
#write pre.md-fences {
	padding: 1rem 0.5rem 1rem;
	display: block;
	-webkit-overflow-scrolling: touch;
	/* box-shadow: 0 0 6px 2px rgba(151, 151, 151, 0.9); */
	/* border-top: rgb(51, 51, 51) solid 24px; */
	border-top: rgb(244, 244, 244) solid 24px;
	background-color: rgb(244, 244, 244);
}

pre.md-fences::before {
	content: '';
	background: #fc625d;
	box-shadow: 23px 0 #fdbc40, 45px 0 #35cd4b;
	border-radius: 50%;
	margin-top: -1.73rem;
	position: absolute;
	left: 15px;
	height: 12px;
	width: 12px;
}


/** å›¾ç‰‡ **/

/* å›¾ç‰‡è‡ªåŠ¨ç¼–å· */
#write {
    counter-reset: imgNum;
}

#write p>.md-image:after {
    counter-increment: imgNum;
    content: "å›¾ " counter(imgNum) attr(alt) !important;
    text-align: center;
    width: 100%;
    display: inline-block;
    margin-top: 8px !important;
    font-size: small;
	font-family:"ååº·æ‰‹æœ­ä½“W5P";
    font-size:1rem;
	color:gray;
}


</style><title>Java</title>
</head>
<body class='typora-export os-windows typora-export-show-outline typora-export-collapse-outline'><div class='typora-export-content'>
<div class="typora-export-sidebar"><div class="outline-content"><li class="outline-item-wrapper outline-h1 outline-item-open"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#java">Java</a></div><ul class="outline-children"><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#javaåŸºç¡€">JavaåŸºç¡€</a></div><ul class="outline-children"><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ä¸equalsçš„åŒºåˆ«">==ä¸equalsçš„åŒºåˆ«ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#javaè¯­è¨€çš„ç‰¹ç‚¹">Javaè¯­è¨€çš„ç‰¹ç‚¹</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#é¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹çš„åŒºåˆ«">é¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹çš„åŒºåˆ«</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#å…«ç§åŸºæœ¬æ•°æ®ç±»å‹çš„å¤§å°ä»¥åŠä»–ä»¬çš„å°è£…ç±»">å…«ç§åŸºæœ¬æ•°æ®ç±»å‹çš„å¤§å°ï¼Œä»¥åŠä»–ä»¬çš„å°è£…ç±»</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#instanceof-å…³é”®å­—çš„ä½œç”¨">instanceof å…³é”®å­—çš„ä½œç”¨</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#javaè‡ªåŠ¨è£…ç®±ä¸æ‹†ç®±">Javaè‡ªåŠ¨è£…ç®±ä¸æ‹†ç®±</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#é‡è½½å’Œé‡å†™çš„åŒºåˆ«">é‡è½½å’Œé‡å†™çš„åŒºåˆ«</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#equalså’Œçš„åŒºåˆ«">equalså’Œ==çš„åŒºåˆ«</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#hashcodeçš„ä½œç”¨">Hashcodeçš„ä½œç”¨</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#stringstring-stringbuffer-å’Œ-stringbuilder-çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ">Stringã€String StringBuffer å’Œ StringBuilder çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#arraylistå’Œlinkedlistçš„åŒºåˆ«">ArrayListå’ŒlinkedListçš„åŒºåˆ«</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#hashmapå’Œhashtableçš„åŒºåˆ«">HashMapå’ŒHashTableçš„åŒºåˆ«</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#collectionåŒ…ç»“æ„ä¸collectionsçš„åŒºåˆ«">CollectionåŒ…ç»“æ„ï¼Œä¸Collectionsçš„åŒºåˆ«</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#javaçš„å››ç§å¼•ç”¨å¼ºå¼±è½¯è™š">Javaçš„å››ç§å¼•ç”¨ï¼Œå¼ºå¼±è½¯è™š</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#æ³›å‹">æ³›å‹</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#javaåˆ›å»ºå¯¹è±¡æœ‰å‡ ç§æ–¹å¼">Javaåˆ›å»ºå¯¹è±¡æœ‰å‡ ç§æ–¹å¼ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#è§£å†³å“ˆå¸Œå†²çªçš„æ–¹æ³•">è§£å†³å“ˆå¸Œå†²çªçš„æ–¹æ³•ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#æ·±æ‹·è´å’Œæµ…æ‹·è´">æ·±æ‹·è´å’Œæµ…æ‹·è´</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#finalæœ‰å“ªäº›ç”¨æ³•">finalæœ‰å“ªäº›ç”¨æ³•?</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#staticéƒ½æœ‰å“ªäº›ç”¨æ³•">staticéƒ½æœ‰å“ªäº›ç”¨æ³•?</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#aabä¸abæœ‰ä»€ä¹ˆåŒºåˆ«å—">a=a+bä¸a+=bæœ‰ä»€ä¹ˆåŒºåˆ«å—?</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#finallyçš„æ‰§è¡Œæœºåˆ¶">finallyçš„æ‰§è¡Œæœºåˆ¶</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ä»€ä¹ˆæƒ…å†µä¸‹finallyä¸æ‰§è¡Œ">ä»€ä¹ˆæƒ…å†µä¸‹finallyä¸æ‰§è¡Œï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#excptionä¸erroråŒ…ç»“æ„">Excptionä¸ErroråŒ…ç»“æ„</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#oomä½ é‡åˆ°è¿‡å“ªäº›æƒ…å†µsofä½ é‡åˆ°è¿‡å“ªäº›æƒ…å†µ">OOMä½ é‡åˆ°è¿‡å“ªäº›æƒ…å†µï¼ŒSOFä½ é‡åˆ°è¿‡å“ªäº›æƒ…å†µï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ç®€è¿°çº¿ç¨‹ç¨‹åºè¿›ç¨‹çš„åŸºæœ¬æ¦‚å¿µä»¥åŠä»–ä»¬ä¹‹é—´å…³ç³»æ˜¯ä»€ä¹ˆ">ç®€è¿°çº¿ç¨‹ã€ç¨‹åºã€è¿›ç¨‹çš„åŸºæœ¬æ¦‚å¿µã€‚ä»¥åŠä»–ä»¬ä¹‹é—´å…³ç³»æ˜¯ä»€ä¹ˆ?</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#æœ‰äº›å­—æ®µä¸æƒ³è¿›è¡Œåºåˆ—åŒ–">æœ‰äº›å­—æ®µä¸æƒ³è¿›è¡Œåºåˆ—åŒ–ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#è¯´è¯´java-ä¸­-io-æµ">è¯´è¯´Java ä¸­ IO æµ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#javaåå°„çš„ä½œç”¨ä¸åŸç†">Javaåå°„çš„ä½œç”¨ä¸åŸç†</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#listsetmapä¸‰è€…çš„åŒºåˆ«">List,Set,Mapä¸‰è€…çš„åŒºåˆ«ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#objectçš„æ–¹æ³•">Objectçš„æ–¹æ³•ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#è·å–ä¸€ä¸ªç±»classå¯¹è±¡çš„æ–¹å¼æœ‰å“ªäº›">è·å–ä¸€ä¸ªç±»Classå¯¹è±¡çš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ä¸ºä»€ä¹ˆarrayslistä¸å®‰å…¨">ä¸ºä»€ä¹ˆArraysListä¸å®‰å…¨ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#è¯´è¯´ä»€ä¹ˆæ˜¯-fail-fast">è¯´è¯´ä»€ä¹ˆæ˜¯ fail-fastï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#hashmap-ä¸­çš„-key-æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»»ä½•ç±»ä½œä¸º-key-å—">HashMap ä¸­çš„ key æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»»ä½•ç±»ä½œä¸º key å—ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#hashmap-ä¸-concurrenthashmap-çš„å¼‚åŒ">HashMap ä¸ ConcurrentHashMap çš„å¼‚åŒ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#è¯´è¯´ä½ å¹³æ—¶æ˜¯æ€ä¹ˆå¤„ç†-java-å¼‚å¸¸çš„">è¯´è¯´ä½ å¹³æ—¶æ˜¯æ€ä¹ˆå¤„ç† Java å¼‚å¸¸çš„ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ä»€ä¹ˆæ˜¯jdkä»€ä¹ˆæ˜¯jre">ä»€ä¹ˆæ˜¯JDKï¼Ÿä»€ä¹ˆæ˜¯JRE?</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ä¸ºä»€ä¹ˆé‡å†™equalsä¸€å®šè¦é‡å†™hashcode">ä¸ºä»€ä¹ˆé‡å†™equalsä¸€å®šè¦é‡å†™hashcodeï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#æ¥å£å’ŒæŠ½è±¡ç±»çš„åŒºåˆ«">æ¥å£å’ŒæŠ½è±¡ç±»çš„åŒºåˆ«ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#error-å’Œ-exception-çš„åŒºåˆ«">Error å’Œ Exception çš„åŒºåˆ«?</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#å¸¸è§çš„æ£€æŸ¥å¼‚å¸¸å’Œéæ£€æŸ¥å¼‚å¸¸">å¸¸è§çš„æ£€æŸ¥å¼‚å¸¸å’Œéæ£€æŸ¥å¼‚å¸¸ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#oop">OOP</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ä¿®é¥°ç¬¦">ä¿®é¥°ç¬¦</a></div><ul class="outline-children"></ul></li></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#javase">JavaSE</a></div><ul class="outline-children"><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#å¤šçº¿ç¨‹">å¤šçº¿ç¨‹</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#åå°„">åå°„</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#æ³¨è§£">æ³¨è§£</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ioæµ">IOæµ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ç½‘ç»œç¼–ç¨‹">ç½‘ç»œç¼–ç¨‹</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#javaé›†åˆ">Javaé›†åˆ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#java8æ–°ç‰¹æ€§">Java8æ–°ç‰¹æ€§</a></div><ul class="outline-children"></ul></li></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#juc">JUC</a></div><ul class="outline-children"><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ç›¸å…³æ¦‚å¿µ">ç›¸å…³æ¦‚å¿µ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ä¸é›†åˆå®‰å…¨ç±»">ä¸é›†åˆå®‰å…¨ç±»</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#callable">Callable</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ä¸‰å¤§è¾…åŠ©ç±»">ä¸‰å¤§è¾…åŠ©ç±»</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#è¯»å†™é”">è¯»å†™é”</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#é˜»å¡é˜Ÿåˆ—">é˜»å¡é˜Ÿåˆ—</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#çº¿ç¨‹æ± ">çº¿ç¨‹æ± </a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#jmm">JMM</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#volatile">volatile</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#å•ä¾‹æ¨¡å¼">å•ä¾‹æ¨¡å¼</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#cas">CAS</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#abaé—®é¢˜">ABAé—®é¢˜</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#javaé”">Javaé”</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#waitsleepçš„åŒºåˆ«">wait/sleepçš„åŒºåˆ«ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#volatileä¸ºä»€ä¹ˆä¸èƒ½ä¿è¯åŸå­æ€§">volatileä¸ºä»€ä¹ˆä¸èƒ½ä¿è¯åŸå­æ€§ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#volatileå’ŒsynchronizedåŒºåˆ«">volatileå’ŒsynchronizedåŒºåˆ«</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#lock-å’Œ-synchronizedçš„åŒºåˆ«">Lock å’Œ Synchronizedçš„åŒºåˆ«ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#copyonwritearraylistä¸ºä»€ä¹ˆå¹¶å‘å®‰å…¨ä¸”æ€§èƒ½æ¯”vectorå¥½">CopyOnWriteArrayListä¸ºä»€ä¹ˆå¹¶å‘å®‰å…¨ä¸”æ€§èƒ½æ¯”Vectorå¥½ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ç‹¬å é”å†™é”å…±äº«é”è¯»é”">ç‹¬å é”(å†™é”)ã€å…±äº«é”(è¯»é”)</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#å…¬å¹³é”å’Œéå…¬å¹³é”">å…¬å¹³é”å’Œéå…¬å¹³é”</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ä¸ºä»€ä¹ˆä½¿ç”¨blockingqueue">ä¸ºä»€ä¹ˆä½¿ç”¨BlockingQueueï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#è§¦å‘çº¿ç¨‹æ± çš„æ‹’ç»ç­–ç•¥çš„æ—¶æœº">è§¦å‘çº¿ç¨‹æ± çš„æ‹’ç»ç­–ç•¥çš„æ—¶æœºï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#çº¿ç¨‹æ± ç”¨å“ªä¸ªä¸ºä»€ä¹ˆä¸ç”¨executors">çº¿ç¨‹æ± ç”¨å“ªä¸ªï¼Ÿä¸ºä»€ä¹ˆä¸ç”¨Executorsï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ç”Ÿäº§ä¸­å¦‚ä½•è®¾ç½®åˆç†å‚æ•°">ç”Ÿäº§ä¸­å¦‚ä½•è®¾ç½®åˆç†å‚æ•°ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#çº¿ç¨‹æ± çš„æ‰§è¡ŒåŸç†">çº¿ç¨‹æ± çš„æ‰§è¡ŒåŸç†ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#çº¿ç¨‹æ˜¯å¦è¶Šå¤šè¶Šå¥½">çº¿ç¨‹æ˜¯å¦è¶Šå¤šè¶Šå¥½ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#atomicintegergetandincrementçš„è‡ªå¢--1å¦‚ä½•å®ç°">atomicInteger.getAndIncrement()çš„è‡ªå¢ + 1å¦‚ä½•å®ç°ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#synchronizedå®ç°åŸç†">synchronizedå®ç°åŸç†ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#synchronizedæ—©æœŸæ•ˆç‡ä½">synchronizedæ—©æœŸæ•ˆç‡ä½ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#å¯¹è±¡çš„å†…å­˜å¸ƒå±€">å¯¹è±¡çš„å†…å­˜å¸ƒå±€</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#é”æ¶ˆé™¤å’Œé”ç²—åŒ–">é”æ¶ˆé™¤å’Œé”ç²—åŒ–</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#synchronizedä¼˜åŒ–é”ä¼˜åŒ–">synchronizedä¼˜åŒ–(é”ä¼˜åŒ–)</a></div><ul class="outline-children"></ul></li></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#jvm">JVM</a></div><ul class="outline-children"><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#å®šä¹‰">å®šä¹‰</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ç‰¹ç‚¹">ç‰¹ç‚¹</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ç±»åŠ è½½å­ç³»ç»Ÿ">ç±»åŠ è½½å­ç³»ç»Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ç¨‹åºè®¡æ•°å™¨pc">ç¨‹åºè®¡æ•°å™¨(PC)</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#è™šæ‹Ÿæœºæ ˆ">è™šæ‹Ÿæœºæ ˆ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#æœ¬åœ°æ–¹æ³•æ¥å£">æœ¬åœ°æ–¹æ³•æ¥å£</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#æœ¬åœ°æ–¹æ³•æ ˆ">æœ¬åœ°æ–¹æ³•æ ˆ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#å †">å †</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#æ–¹æ³•åŒºå…ƒç©ºé—´">æ–¹æ³•åŒº(å…ƒç©ºé—´)</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#å¯¹è±¡çš„å®ä¾‹åŒ–">å¯¹è±¡çš„å®ä¾‹åŒ–</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#æ‰§è¡Œå¼•æ“">æ‰§è¡Œå¼•æ“</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#åƒåœ¾å›æ”¶">åƒåœ¾å›æ”¶</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#å­ä¸»é¢˜-29">å­ä¸»é¢˜ 29</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ç±»å‘ç”Ÿåˆå§‹åŒ–çš„æ—¶æœº">ç±»å‘ç”Ÿåˆå§‹åŒ–çš„æ—¶æœºï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#åŠ è½½classæ–‡ä»¶çš„æ–¹å¼">åŠ è½½classæ–‡ä»¶çš„æ–¹å¼ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ä¸ºä»€ä¹ˆè¦æŠŠç¬¦å·å¼•ç”¨è½¬ä¸ºç›´æ¥å¼•ç”¨">ä¸ºä»€ä¹ˆè¦æŠŠç¬¦å·å¼•ç”¨è½¬ä¸ºç›´æ¥å¼•ç”¨ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ä¸ºä»€ä¹ˆè¦è‡ªå®šä¹‰ç±»åŠ è½½å™¨">ä¸ºä»€ä¹ˆè¦è‡ªå®šä¹‰ç±»åŠ è½½å™¨ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#javaå †heapè·Ÿæ ˆstackçš„åŒºåˆ«">Javaå †(Heap)è·Ÿæ ˆ(Stack)çš„åŒºåˆ«ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#æ ˆå¯èƒ½å‡ºç°çš„é—®é¢˜">æ ˆå¯èƒ½å‡ºç°çš„é—®é¢˜ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ä¸¾ä¾‹æ ˆæº¢å‡ºoomçš„æƒ…å†µ">ä¸¾ä¾‹æ ˆæº¢å‡º(OOM)çš„æƒ…å†µï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#è°ƒæ•´æ ˆå¤§å°å°±èƒ½ä¿è¯ä¸å‡ºç°æº¢å‡ºä¹ˆ">è°ƒæ•´æ ˆå¤§å°ï¼Œå°±èƒ½ä¿è¯ä¸å‡ºç°æº¢å‡ºä¹ˆï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#åˆ†é…çš„æ ˆå†…å­˜è¶Šå¤§è¶Šå¥½ä¹ˆ">åˆ†é…çš„æ ˆå†…å­˜è¶Šå¤§è¶Šå¥½ä¹ˆï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#åƒåœ¾å›æ”¶æ˜¯å¦æ¶‰åŠåˆ°è™šæ‹Ÿæœºæ ˆ">åƒåœ¾å›æ”¶æ˜¯å¦æ¶‰åŠåˆ°è™šæ‹Ÿæœºæ ˆï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#æ–¹æ³•ä¸­å®šä¹‰çš„å±€éƒ¨å˜é‡æ˜¯å¦çº¿ç¨‹å®‰å…¨">æ–¹æ³•ä¸­å®šä¹‰çš„å±€éƒ¨å˜é‡æ˜¯å¦çº¿ç¨‹å®‰å…¨ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ä¸ºä»€ä¹ˆprivateä¿®é¥°çš„æ–¹æ³•æ— æ³•thisè°ƒç”¨">ä¸ºä»€ä¹ˆprivateä¿®é¥°çš„æ–¹æ³•æ— æ³•thisè°ƒç”¨ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#é™æ€å˜é‡å’Œå±€éƒ¨å˜é‡çš„åŒºåˆ«">é™æ€å˜é‡å’Œå±€éƒ¨å˜é‡çš„åŒºåˆ«ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#æ ˆé¡¶ç¼“å­˜æŠ€æœ¯">æ ˆé¡¶ç¼“å­˜æŠ€æœ¯ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ä¸ºä»€ä¹ˆéœ€è¦å¸¸é‡æ± è¿è¡Œæ—¶å¸¸é‡æ± ">ä¸ºä»€ä¹ˆéœ€è¦å¸¸é‡æ± ã€è¿è¡Œæ—¶å¸¸é‡æ± ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#æ–¹æ³•ç»“æŸçš„æ–¹å¼">æ–¹æ³•ç»“æŸçš„æ–¹å¼ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#è¿è¡Œæ—¶æ•°æ®åŒºæ˜¯å¦å­˜åœ¨errorå’Œgc">è¿è¡Œæ—¶æ•°æ®åŒºï¼Œæ˜¯å¦å­˜åœ¨Errorå’ŒGCï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ä»€ä¹ˆæ˜¯stw">ä»€ä¹ˆæ˜¯STWï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ä¸ºä»€ä¹ˆè¦æŠŠjavaå †åˆ†ä»£ä¸åˆ†ä»£å°±ä¸èƒ½æ­£å¸¸å·¥ä½œäº†å—">ä¸ºä»€ä¹ˆè¦æŠŠJavaå †åˆ†ä»£ï¼Ÿä¸åˆ†ä»£å°±ä¸èƒ½æ­£å¸¸å·¥ä½œäº†å—ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#å †ç©ºé—´éƒ½æ˜¯å…±äº«çš„å—">å †ç©ºé—´éƒ½æ˜¯å…±äº«çš„å—ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ä¸ºä»€ä¹ˆæœ‰tlab">ä¸ºä»€ä¹ˆæœ‰TLABï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#å †æ˜¯åˆ†é…å¯¹è±¡çš„å”¯ä¸€é€‰æ‹©ä¹ˆ">å †æ˜¯åˆ†é…å¯¹è±¡çš„å”¯ä¸€é€‰æ‹©ä¹ˆï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#å…ƒç©ºé—´ä¸æ°¸ä¹…ä»£çš„åŒºåˆ«">å…ƒç©ºé—´ä¸æ°¸ä¹…ä»£çš„åŒºåˆ«ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#å¦‚ä½•è§£å†³oom">å¦‚ä½•è§£å†³OOMï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#staticå’Œstatic-finalçš„åŒºåˆ«">staticå’Œstatic finalçš„åŒºåˆ«?</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#hotspotæ–¹æ³•åŒºçš„å˜åŒ–">Hotspotæ–¹æ³•åŒºçš„å˜åŒ–ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ä¸ºä»€ä¹ˆæ°¸ä¹…ä»£è¦è¢«å…ƒç©ºé—´æ›¿ä»£">ä¸ºä»€ä¹ˆæ°¸ä¹…ä»£è¦è¢«å…ƒç©ºé—´æ›¿ä»£ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#stringtableä¸ºä»€ä¹ˆè¦è°ƒæ•´ä½ç½®">StringTableä¸ºä»€ä¹ˆè¦è°ƒæ•´ä½ç½®ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ä»€ä¹ˆæ˜¯ç›´æ¥å†…å­˜">ä»€ä¹ˆæ˜¯ç›´æ¥å†…å­˜ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ä¸ºä»€ä¹ˆéœ€è¦gc">ä¸ºä»€ä¹ˆéœ€è¦gcï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ä¸è¦ä¸»åŠ¨è°ƒç”¨æŸä¸ªå¯¹è±¡çš„finalizeæ–¹æ³•åº”è¯¥äº¤ç»™åƒåœ¾å›æ”¶æœºåˆ¶è°ƒç”¨">ä¸è¦ä¸»åŠ¨è°ƒç”¨æŸä¸ªå¯¹è±¡çš„finalizeæ–¹æ³•,åº”è¯¥äº¤ç»™åƒåœ¾å›æ”¶æœºåˆ¶è°ƒç”¨ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#åˆ†ä»£ç®—æ³•å’Œåˆ†åŒºç®—æ³•çš„åŒºåˆ«">åˆ†ä»£ç®—æ³•å’Œåˆ†åŒºç®—æ³•çš„åŒºåˆ«ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ä½ å¼€å‘ä¸­ä½¿ç”¨è¿‡weakhashmapå—">ä½ å¼€å‘ä¸­ä½¿ç”¨è¿‡WeakHashMapå—ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#cmsä¸ºä»€ä¹ˆä¸ä½¿ç”¨æ ‡è®°æ•´ç†ç®—æ³•">CMSä¸ºä»€ä¹ˆä¸ä½¿ç”¨æ ‡è®°æ•´ç†ç®—æ³•ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ä¸ºä»€ä¹ˆcmsæ˜¯ä½å»¶è¿Ÿçš„">ä¸ºä»€ä¹ˆCMSæ˜¯ä½å»¶è¿Ÿçš„ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3 outline-item-single"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#g1è®¾ç½®hçš„åŸå› ">G1è®¾ç½®Hçš„åŸå› ï¼Ÿ</a></div><ul class="outline-children"></ul></li></ul></li></ul></li></div></div><div id='write'  class=''><h1 id='java'><span>Java</span></h1><h2 id='javaåŸºç¡€'><span>JavaåŸºç¡€</span></h2><h3 id='ä¸equalsçš„åŒºåˆ«'><span>==ä¸equalsçš„åŒºåˆ«ï¼Ÿ</span></h3><ul><li><span>1ã€==æ¯”è¾ƒçš„æ˜¯ä¸¤ä¸ªå˜é‡æˆ–å®ä¾‹æ˜¯ä¸æ˜¯æŒ‡å‘åŒä¸€ä¸ªå†…å­˜ç©ºé—´ï¼Œequalsæ¯”è¾ƒçš„æ˜¯ä¸¤ä¸ªå˜é‡æˆ–å®ä¾‹æ˜¯ä¸æ˜¯æŒ‡å‘åŒä¸€ä¸ªå†…å­˜ç©ºé—´çš„å€¼æ˜¯å¦ç›¸åŒ</span></li><li><span>2ã€Objectç±»çš„equalsé»˜è®¤æ¯”è¾ƒçš„æ˜¯å†…å­˜åœ°å€ï¼Œè‡ªå®šä¹‰çš„å®ç°ç±»éœ€è¦é‡å†™equalsæ‰èƒ½æ¯”è¾ƒå€¼ã€‚</span></li></ul><h3 id='javaè¯­è¨€çš„ç‰¹ç‚¹'><span>Javaè¯­è¨€çš„ç‰¹ç‚¹</span></h3><ul><li><p><span>1ã€ç®€å•æ˜“å­¦ã€æœ‰ä¸°å¯Œçš„ç±»åº“</span></p></li><li><p><span>2ã€é¢å‘å¯¹è±¡ï¼ˆJavaæœ€é‡è¦çš„ç‰¹æ€§ï¼Œè®©ç¨‹åºè€¦åˆåº¦æ›´ä½ï¼Œå†…èšæ€§æ›´é«˜ï¼‰</span></p></li><li><p><span>3ã€ä¸å¹³å°æ— å…³æ€§ï¼ˆJVMæ˜¯Javaè·¨å¹³å°ä½¿ç”¨çš„æ ¹æœ¬ï¼‰</span></p><ul><li><span>åªå…³å¿ƒå­—èŠ‚ç æ–‡ä»¶</span></li></ul></li><li><p><span>4ã€å¯é å®‰å…¨</span></p></li><li><p><span>5ã€æ”¯æŒå¤šçº¿ç¨‹</span></p></li></ul><h3 id='é¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹çš„åŒºåˆ«'><span>é¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹çš„åŒºåˆ«</span></h3><ul><li><p><span>é¢å‘è¿‡ç¨‹</span></p><ul><li><span>æ˜¯åˆ†æè§£å†³é—®é¢˜çš„æ­¥éª¤ï¼Œç„¶åç”¨å‡½æ•°æŠŠè¿™äº›æ­¥éª¤ä¸€æ­¥ä¸€æ­¥åœ°å®ç°ï¼Œç„¶ååœ¨ä½¿ç”¨çš„æ—¶å€™ä¸€ä¸€è°ƒç”¨åˆ™å¯ã€‚</span></li></ul></li><li><p><span>é¢å‘å¯¹è±¡</span></p><ul><li><span>æŠŠæ„æˆé—®é¢˜çš„äº‹åŠ¡åˆ†è§£æˆå„ä¸ªå¯¹è±¡ï¼Œè€Œå»ºç«‹å¯¹è±¡çš„ç›®çš„ä¹Ÿä¸æ˜¯ä¸ºäº†å®Œæˆä¸€ä¸ªä¸ªæ­¥éª¤ï¼Œè€Œæ˜¯ä¸ºäº†æè¿°æŸä¸ªäº‹ç‰©åœ¨è§£å†³æ•´ä¸ªé—®é¢˜çš„è¿‡ç¨‹ä¸­æ‰€å‘ç”Ÿçš„è¡Œä¸ºã€‚</span></li><li><span>å°è£…ã€ç»§æ‰¿ã€å¤šæ€</span></li></ul></li></ul><h3 id='å…«ç§åŸºæœ¬æ•°æ®ç±»å‹çš„å¤§å°ä»¥åŠä»–ä»¬çš„å°è£…ç±»'><span>å…«ç§åŸºæœ¬æ•°æ®ç±»å‹çš„å¤§å°ï¼Œä»¥åŠä»–ä»¬çš„å°è£…ç±»</span></h3><ul><li><p><span>å­ä¸»é¢˜ 1</span></p></li><li><p><span>æ³¨æ„äº‹é¡¹</span></p><ul><li><p><span>1ã€intæ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼ŒIntegeræ˜¯intçš„å°è£…ç±»ï¼Œæ˜¯å¼•ç”¨ç±»å‹ã€‚</span></p></li><li><p><span>2ã€åŸºæœ¬æ•°æ®ç±»å‹åœ¨å£°æ˜æ—¶ç³»ç»Ÿä¼šè‡ªåŠ¨ç»™å®ƒåˆ†é…ç©ºé—´ï¼Œè€Œå¼•ç”¨ç±»å‹å£°æ˜æ—¶åªæ˜¯åˆ†é…äº†å¼•ç”¨ç©ºé—´ï¼Œå¿…é¡»é€šè¿‡å®ä¾‹åŒ–å¼€è¾Ÿæ•°æ®ç©ºé—´ä¹‹åæ‰å¯ä»¥èµ‹å€¼ã€‚æ•°ç»„å¯¹è±¡ä¹Ÿæ˜¯ä¸€ä¸ªå¼•ç”¨å¯¹è±¡ï¼Œå°†ä¸€ä¸ªæ•°ç»„èµ‹å€¼ç»™å¦ä¸€ä¸ªæ•°ç»„æ—¶åªæ˜¯å¤åˆ¶äº†ä¸€ä¸ªå¼•ç”¨ï¼Œæ‰€ä»¥é€šè¿‡æŸä¸€ä¸ªæ•°ç»„æ‰€åšçš„ä¿®æ”¹åœ¨å¦ä¸€ä¸ªæ•°ç»„ä¸­ä¹Ÿçœ‹çš„è§ã€‚</span></p></li><li><p><span>3ã€å‡ºbooleanç±»å‹å äº†å•ç‹¬ä½¿ç”¨æ˜¯4ä¸ªå­—èŠ‚ï¼Œåœ¨æ•°ç»„ä¸­åˆæ˜¯1ä¸ªå­—èŠ‚</span></p><ul><li><span>32ä½çš„å¤„ç†å™¨ï¼ˆCPUï¼‰æ¥è¯´ï¼Œä¸€æ¬¡å¤„ç†æ•°æ®æ˜¯32ä½</span></li></ul></li><li><p><span>4ã€Javaä¸­åªæœ‰å¯¹åŸºæœ¬ç±»å‹å˜é‡çš„èµ‹å€¼å’Œè¯»å–æ˜¯åŸå­æ“ä½œ(i=1)</span></p></li></ul></li><li><p><span>å®šä¹‰çš„æ•°æ®èŒƒå›´è¶…å‡ºç±»å‹çš„èŒƒå›´ï¼Œè‡ªåŠ¨è½¬æ¢ä¸ºæœ€å°å€¼</span></p></li></ul><h3 id='instanceof-å…³é”®å­—çš„ä½œç”¨'><span>instanceof å…³é”®å­—çš„ä½œç”¨</span></h3><ul><li><span>ç”¨æ¥æµ‹è¯•ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºä¸€ä¸ªç±»çš„å®ä¾‹(å¯¹è±¡æ˜¯å¦èƒ½è½¬æ¢ä¸ºå³è¾¹çš„Classç±»å‹)</span></li><li><span>çˆ¶å­ç±»</span></li></ul><h3 id='javaè‡ªåŠ¨è£…ç®±ä¸æ‹†ç®±'><span>Javaè‡ªåŠ¨è£…ç®±ä¸æ‹†ç®±</span></h3><ul><li><p><span>è£…ç®±</span></p><ul><li><p><span>è£…ç®±å°±æ˜¯è‡ªåŠ¨å°†åŸºæœ¬æ•°æ®ç±»å‹è½¬æ¢ä¸ºåŒ…è£…å™¨ç±»å‹</span></p><ul><li><span>Integer.valueOf(int)</span></li></ul></li></ul></li><li><p><span>æ‹†ç®±</span></p><ul><li><p><span>è‡ªåŠ¨å°†åŒ…è£…å™¨ç±»å‹è½¬æ¢ä¸ºåŸºæœ¬æ•°æ®ç±»å‹</span></p><ul><li><span>Integer.intValue()</span></li></ul></li></ul></li><li><p><span>åœ¨é€šè¿‡valueOfæ–¹æ³•åˆ›å»ºIntegerå¯¹è±¡çš„æ—¶å€™ï¼Œå¦‚æœæ•°å€¼åœ¨[-128,127]ä¹‹é—´ï¼Œä¾¿è¿”å›æŒ‡å‘IntegerCache.cacheä¸­å·²ç»å­˜åœ¨çš„å¯¹è±¡çš„å¼•ç”¨ï¼›å¦åˆ™åˆ›å»ºä¸€ä¸ªæ–°çš„Integerå¯¹è±¡ã€‚</span></p></li><li><p><span>åœ¨æŸä¸ªèŒƒå›´å†…çš„æ•´å‹æ•°å€¼çš„ä¸ªæ•°æ˜¯æœ‰é™çš„ï¼Œè€Œæµ®ç‚¹æ•°å´ä¸æ˜¯ã€‚</span></p></li></ul><h3 id='é‡è½½å’Œé‡å†™çš„åŒºåˆ«'><span>é‡è½½å’Œé‡å†™çš„åŒºåˆ«</span></h3><ul><li><p><span>é‡å†™(Override)</span></p><ul><li><span>åœ¨å­ç±»ä¸­æŠŠçˆ¶ç±»æœ¬èº«æœ‰çš„æ–¹æ³•é‡æ–°å†™ä¸€éã€‚</span></li><li><span>æ–¹æ³•åï¼Œå‚æ•°åˆ—è¡¨ï¼Œè¿”å›ç±»å‹éƒ½ç›¸åŒ</span></li></ul></li><li><p><span>é‡è½½(OverLoad)</span></p><ul><li><span>åœ¨ä¸€ä¸ªç±»ä¸­ï¼ŒåŒåçš„æ–¹æ³•å¦‚æœæœ‰ä¸åŒçš„å‚æ•°åˆ—è¡¨ï¼ˆå‚æ•°ç±»å‹ä¸åŒã€å‚æ•°ä¸ªæ•°ä¸åŒç”šè‡³æ˜¯å‚æ•°é¡ºåºä¸åŒï¼‰</span></li><li><span>è¿”å›ç±»å‹å¯ä»¥ä¸åŒ</span></li></ul></li></ul><h3 id='equalså’Œçš„åŒºåˆ«'><span>equalså’Œ==çš„åŒºåˆ«</span></h3><ul><li><p><span>==</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>== æ¯”è¾ƒçš„æ˜¯å˜é‡(æ ˆ)å†…å­˜ä¸­å­˜æ”¾çš„å¯¹è±¡çš„(å †)å†…å­˜åœ°å€ï¼Œç”¨æ¥åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡çš„åœ°å€æ˜¯å¦ç›¸åŒã€‚</span></li></ul></li><li><p><span>å¦‚ä½•æ¯”è¾ƒ</span></p><ul><li><p><span>1ã€æ¯”è¾ƒçš„æ˜¯æ“ä½œç¬¦ä¸¤ç«¯çš„æ“ä½œæ•°æ˜¯å¦æ˜¯åŒä¸€ä¸ªå¯¹è±¡</span></p></li><li><p><span>2ã€ä¸¤è¾¹çš„æ“ä½œæ•°å¿…é¡»æ˜¯åŒä¸€ç±»å‹çš„ï¼ˆå¯ä»¥æ˜¯çˆ¶å­ç±»ä¹‹é—´ï¼‰ï¼Œæ‰èƒ½é€šè¿‡ç¼–è¯‘</span></p></li><li><p><span>3ã€æ¯”è¾ƒçš„æ˜¯åœ°å€</span></p><ul><li><span>å¦‚æœæ˜¯å…·ä½“çš„é˜¿æ‹‰ä¼¯æ•°å­—çš„æ¯”è¾ƒï¼Œå€¼ç›¸ç­‰åˆ™ä¸ºtrueï¼Œint a=10 ä¸ long b=10L ä¸ double c=10.0éƒ½æ˜¯ç›¸åŒçš„ï¼ˆä¸ºtrueï¼‰ï¼Œéƒ½æŒ‡å‘åœ°å€ä¸º10çš„å †ã€‚</span></li></ul></li></ul></li><li><p><span>æ³¨æ„äº‹é¡¹</span></p><ul><li><span>åŸºæœ¬å‹å’ŒåŸºæœ¬å‹å°è£…å‹è¿›è¡Œâ€œ==â€è¿ç®—ç¬¦çš„æ¯”è¾ƒï¼ŒåŸºæœ¬å‹å°è£…å‹å°†ä¼šè‡ªåŠ¨æ‹†ç®±å˜ä¸ºåŸºæœ¬å‹åå†è¿›è¡Œæ¯”è¾ƒ</span></li><li><span>ä¸¤ä¸ªIntegerç±»å‹è¿›è¡Œâ€œ==â€æ¯”è¾ƒï¼Œ åˆ¤æ–­å…¶å€¼æ˜¯å¦åœ¨-128è‡³127ä¹‹é—´(è¿›è¡Œç¼“å­˜)ï¼Œå¦åˆ™ç”Ÿæˆæ–°çš„Integerå¯¹è±¡</span></li></ul></li></ul></li><li><p><span>equals</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>equalsç”¨æ¥æ¯”è¾ƒçš„æ˜¯ä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹æ˜¯å¦ç›¸ç­‰</span></li></ul></li><li><p><span>æ³¨æ„äº‹é¡¹</span></p><ul><li><span>1ã€éœ€è¦å®ç°å¯¹equalsçš„é‡å†™æˆ–è¦†ç›–ï¼ŒåŸæœ¬æ˜¯Objectä¸­çš„equals()ï¼Œç­‰æ•ˆäº==</span></li><li><span>2ã€ä¸¤ä¸ªåŸºæœ¬å‹çš„å°è£…å‹è¿›è¡Œequals()æ¯”è¾ƒï¼Œé¦–å…ˆæ¯”è¾ƒç±»å‹ï¼Œå†æ¯”è¾ƒå€¼</span></li><li><span>3ã€åŸºæœ¬å‹å°è£…ç±»å‹è°ƒç”¨equals(),ä½†æ˜¯å‚æ•°æ˜¯åŸºæœ¬ç±»å‹ï¼Œè¿™æ—¶å€™ï¼Œå…ˆä¼šè¿›è¡Œè‡ªåŠ¨è£…ç®±ï¼ŒåŸºæœ¬å‹è½¬æ¢ä¸ºå…¶å°è£…ç±»å‹ï¼Œå†è¿›è¡Œæ¯”è¾ƒ</span></li><li><span>4ã€ä¸å¸¸é‡æ¯”è¾ƒæ—¶ï¼ŒæŠŠå¸¸é‡æ”¾å‰é¢ï¼Œé˜²æ­¢ç©ºæŒ‡é’ˆ</span></li></ul></li></ul></li></ul><h3 id='hashcodeçš„ä½œç”¨'><span>Hashcodeçš„ä½œç”¨</span></h3><ul><li><span>hashCodeæ ¹æ®å¯¹è±¡çš„å†…å­˜åœ°å€æ¢ç®—å‡ºçš„ä¸€ä¸ªå€¼ï¼Œç”¨æ¥åœ¨æ•£åˆ—å­˜å‚¨ç»“æ„ä¸­ç¡®å®šå¯¹è±¡çš„å­˜å‚¨åœ°å€çš„</span></li></ul><h3 id='stringstring-stringbuffer-å’Œ-stringbuilder-çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ'><span>Stringã€String StringBuffer å’Œ StringBuilder çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</span></h3><ul><li><span>Stringæ˜¯åªè¯»å­—ç¬¦ä¸²ï¼Œå®ƒå¹¶ä¸æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼Œè€Œæ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚åº•å±‚æ˜¯finalç±»å‹çš„å­—ç¬¦æ•°ç»„ï¼Œæ¯æ¬¡æ“ä½œStringéƒ½ä¼šnew Stringã€‚</span></li><li><span>StringBufferå’ŒStringBuilderä»–ä»¬ä¸¤éƒ½ç»§æ‰¿äº†AbstractStringBuilderæŠ½è±¡ç±»ï¼Œåº•å±‚éƒ½æ˜¯å¯å˜çš„å­—ç¬¦æ•°ç»„</span></li><li><span>StringBuffer å¯¹æ–¹æ³•åŠ äº†åŒæ­¥é”æˆ–è€…å¯¹è°ƒç”¨çš„æ–¹æ³•åŠ äº†åŒæ­¥é”ï¼Œçº¿ç¨‹å®‰å…¨ã€‚</span></li></ul><h3 id='arraylistå’Œlinkedlistçš„åŒºåˆ«'><span>ArrayListå’ŒlinkedListçš„åŒºåˆ«</span></h3><ul><li><p><span>Arrayï¼ˆæ•°ç»„ï¼‰</span></p><ul><li><span>åŸºäºç´¢å¼•(index)çš„æ•°æ®ç»“æ„ï¼Œå®ƒä½¿ç”¨ç´¢å¼•åœ¨æ•°ç»„ä¸­æœç´¢å’Œè¯»å–æ•°æ®æ˜¯å¾ˆå¿«çš„ã€‚</span></li><li><span>æ·»åŠ /åˆ é™¤æ•ˆç‡ä½ï¼Œè¦ç§»åŠ¨å‰åçš„å…ƒç´ </span></li></ul></li><li><p><span>List(é›†åˆ)</span></p><ul><li><span>æ˜¯ä¸€ä¸ªæœ‰åºçš„é›†åˆï¼Œå¯ä»¥åŒ…å«é‡å¤çš„å…ƒç´ ï¼Œæä¾›äº†æŒ‰ç´¢å¼•è®¿é—®çš„æ–¹å¼ï¼Œå®ƒç»§æ‰¿Collectionã€‚</span></li></ul></li><li><p><span>ArrayList</span></p><ul><li><span>åº•å±‚çš„å®ç°æ˜¯Array, æ•°ç»„æ‰©å®¹å®ç°åŸºäºåŠ¨æ€æ•°ç»„çš„æ•°æ®ç»“æ„</span></li></ul></li><li><p><span>LinkedList</span></p><ul><li><span>åœ¨æ·»åŠ å’Œåˆ é™¤å…ƒç´ æ—¶å…·æœ‰æ¯”ArrayListæ›´å¥½çš„æ€§èƒ½.ä½†åœ¨getä¸setæ–¹é¢å¼±äºArrayListã€‚</span></li></ul></li></ul><h3 id='hashmapå’Œhashtableçš„åŒºåˆ«'><span>HashMapå’ŒHashTableçš„åŒºåˆ«</span></h3><ul><li><span>1ã€ä¸¤è€…çˆ¶ç±»ä¸åŒ</span></li><li><span>2ã€å¯¹å¤–æä¾›çš„æ¥å£ä¸åŒ</span></li><li><span>3ã€å¯¹nullçš„æ”¯æŒä¸åŒ</span></li><li><span>4ã€å®‰å…¨æ€§ä¸åŒ</span></li><li><span>5ã€åˆå§‹å®¹é‡å¤§å°å’Œæ¯æ¬¡æ‰©å……å®¹é‡å¤§å°ä¸åŒ</span></li><li><span>6ã€è®¡ç®—hashå€¼çš„æ–¹æ³•ä¸åŒ</span></li></ul><h3 id='collectionåŒ…ç»“æ„ä¸collectionsçš„åŒºåˆ«'><span>CollectionåŒ…ç»“æ„ï¼Œä¸Collectionsçš„åŒºåˆ«</span></h3><ul><li><span>Collectionæ˜¯é›†åˆç±»çš„ä¸Šçº§æ¥å£ï¼Œå­æ¥å£æœ‰ Setã€Listã€LinkedListã€ArrayListã€Vectorã€Stackã€Set</span></li><li><span>Collectionsæ˜¯é›†åˆç±»çš„ä¸€ä¸ªå¸®åŠ©ç±»ï¼Œ å®ƒåŒ…å«æœ‰å„ç§æœ‰å…³é›†åˆæ“ä½œçš„é™æ€å¤šæ€æ–¹æ³•ï¼Œç”¨äºå®ç°å¯¹å„ç§é›†åˆçš„æœç´¢ã€æ’åºã€çº¿ç¨‹å®‰å…¨åŒ–ç­‰æ“ä½œã€‚</span></li></ul><h3 id='javaçš„å››ç§å¼•ç”¨å¼ºå¼±è½¯è™š'><span>Javaçš„å››ç§å¼•ç”¨ï¼Œå¼ºå¼±è½¯è™š</span></h3><ul><li><p><span>å¼ºå¼•ç”¨</span></p><ul><li><span>å¼ºå¼•ç”¨æ˜¯å¹³å¸¸ä¸­ä½¿ç”¨æœ€å¤šçš„å¼•ç”¨ï¼Œå¼ºå¼•ç”¨åœ¨ç¨‹åºå†…å­˜ä¸è¶³ï¼ˆOOMï¼‰çš„æ—¶å€™ä¹Ÿä¸ä¼šè¢«å›æ”¶</span></li></ul></li><li><p><span>è½¯å¼•ç”¨</span></p><ul><li><span>è½¯å¼•ç”¨åœ¨ç¨‹åºå†…å­˜ä¸è¶³æ—¶ï¼Œä¼šè¢«å›æ”¶ï¼Œ</span></li><li><span>åˆ›å»ºç¼“å­˜çš„æ—¶å€™ï¼Œåˆ›å»ºçš„å¯¹è±¡æ”¾è¿›ç¼“å­˜ä¸­ï¼Œå½“å†…å­˜ä¸è¶³æ—¶ï¼ŒJVMå°±ä¼šå›æ”¶æ—©å…ˆåˆ›å»ºçš„å¯¹è±¡ã€‚</span></li></ul></li><li><p><span>å¼±å¼•ç”¨</span></p><ul><li><span>å¼±å¼•ç”¨å°±æ˜¯åªè¦JVMåƒåœ¾å›æ”¶å™¨å‘ç°äº†å®ƒï¼Œå°±ä¼šå°†ä¹‹å›æ”¶</span></li><li><span>Javaæºç ä¸­çš„ java.util.WeakHashMap ä¸­çš„ key å°±æ˜¯ä½¿ç”¨å¼±å¼•ç”¨</span></li><li><span>ä¸€æ—¦æˆ‘ä¸éœ€è¦æŸä¸ªå¼•ç”¨ï¼ŒJVMä¼šè‡ªåŠ¨å¸®æˆ‘å¤„ç†å®ƒï¼Œè¿™æ ·æˆ‘å°±ä¸éœ€è¦åšå…¶å®ƒæ“ä½œ</span></li></ul></li><li><p><span>è™šå¼•ç”¨</span></p><ul><li><span>è·Ÿå¼±å¼•ç”¨å·®ä¸å¤šï¼Œä½†æ˜¯å®ƒè¢«å›æ”¶ä¹‹å‰ï¼Œä¼šè¢«æ”¾å…¥ ReferenceQueue ä¸­</span></li><li><span>å…¶å®ƒå¼•ç”¨æ˜¯è¢«JVMå›æ”¶åæ‰è¢«ä¼ å…¥ ReferenceQueue ä¸­çš„</span></li><li><span>è¢«ç”¨äºå¼•ç”¨é”€æ¯å‰çš„å¤„ç†å·¥ä½œ</span></li></ul></li></ul><h3 id='æ³›å‹'><span>æ³›å‹</span></h3><ul><li><p><span>å®šä¹‰</span></p><ul><li><p><span>ç¼–å†™çš„ä»£ç å¯ä»¥è¢«ä¸åŒç±»å‹çš„å¯¹è±¡æ‰€é‡ç”¨ã€‚</span></p></li><li><p><span>å…·ä½“æ‰§è¡Œçš„æ—¶å€™å´å¯ä»¥æœ‰å…·ä½“çš„è§„åˆ™æ¥çº¦æŸ</span></p><ul><li><span>ArraysList</span><Integer><span>()</span></li></ul></li></ul></li><li><p><span>å¥½å¤„</span></p><ul><li><span>æˆ‘ä»¬ä¸å¿…å› ä¸ºæ·»åŠ å…ƒç´ ç±»å‹çš„ä¸åŒè€Œå®šä¹‰ä¸åŒç±»å‹çš„é›†åˆ</span></li><li><span>åªè¦æŠŠåº•å±‚å­˜å‚¨è®¾ç½®äº†Object</span></li></ul></li></ul><h3 id='javaåˆ›å»ºå¯¹è±¡æœ‰å‡ ç§æ–¹å¼'><span>Javaåˆ›å»ºå¯¹è±¡æœ‰å‡ ç§æ–¹å¼ï¼Ÿ</span></h3><ul><li><p><span>åˆ›å»ºå¯¹è±¡çš„æ–¹å¼</span></p><ul><li><span>1ã€newï¼šæœ€å¸¸è§çš„æ–¹å¼ã€å•ä¾‹ç±»ä¸­è°ƒç”¨getInstanceçš„é™æ€ç±»æ–¹æ³•ï¼ŒXXXFactoryçš„é™æ€æ–¹æ³•</span></li><li><span>2ã€Classçš„newInstanceæ–¹æ³•ï¼šåœ¨JDK9é‡Œé¢è¢«æ ‡è®°ä¸ºè¿‡æ—¶çš„æ–¹æ³•ï¼Œå› ä¸ºåªèƒ½è°ƒç”¨ç©ºå‚æ„é€ å™¨</span></li><li><span>3ã€Constructorçš„newInstance(XXX)ï¼šåå°„çš„æ–¹å¼ï¼Œå¯ä»¥è°ƒç”¨ç©ºå‚çš„ï¼Œæˆ–è€…å¸¦å‚çš„æ„é€ å™¨</span></li><li><span>4ã€ä½¿ç”¨clone()ï¼šä¸è°ƒç”¨ä»»ä½•çš„æ„é€ å™¨ï¼Œè¦æ±‚å½“å‰çš„ç±»éœ€è¦å®ç°Cloneableæ¥å£ä¸­çš„cloneæ¥å£</span></li><li><span>5ã€ä½¿ç”¨åºåˆ—åŒ–ï¼šåºåˆ—åŒ–ä¸€èˆ¬ç”¨äºSocketçš„ç½‘ç»œä¼ è¾“</span></li><li><span>6ã€ç¬¬ä¸‰æ–¹åº“ Objenesis</span></li></ul></li></ul><h3 id='è§£å†³å“ˆå¸Œå†²çªçš„æ–¹æ³•'><span>è§£å†³å“ˆå¸Œå†²çªçš„æ–¹æ³•ï¼Ÿ</span></h3><ul><li><p><span>æ‹‰é“¾æ³•</span></p><ul><li><span>æ¯ä¸ªå“ˆå¸Œè¡¨èŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªnextæŒ‡é’ˆï¼Œè¢«åˆ†é…åˆ°åŒä¸€ä¸ªç´¢å¼•ä¸Šçš„å¤šä¸ªèŠ‚ç‚¹å¯ä»¥ç”¨è¿™ä¸ªå•å‘é“¾è¡¨è¿›è¡Œå­˜å‚¨.</span></li></ul></li><li><p><span>å¼€æ”¾å®šå€æ³•</span></p><ul><li><span>ä¸€æ—¦å‘ç”Ÿäº†å†²çª,å°±å»å¯»æ‰¾ä¸‹ä¸€ä¸ªç©ºçš„æ•£åˆ—åœ°å€</span></li></ul></li><li><p><span>å†å“ˆå¸Œ</span></p><ul><li><span>æœ‰å¤šä¸ªä¸åŒçš„Hashå‡½æ•°.å½“å‘ç”Ÿå†²çªæ—¶,ä½¿ç”¨ç¬¬äºŒä¸ª,ç¬¬ä¸‰ä¸ªâ€¦.ç­‰å“ˆå¸Œå‡½æ•°è®¡ç®—åœ°å€,ç›´åˆ°æ— å†²çª</span></li></ul></li></ul><h3 id='æ·±æ‹·è´å’Œæµ…æ‹·è´'><span>æ·±æ‹·è´å’Œæµ…æ‹·è´</span></h3><ul><li><p><span>æµ…æ‹·è´</span></p><ul><li><span>è¢«å¤åˆ¶å¯¹è±¡çš„æ‰€æœ‰å˜é‡éƒ½å«æœ‰ä¸åŸæ¥çš„å¯¹è±¡ç›¸åŒçš„å€¼,è€Œæ‰€æœ‰çš„å¯¹å…¶ä»–å¯¹è±¡çš„å¼•ç”¨ä»ç„¶æŒ‡å‘åŸæ¥çš„å¯¹è±¡ã€‚</span></li></ul></li><li><p><span>æ·±æ‹·è´</span></p><ul><li><span>è¢«å¤åˆ¶å¯¹è±¡çš„æ‰€æœ‰å˜é‡éƒ½å«æœ‰ä¸åŸæ¥çš„å¯¹è±¡ç›¸åŒçš„å€¼.è€Œé‚£äº›å¼•ç”¨å…¶ä»–å¯¹è±¡çš„å˜é‡å°†æŒ‡å‘è¢«å¤åˆ¶è¿‡çš„æ–°å¯¹è±¡</span></li><li><span>æ·±æ‹·è´æŠŠè¦å¤åˆ¶çš„å¯¹è±¡æ‰€å¼•ç”¨çš„å¯¹è±¡éƒ½å¤åˆ¶äº†ä¸€éã€‚</span></li></ul></li></ul><h3 id='finalæœ‰å“ªäº›ç”¨æ³•'><span>finalæœ‰å“ªäº›ç”¨æ³•?</span></h3><ul><li><span>è¢«finalä¿®é¥°çš„ç±»ä¸å¯ä»¥è¢«ç»§æ‰¿</span></li><li><span>è¢«finalä¿®é¥°çš„æ–¹æ³•ä¸å¯ä»¥è¢«é‡å†™</span></li><li><span>è¢«finalä¿®é¥°çš„å˜é‡ä¸å¯ä»¥è¢«æ”¹å˜.å¦‚æœä¿®é¥°å¼•ç”¨,é‚£ä¹ˆè¡¨ç¤ºå¼•ç”¨ä¸å¯å˜,å¼•ç”¨æŒ‡å‘çš„å†…å®¹å¯å˜</span></li><li><span>è¢«finalä¿®é¥°çš„æ–¹æ³•,JVMä¼šå°è¯•å°†å…¶å†…è”,ä»¥æé«˜è¿è¡Œæ•ˆç‡</span></li><li><span>è¢«finalä¿®é¥°çš„å¸¸é‡,åœ¨ç¼–è¯‘é˜¶æ®µä¼šå­˜å…¥å¸¸é‡æ± ä¸­</span></li></ul><h3 id='staticéƒ½æœ‰å“ªäº›ç”¨æ³•'><span>staticéƒ½æœ‰å“ªäº›ç”¨æ³•?</span></h3><ul><li><p><span>é™æ€å˜é‡</span></p></li><li><p><span>é™æ€æ–¹æ³•</span></p></li><li><p><span>é™æ€ä»£ç å—</span></p><ul><li><span>åˆå§‹åŒ–æ“ä½œ</span></li></ul></li><li><p><span>é™æ€å†…éƒ¨ç±»</span></p></li><li><p><span>é™æ€å¯¼åŒ…</span></p><ul><li><span>å¯ä»¥ä¸éœ€è¦ä½¿ç”¨ç±»å,ç›´æ¥ä½¿ç”¨èµ„æºå(sin(2))</span></li></ul></li></ul><h3 id='aabä¸abæœ‰ä»€ä¹ˆåŒºåˆ«å—'><span>a=a+bä¸a+=bæœ‰ä»€ä¹ˆåŒºåˆ«å—?</span></h3><ul><li><p><span>+= æ“ä½œç¬¦ä¼šè¿›è¡Œéšå¼è‡ªåŠ¨ç±»å‹è½¬æ¢</span></p></li><li><p><span>å°†åŠ æ“ä½œçš„ç»“æœç±»å‹(å·¦è¾¹)è½¬æ¢ä¸ºæŒæœ‰ç»“æœçš„ç±»å‹(å³è¾¹)</span></p></li><li><p><span>ä¾‹å­</span></p><ul><li><span>short s1= 1; // æŠ¥è½¬æ¢ç±»å‹å¼‚å¸¸</span>
<span>s1 = s1 + 1;</span></li><li><span>byteã€shortè¿ç®—æ—¶è‡ªåŠ¨æå‡ä¸ºintç±»å‹</span></li></ul></li></ul><h3 id='finallyçš„æ‰§è¡Œæœºåˆ¶'><span>finallyçš„æ‰§è¡Œæœºåˆ¶</span></h3><ul><li><p><span>åŸç†</span></p><ul><li><span>å¦‚æœtryå’Œcatchä¸­æœ‰returnï¼Œé¦–å…ˆä¼šæŠŠè¿”å›å€¼ä¿å­˜èµ·æ¥ï¼Œç„¶åå»æ‰§è¡Œfinallyçš„ä»£ç ï¼Œæœ€åè¿›è¡Œè¿”å›</span></li><li><span>å‡½æ•°è¿”å›å€¼åœ¨finallyæ‰§è¡Œå‰ç¡®å®š</span></li></ul></li></ul><h3 id='ä»€ä¹ˆæƒ…å†µä¸‹finallyä¸æ‰§è¡Œ'><span>ä»€ä¹ˆæƒ…å†µä¸‹finallyä¸æ‰§è¡Œï¼Ÿ</span></h3><ul><li><span>try{} catch{} è¯­å¥ä¹‹å‰æœ‰returnæˆ–è€…å¼‚å¸¸é€€å‡ºç¨‹åº</span></li><li><span>try{} catch{} è¯­å¥ä¹‹å‰æœ‰å­˜åœ¨æ­»å¾ªç¯</span></li><li><span>è°ƒç”¨System.exit()ï¼Œç¨‹åºç«‹å³é€€å‡º(JVMåœæ­¢)</span></li></ul><h3 id='excptionä¸erroråŒ…ç»“æ„'><span>Excptionä¸ErroråŒ…ç»“æ„</span></h3><h3 id='oomä½ é‡åˆ°è¿‡å“ªäº›æƒ…å†µsofä½ é‡åˆ°è¿‡å“ªäº›æƒ…å†µ'><span>OOMä½ é‡åˆ°è¿‡å“ªäº›æƒ…å†µï¼ŒSOFä½ é‡åˆ°è¿‡å“ªäº›æƒ…å†µï¼Ÿ</span></h3><ul><li><p><span>OOM(OutOfMemoryError)</span></p><ul><li><p><span>å †</span></p><ul><li><span>å†…å­˜æ³„éœ²æˆ–è€…å †çš„å¤§å°è®¾ç½®ä¸å½“</span></li></ul></li><li><p><span>æ–¹æ³•åŒº</span></p><ul><li><span>å¤§é‡ä½¿ç”¨åå°„ã€åŠ¨æ€ä»£ç†ã€CGLibç­‰å­—èŠ‚ç æ¡†æ¶ï¼ŒåŠ¨æ€ç”ŸæˆJSPç­‰é¢‘ç¹è‡ªå®šä¹‰ç±»åŠ è½½å™¨çš„åœºæ™¯</span></li></ul></li><li><p><span>æ ˆ</span></p><ul><li><p><span>1ã€é€’å½’è°ƒç”¨</span></p></li><li><p><span>2ã€å¤§é‡å¾ªç¯æˆ–æ­»å¾ªç¯</span></p></li><li><p><span>3ã€å…¨å±€å˜é‡æ˜¯å¦è¿‡å¤š</span></p><ul><li><span>å±€éƒ¨å˜é‡è¡¨è¿‡å¤§</span></li></ul></li><li><p><span>4ã€æ•°ç»„ã€Listã€mapæ•°æ®æ˜¯å¦è¿‡å¤§</span></p></li></ul></li></ul></li><li><p><span>SOF(StackOverflow)</span></p><ul><li><p><span>æ ˆ</span></p><ul><li><p><span>1ã€é€’å½’è°ƒç”¨</span></p></li><li><p><span>2ã€å¤§é‡å¾ªç¯æˆ–æ­»å¾ªç¯</span></p></li><li><p><span>3ã€å…¨å±€å˜é‡æ˜¯å¦è¿‡å¤š</span></p><ul><li><span>å±€éƒ¨å˜é‡è¡¨è¿‡å¤§</span></li></ul></li><li><p><span>4ã€æ•°ç»„ã€Listã€mapæ•°æ®æ˜¯å¦è¿‡å¤§</span></p></li></ul></li></ul></li></ul><h3 id='ç®€è¿°çº¿ç¨‹ç¨‹åºè¿›ç¨‹çš„åŸºæœ¬æ¦‚å¿µä»¥åŠä»–ä»¬ä¹‹é—´å…³ç³»æ˜¯ä»€ä¹ˆ'><span>ç®€è¿°çº¿ç¨‹ã€ç¨‹åºã€è¿›ç¨‹çš„åŸºæœ¬æ¦‚å¿µã€‚ä»¥åŠä»–ä»¬ä¹‹é—´å…³ç³»æ˜¯ä»€ä¹ˆ?</span></h3><ul><li><p><span>çº¿ç¨‹(Thread)</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>æ“ä½œç³»ç»Ÿèƒ½å¤Ÿè¿›è¡Œè¿ç®—è°ƒåº¦çš„æœ€å°å•ä½ã€‚å®ƒè¢«åŒ…å«åœ¨è¿›ç¨‹ä¹‹ä¸­ï¼Œæ˜¯è¿›ç¨‹ä¸­çš„å®é™…è¿ä½œå•ä½ã€‚</span></li><li><span>ç³»ç»Ÿåˆ†é…å¤„ç†å™¨æ—¶é—´èµ„æºçš„åŸºæœ¬å•å…ƒï¼Œæˆ–è€…è¯´è¿›ç¨‹ä¹‹å†…ç‹¬ç«‹æ‰§è¡Œçš„ä¸€ä¸ªå•å…ƒæ‰§è¡Œæµã€‚çº¿ç¨‹â€”â€”ç¨‹åºæ‰§è¡Œçš„æœ€å°å•ä½</span></li></ul></li><li><p><span>åˆ†ç±»</span></p><ul><li><p><span>ç”¨æˆ·çº¿ç¨‹</span></p><ul><li><span>å¹³æ—¶ç”¨åˆ°çš„æ™®é€šçº¿ç¨‹,è‡ªå®šä¹‰çº¿ç¨‹</span></li></ul></li><li><p><span>å®ˆæŠ¤çº¿ç¨‹</span></p><ul><li><span>è¿è¡Œåœ¨åå°,æ˜¯ä¸€ç§ç‰¹æ®Šçš„çº¿ç¨‹,æ¯”å¦‚åƒåœ¾å›æ”¶</span></li></ul></li><li><p><span>æ³¨æ„äº‹é¡¹</span></p><ul><li><span>å½“ä¸»çº¿ç¨‹ç»“æŸå,ç”¨æˆ·çº¿ç¨‹è¿˜åœ¨è¿è¡Œ,JVM å­˜æ´»ï¼›å¦‚æœæ²¡æœ‰ç”¨æˆ·çº¿ç¨‹,éƒ½æ˜¯å®ˆæŠ¤çº¿ç¨‹,JVM ç»“æŸ</span></li></ul></li></ul></li></ul></li><li><p><span>è¿›ç¨‹(Process)</span></p><ul><li><span>è®¡ç®—æœºä¸­çš„ç¨‹åºå…³äºæŸæ•°æ®é›†åˆä¸Šçš„ä¸€æ¬¡è¿è¡Œæ´»åŠ¨ï¼Œæ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„åŸºæœ¬å•ä½ï¼Œæ˜¯æ“ä½œç³»ç»Ÿç»“æ„çš„åŸºç¡€ã€‚</span></li><li><span>åœ¨ç³»ç»Ÿä¸­æ­£åœ¨è¿è¡Œçš„ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼›ç¨‹åºä¸€æ—¦è¿è¡Œå°±æ˜¯è¿›ç¨‹ï¼›è¿›ç¨‹â€”â€”èµ„æºåˆ†é…çš„æœ€å°å•ä½</span></li></ul></li><li><p><span>ç¨‹åº</span></p><ul><li><span>å«æœ‰æŒ‡ä»¤å’Œæ•°æ®çš„æ–‡ä»¶ï¼Œè¢«å­˜å‚¨åœ¨ç£ç›˜æˆ–å…¶ä»–çš„æ•°æ®å­˜å‚¨è®¾å¤‡ä¸­</span></li><li><span>é™æ€çš„ä»£ç ã€‚</span></li></ul></li></ul><h3 id='æœ‰äº›å­—æ®µä¸æƒ³è¿›è¡Œåºåˆ—åŒ–'><span>æœ‰äº›å­—æ®µä¸æƒ³è¿›è¡Œåºåˆ—åŒ–ï¼Ÿ</span></h3><ul><li><p><span>transient</span></p><ul><li><span>é˜»æ­¢å®ä¾‹ä¸­é‚£äº›ç”¨æ­¤å…³é”®å­—ä¿®é¥°çš„çš„å˜é‡åºåˆ—åŒ–</span></li><li><span>å¯¹è±¡è¢«ååºåˆ—åŒ–æ—¶ï¼Œè¢« transient ä¿®é¥°çš„å˜é‡å€¼ä¸ä¼šè¢«æŒä¹…åŒ–å’Œæ¢å¤</span></li><li><span>åªèƒ½ä¿®é¥°å˜é‡ï¼Œä¸èƒ½ä¿®é¥°ç±»å’Œæ–¹æ³•</span></li></ul></li></ul><h3 id='è¯´è¯´java-ä¸­-io-æµ'><span>è¯´è¯´Java ä¸­ IO æµ</span></h3><h3 id='javaåå°„çš„ä½œç”¨ä¸åŸç†'><span>Javaåå°„çš„ä½œç”¨ä¸åŸç†</span></h3><ul><li><p><span>ä½œç”¨</span></p><ul><li><span>åªè¦ç»™å®šç±»çš„åå­—ï¼Œå°±å¯ä»¥é€šè¿‡åå°„æœºåˆ¶æ¥è·å¾—ç±»çš„æ‰€æœ‰ä¿¡æ¯</span></li></ul></li><li><p><span>åŸç†</span></p><ul><li><span>åœ¨è¿è¡Œæ—¶ï¼Œå¯¹äºä»»æ„ä¸€ä¸ªç±»ï¼Œéƒ½èƒ½å¤ŸçŸ¥é“è¿™ä¸ªç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼›å¯¹äºä»»æ„ä¸ªå¯¹è±¡ï¼Œéƒ½èƒ½å¤Ÿè°ƒç”¨å®ƒçš„ä»»æ„ä¸€ä¸ªæ–¹æ³•ã€‚</span></li><li><span>è¿™ç§åŠ¨æ€è·å–çš„ä¿¡æ¯ä»¥åŠåŠ¨æ€è°ƒç”¨å¯¹è±¡çš„æ–¹æ³•çš„åŠŸèƒ½ç§°ä¸ºJavaè¯­è¨€çš„åå°„æœºåˆ¶ã€‚</span></li></ul></li><li><p><span>åœºæ™¯</span></p><ul><li><span>jdbcåŠ è½½Mysqlçš„é©±åŠ¨ç±»</span></li></ul></li></ul><h3 id='listsetmapä¸‰è€…çš„åŒºåˆ«'><span>List,Set,Mapä¸‰è€…çš„åŒºåˆ«ï¼Ÿ</span></h3><ul><li><p><span>List(å¯¹ä»˜é¡ºåºçš„å¥½å¸®æ‰‹)</span></p><ul><li><span>Listæ¥å£å­˜å‚¨ä¸€ç»„ä¸å”¯ä¸€ï¼ˆå¯ä»¥æœ‰å¤šä¸ªå…ƒç´ å¼•ç”¨ç›¸åŒçš„å¯¹è±¡ï¼‰ï¼Œæœ‰åºçš„å¯¹è±¡</span></li></ul></li><li><p><span>Set(æ³¨é‡ç‹¬ä¸€æ— äºŒçš„æ€§è´¨)</span></p><ul><li><span>ä¸å…è®¸é‡å¤çš„é›†åˆã€‚ä¸ä¼šæœ‰å¤šä¸ªå…ƒç´ å¼•ç”¨ç›¸åŒçš„å¯¹è±¡ã€‚</span></li></ul></li><li><p><span>Map(ç”¨Keyæ¥æœç´¢çš„ä¸“å®¶)</span></p><ul><li><span>ä½¿ç”¨é”®å€¼å¯¹å­˜å‚¨ã€‚Mapä¼šç»´æŠ¤ä¸Keyæœ‰å…³è”çš„å€¼ã€‚ä¸¤ä¸ªKeyå¯ä»¥å¼•ç”¨ç›¸åŒçš„å¯¹è±¡ï¼Œä½†Keyä¸èƒ½é‡å¤ï¼Œå…¸å‹çš„Keyæ˜¯Stringç±»å‹ï¼Œä½†ä¹Ÿå¯ä»¥æ˜¯ä»»ä½•å¯¹è±¡ã€‚</span></li></ul></li></ul><h3 id='objectçš„æ–¹æ³•'><span>Objectçš„æ–¹æ³•ï¼Ÿ</span></h3><ul><li><p><span>clone </span></p><ul><li><span>å®ç°å¯¹è±¡çš„æµ…å¤åˆ¶ï¼Œåªæœ‰å®ç°äº† Cloneable æ¥å£æ‰å¯ä»¥è°ƒç”¨è¯¥æ–¹æ³•</span></li><li><span>æ·±æ‹·è´ä¹Ÿéœ€è¦å®ç° Cloneableï¼ŒåŒæ—¶å…¶æˆå‘˜å˜é‡ä¸ºå¼•ç”¨ç±»å‹çš„ä¹Ÿéœ€è¦å®ç° Cloneableï¼Œç„¶åé‡å†™ clone æ–¹æ³•ã€‚</span></li></ul></li><li><p><span>finalize </span></p><ul><li><span>å¯¹è±¡å›æ”¶å‰è°ƒç”¨ï¼Œåªè°ƒç”¨ä¸€æ¬¡ï¼Œåˆ¤æ–­å¯¹è±¡æ˜¯å¦å¤æ´»</span></li></ul></li><li><p><span>equals</span></p><ul><li><span>ç›¸å½“äº==ï¼Œå­ç±»éœ€è¦é‡å†™</span></li></ul></li><li><p><span>hashCode</span></p><ul><li><span>ç”¨äºå“ˆå¸ŒæŸ¥æ‰¾</span></li><li><span>é‡å†™äº† equals æ–¹æ³•ä¸€èˆ¬éƒ½è¦é‡å†™ hashCode æ–¹æ³•ï¼Œåœ¨ä¸€äº›å…·æœ‰å“ˆå¸ŒåŠŸèƒ½çš„ Collection ä¸­ç”¨åˆ°ã€‚</span></li></ul></li><li><p><span>wait(time)</span></p><ul><li><span>ä½¿å½“å‰çº¿ç¨‹ç­‰å¾…è¯¥å¯¹è±¡çš„é”</span></li><li><span>é…åˆ synchronized ä½¿ç”¨ï¼Œå½“å‰çº¿ç¨‹å¿…é¡»æ˜¯è¯¥å¯¹è±¡çš„æ‹¥æœ‰è€…ï¼Œä¹Ÿå°±æ˜¯å…·æœ‰è¯¥å¯¹è±¡çš„é”ã€‚</span></li></ul></li><li><p><span>notify</span></p><ul><li><span>å”¤é†’åœ¨è¯¥å¯¹è±¡ä¸Šç­‰å¾…é˜Ÿåˆ—ä¸­çš„æŸä¸ªçº¿ç¨‹</span></li><li><span>é…åˆ synchronized ä½¿ç”¨</span></li><li><span>åŒæ­¥é˜Ÿåˆ—ä¸­çš„çº¿ç¨‹æ˜¯ç»™æŠ¢å  CPU çš„çº¿ç¨‹ï¼Œç­‰å¾…é˜Ÿåˆ—ä¸­çš„çº¿ç¨‹æŒ‡çš„æ˜¯ç­‰å¾…å”¤é†’çš„çº¿ç¨‹ã€‚</span></li></ul></li><li><p><span>notifyAll </span></p><ul><li><span>é…åˆ synchronized ä½¿ç”¨ï¼Œè¯¥æ–¹æ³•å”¤é†’åœ¨è¯¥å¯¹è±¡ä¸Šç­‰å¾…é˜Ÿåˆ—ä¸­çš„æ‰€æœ‰çº¿ç¨‹</span></li></ul></li></ul><h3 id='è·å–ä¸€ä¸ªç±»classå¯¹è±¡çš„æ–¹å¼æœ‰å“ªäº›'><span>è·å–ä¸€ä¸ªç±»Classå¯¹è±¡çš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿ</span></h3><ul><li><p><span>è·å–Classå¯¹è±¡çš„æ–¹å¼ï¼Ÿ</span></p><ul><li><p><span>1.é€šè¿‡å®ä¾‹å¯¹è±¡è·å¾—</span></p><ul><li><span>Class class1 = person.getClass();</span></li></ul></li><li><p><span>2.é€šè¿‡å…¨ç±»åè·å¾—(åŒ…å+ç±»å)</span></p><ul><li><span>Class class2 = Class.forName(&quot;reflection.Student&quot;);</span></li></ul></li><li><p><span>3.é€šè¿‡ç±»çš„é™æ€æˆå‘˜classè·å¾—</span></p><ul><li><span>Class class3 = Person.class;</span></li></ul></li><li><p><span>4.åªé’ˆå¯¹å†…ç½®çš„åŸºæœ¬æ•°æ®ç±»å‹</span></p><ul><li><span>Class class4 = Integer.TYPE;</span></li></ul></li></ul></li></ul><h3 id='ä¸ºä»€ä¹ˆarrayslistä¸å®‰å…¨'><span>ä¸ºä»€ä¹ˆArraysListä¸å®‰å…¨ï¼Ÿ</span></h3><ul><li><span>add()ä¸æ˜¯åŸå­æ€§æ“ä½œ</span></li><li><span>æ‰§è¡Œadd()æ—¶ï¼Œå…ˆå°†æ•°ç»„çš„é•¿åº¦+1ï¼Œåœ¨å¤šçº¿ç¨‹æƒ…å†µä¸‹ï¼Œå¯èƒ½æ•ˆæœåªæœ‰ä¸€ä¸ª</span></li></ul><h3 id='è¯´è¯´ä»€ä¹ˆæ˜¯-fail-fast'><span>è¯´è¯´ä»€ä¹ˆæ˜¯ fail-fastï¼Ÿ</span></h3><ul><li><span>Java é›†åˆï¼ˆCollectionï¼‰ä¸­çš„ä¸€ç§é”™è¯¯æœºåˆ¶ã€‚å½“å¤šä¸ªçº¿ç¨‹å¯¹åŒä¸€ä¸ªé›†åˆçš„å†…å®¹è¿›è¡Œæ“ä½œæ—¶ï¼Œå°±å¯èƒ½ä¼šäº§ç”Ÿ fail-fast äº‹ä»¶ã€‚</span></li><li><span>å½“æŸä¸€ä¸ªçº¿ç¨‹ A é€šè¿‡ iterator å»éå†æŸé›†åˆçš„è¿‡ç¨‹ä¸­ï¼Œè‹¥è¯¥é›†åˆçš„å†…å®¹è¢«å…¶ä»–çº¿ç¨‹æ‰€æ”¹å˜å°±ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œäº§ç”Ÿfail-fastäº‹ä»¶ã€‚</span></li><li><span>addã€remove å’Œ clear</span></li></ul><h3 id='hashmap-ä¸­çš„-key-æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»»ä½•ç±»ä½œä¸º-key-å—'><span>HashMap ä¸­çš„ key æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»»ä½•ç±»ä½œä¸º key å—ï¼Ÿ</span></h3><ul><li><p><span>å¯ä»¥</span></p><ul><li><span>1ã€å¦‚æœç±»é‡å†™äº† equals æ–¹æ³•ï¼Œå®ƒä¹Ÿåº”è¯¥é‡å†™ hashCode æ–¹æ³•</span></li><li><span>2ã€ç±»çš„æ‰€æœ‰å®ä¾‹éœ€è¦éµå¾ªä¸ equals å’Œ hashCode ç›¸å…³çš„è§„åˆ™</span></li><li><span>3ã€å¦‚æœä¸€ä¸ªç±»æ²¡æœ‰ä½¿ç”¨ equalsï¼Œä½ ä¸åº”è¯¥åœ¨ hashCode ä¸­ä½¿ç”¨å®ƒ</span></li><li><span>4ã€å’±ä»¬è‡ªå®šä¹‰ key ç±»çš„æœ€ä½³å®è·µæ˜¯ä½¿ä¹‹ä¸ºä¸å¯å˜çš„è¿™æ ·ï¼ŒhashCode å€¼å¯ä»¥è¢«ç¼“å­˜èµ·æ¥ï¼Œæ‹¥æœ‰æ›´å¥½çš„æ€§èƒ½</span></li></ul></li></ul><h3 id='hashmap-ä¸-concurrenthashmap-çš„å¼‚åŒ'><span>HashMap ä¸ ConcurrentHashMap çš„å¼‚åŒ</span></h3><ul><li><span>1ã€éƒ½æ˜¯ key-value å½¢å¼çš„å­˜å‚¨æ•°æ®</span></li><li><span>2ã€HashMap æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ï¼ŒConcurrentHashMap æ˜¯ JUC ä¸‹çš„çº¿ç¨‹å®‰å…¨çš„ï¼›</span></li><li><span>3ã€HashMap åº•å±‚æ•°æ®ç»“æ„æ˜¯æ•°ç»„ + é“¾è¡¨ï¼ˆJDK 1.8 ä¹‹å‰ï¼‰ã€‚JDK 1.8 ä¹‹åæ˜¯æ•°ç»„ + é“¾è¡¨ + çº¢é»‘æ ‘ã€‚</span></li><li><span>4ã€ ConcurrentHashMap åœ¨ JDK 1.8 ä¹‹å‰æ˜¯é‡‡ç”¨åˆ†æ®µé”æ¥ç°å®çš„ Segment + HashEntryï¼›JDK 1.8 ä¹‹åï¼Œé‡‡ç”¨ Node + CAS + Synchronizedæ¥ä¿è¯å¹¶å‘å®‰å…¨è¿›è¡Œå®ç°ã€‚</span></li></ul><h3 id='è¯´è¯´ä½ å¹³æ—¶æ˜¯æ€ä¹ˆå¤„ç†-java-å¼‚å¸¸çš„'><span>è¯´è¯´ä½ å¹³æ—¶æ˜¯æ€ä¹ˆå¤„ç† Java å¼‚å¸¸çš„ï¼Ÿ</span></h3><h3 id='ä»€ä¹ˆæ˜¯jdkä»€ä¹ˆæ˜¯jre'><span>ä»€ä¹ˆæ˜¯JDKï¼Ÿä»€ä¹ˆæ˜¯JRE?</span></h3><ul><li><p><span>JDK(java development kit)</span></p><ul><li><span>javaå¼€å‘å·¥å…·åŒ…ï¼Œä½¿ç”¨javaè¯­è¨€ç¼–å†™javaç¨‹åºæ‰€éœ€çš„å¼€å‘å·¥å…·åŒ…</span></li><li><span>ç¼–å†™javaç¨‹åº</span></li><li><span>jdkåŒ…å«jre</span></li></ul></li><li><p><span>JRE(java runtime environment)</span></p><ul><li><span>javaè¿è¡Œç¯å¢ƒï¼ŒåŒ…å«äº†javaè™šæ‹Ÿæœºï¼ŒjavaåŸºç¡€ç±»åº“ï¼Œæ˜¯ä½¿ç”¨javaè¯­è¨€ç¼–å†™çš„ç¨‹åºè¿è¡Œæ‰€éœ€è¦çš„è½¯ä»¶ç¯å¢ƒ</span></li><li><span>è¿è¡Œjavaç¨‹åº</span></li></ul></li></ul><h3 id='ä¸ºä»€ä¹ˆé‡å†™equalsä¸€å®šè¦é‡å†™hashcode'><span>ä¸ºä»€ä¹ˆé‡å†™equalsä¸€å®šè¦é‡å†™hashcodeï¼Ÿ</span></h3><ul><li><span>é»˜è®¤çš„hashcodeæ–¹æ³•æ˜¯æ ¹æ®å¯¹è±¡çš„å†…å­˜åœ°å€ç»å“ˆå¸Œç®—æ³•å¾—åˆ°çš„ï¼Œå¦‚æœä¸é‡å†™çš„è¯ï¼Œé‚£ä¹ˆåœ¨ä¸¤ä¸ªç›¸åŒçš„å¯¹è±¡åœ¨ä½¿ç”¨equalsæ–¹æ³•çš„æ—¶å€™å°±æœ‰å¯èƒ½ä¸åŒ</span></li></ul><h3 id='æ¥å£å’ŒæŠ½è±¡ç±»çš„åŒºåˆ«'><span>æ¥å£å’ŒæŠ½è±¡ç±»çš„åŒºåˆ«ï¼Ÿ</span></h3><ul><li><span>1ã€æ¥å£ä¸­çš„æ‰€æœ‰æ–¹æ³•éƒ½æ˜¯æŠ½è±¡çš„ï¼Œè€ŒæŠ½è±¡ç±»å¯ä»¥æœ‰æŠ½è±¡çš„å’ŒéæŠ½è±¡çš„</span></li><li><span>2ã€ç±»å¯ä»¥å®ç°å¾ˆå¤šä¸ªæ¥å£ï¼Œä½†åªèƒ½ç»§æ‰¿ä¸€ä¸ªæŠ½è±¡ç±»</span></li><li><span>3ã€ç±»å¯ä»¥ä¸å®ç°æŠ½è±¡ç±»å’Œæ¥å£å£°æ˜çš„æ‰€æœ‰æ–¹æ³•ï¼Œä½†æ˜¯è¯¥ç±»å¿…é¡»å£°æ˜æˆæŠ½è±¡çš„</span></li><li><span>4ã€æ¥å£çš„æˆå‘˜æ–¹æ³•é»˜è®¤æ˜¯publicï¼Œè€ŒæŠ½è±¡ç±»çš„æˆå‘˜å¯ä»¥æ˜¯privateï¼Œprotectedï¼Œpublic</span></li><li><span>5ã€JDK1.8å¼€å§‹ï¼Œæ¥å£ä¸­å¯ä»¥åŒ…å«defaultæ–¹æ³•ï¼ˆå¯ä»¥è¿›è¡Œå®ç°ï¼‰ï¼Œä½†æ˜¯æŠ½è±¡ç±»æ²¡æœ‰</span></li></ul><h3 id='error-å’Œ-exception-çš„åŒºåˆ«'><span>Error å’Œ Exception çš„åŒºåˆ«?</span></h3><ul><li><p><span>1ã€Exceptionæ˜¯ç¨‹åºæ­£å¸¸è¿è¡Œä¸­,å¯ä»¥é¢„æ–™çš„æ„å¤–æƒ…å†µ,å¯ä»¥è¢«æ•è·,è¿›è¡Œç›¸åº”çš„å¤„ç†</span></p></li><li><p><span>2ã€Error æ˜¯æŒ‡æ­£å¸¸æƒ…å†µä¸‹,ä¸å¤§å¯èƒ½å‡ºç°çš„æƒ…å†µ,ç»å¤§éƒ¨åˆ†çš„Error éƒ½ä¼šå¯¼è‡´ç¨‹åºå¤„äºéæ­£å¸¸çš„,ä¸å¯æ¢å¤çš„çŠ¶æ€, ä¸éœ€è¦æ•è·</span></p></li><li><p><span>3ã€Exception åˆ†ä¸ºå¯æ£€æŸ¥å¼‚å¸¸(checked) å’Œ ä¸å¯æ£€æŸ¥å¼‚å¸¸(unchecked)</span></p><ul><li><span>å¯æ£€æŸ¥å¼‚å¸¸åœ¨æºä»£ç é‡Œå¿…é¡»æ˜¾å¼çš„è¿›è¡Œæ•è·å¤„ç†,è¿™æ˜¯ç¼–è¯‘æœŸæ£€æŸ¥çš„ä¸€éƒ¨åˆ†</span></li><li><span>ä¸å¯æ£€æŸ¥å¼‚å¸¸æ˜¯æŒ‡è¿è¡Œæ—¶å¼‚å¸¸(ç©ºæŒ‡é’ˆï¼Œæ•°ç»„è¶Šç•Œ)ï¼Œ é€šå¸¸æ˜¯å¯ä»¥ç¼–ç é¿å…çš„é€»è¾‘é”™è¯¯,å…·ä½“æ ¹æ®éœ€è¦æ¥åˆ¤æ–­æ˜¯å¦éœ€è¦æ•è·ã€‚</span></li></ul></li></ul><h3 id='å¸¸è§çš„æ£€æŸ¥å¼‚å¸¸å’Œéæ£€æŸ¥å¼‚å¸¸'><span>å¸¸è§çš„æ£€æŸ¥å¼‚å¸¸å’Œéæ£€æŸ¥å¼‚å¸¸ï¼Ÿ</span></h3><ul><li><p><span>æ£€æŸ¥</span></p><ul><li><span>ClassNotFoundException // æ‰¾ä¸åˆ°å…·æœ‰æŒ‡å®šåç§°çš„ç±»çš„å®šä¹‰</span></li><li><span>DataFormatException //æ•°æ®æ ¼å¼å¼‚å¸¸</span></li><li><span>IOException //è¾“å…¥è¾“å‡ºå¼‚å¸¸</span></li><li><span>SQLException //æä¾›æœ‰å…³æ•°æ®åº“è®¿é—®é”™è¯¯æˆ–å…¶ä»–é”™è¯¯çš„ä¿¡æ¯çš„å¼‚å¸¸</span></li><li><span>FileNotFoundException //å½“è¯•å›¾æ‰“å¼€æŒ‡å®šè·¯å¾„åè¡¨ç¤ºçš„æ–‡ä»¶å¤±è´¥æ—¶ï¼ŒæŠ›å‡ºæ­¤å¼‚å¸¸</span></li><li><span>EOFException //å½“è¾“å…¥è¿‡ç¨‹ä¸­æ„å¤–åˆ°è¾¾æ–‡ä»¶æˆ–æµçš„æœ«å°¾æ—¶ï¼ŒæŠ›å‡ºæ­¤å¼‚å¸¸</span></li></ul></li><li><p><span>éæ£€æŸ¥</span></p><ul><li><span>ArrayIndexOutOfBoundsException //ç”¨éæ³•ç´¢å¼•è®¿é—®æ•°ç»„æ—¶æŠ›å‡ºçš„å¼‚å¸¸ã€‚å¦‚æœç´¢å¼•ä¸ºè´Ÿæˆ–å¤§äºç­‰äºæ•°ç»„å¤§å°ï¼Œåˆ™è¯¥ç´¢å¼•ä¸ºéæ³•ç´¢å¼•</span></li><li><span>ArithmeticException //å½“å‡ºç°å¼‚å¸¸çš„è¿ç®—æ¡ä»¶æ—¶ï¼ŒæŠ›å‡ºæ­¤å¼‚å¸¸ã€‚ï¼ˆ ä¾‹å¦‚ï¼Œä¸€ä¸ªæ•´æ•°â€œé™¤ä»¥é›¶â€æ—¶ï¼ŒæŠ›å‡ºæ­¤ç±»çš„ä¸€ä¸ªå®ä¾‹ï¼‰</span></li><li><span>IllegaArguementException //æŠ›å‡ºçš„å¼‚å¸¸è¡¨æ˜å‘æ–¹æ³•ä¼ é€’äº†ä¸€ä¸ªä¸åˆæ³•æˆ–ä¸æ­£ç¡®çš„å‚æ•°</span></li><li><span>NullPointerException //ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼ˆè°ƒç”¨ null å¯¹è±¡çš„å®ä¾‹æ–¹æ³•ç­‰ï¼‰</span></li><li><span>ClassCastException //ç±»è½¬æ¢å¼‚å¸¸</span></li><li><span>ArrayStoreException //æ•°æ®å­˜å‚¨å¼‚å¸¸ï¼Œæ“ä½œæ•°ç»„æ—¶ç±»å‹ä¸ä¸€è‡´</span></li></ul></li></ul><h3 id='oop'><span>OOP</span></h3><ul><li><p><span>æ ¸å¿ƒæ€æƒ³(ç‰¹æ€§)</span></p><ul><li><p><span>å°è£…</span></p><ul><li><span>æ¯ä¸ªç±»ï¼ˆå¯¹è±¡çš„æ¨¡æ¿ï¼‰å¯ä»¥è‡ªç”±åœ°å®šä¹‰å±æ€§å’Œæ–¹æ³•ï¼Œä½¿å…¶æœ‰åˆ«äºå…¶ä»–çš„ç±»ã€‚</span></li><li><span>å°è£…å¯ä»¥éšè—å¯¹è±¡çš„å†…éƒ¨ç»†èŠ‚ï¼Œä½¿å…¶å¯¹å¤–å½¢æˆä¸€é“è¾¹ç•Œï¼Œåªä¿ç•™æœ‰é™çš„å±æ€§å’Œæ–¹æ³•ä¸å…¶ä»–å¯¹è±¡è¿›è¡Œäº¤äº’ã€‚</span></li><li><span>å°è£…çš„åŸåˆ™æ˜¯ä½¿å¯¹è±¡ä»¥å¤–çš„éƒ¨åˆ†ä¸èƒ½éšæ„çš„è®¿é—®å’Œæ“ä½œå¯¹è±¡çš„å†…éƒ¨å±æ€§ï¼Œä»è€Œé¿å…äº†å¤–ç•Œå¯¹å¯¹è±¡å†…éƒ¨å±æ€§çš„ç ´åã€‚</span></li></ul></li><li><p><span>ç»§æ‰¿</span></p><ul><li><span>å­ç±»ä½¿ç”¨extendså¯ä»¥è½»æ¾åœ°å¤ç”¨çˆ¶ç±»çš„ä»£ç ï¼ˆé private ä¿®é¥°çš„å±æ€§å’Œæ–¹æ³•ï¼‰</span></li><li><span>å¦‚æœçˆ¶ç±»çš„å±æ€§ä¸æ»¡è¶³å­ç±»çš„éœ€æ±‚ï¼Œå¯ä»¥è¿½åŠ ï¼›å¦‚æœçˆ¶ç±»çš„æ–¹æ³•ä¸æ»¡è¶³å­ç±»çš„éœ€æ±‚ï¼Œå¯ä»¥è¦†ç›–</span></li></ul></li><li><p><span>å¤šæ€</span></p><ul><li><span>çˆ¶ç±»ä¸­å®šä¹‰çš„æ–¹æ³•è¢«å­ç±»ç»§æ‰¿ä¹‹åï¼Œå¯ä»¥è¡¨ç°å‡ºä¸åŒçš„è¡Œä¸ºã€‚è¿™ä½¿å¾—åŒä¸€ä¸ªæ–¹æ³•åœ¨çˆ¶ç±»åŠå…¶å„ä¸ªå­ç±»ä¸­å…·æœ‰ä¸åŒçš„è¯­ä¹‰</span></li><li><span>é‡å†™ï¼Œé‡è½½</span></li></ul></li></ul></li><li><p><span>å­ä¸»é¢˜ 2</span></p></li></ul><h3 id='ä¿®é¥°ç¬¦'><span>ä¿®é¥°ç¬¦</span></h3><ul><li><p><span>ç±»</span></p><ul><li><p><span>è®¿é—®æ§åˆ¶ç¬¦</span></p><ul><li><p><span>public</span></p><ul><li><span>ä¸€ä¸ªJavaç¨‹åºä¸€ä¸ªpublic</span></li></ul></li></ul></li><li><p><span>éè®¿é—®æ§åˆ¶ç¬¦</span></p><ul><li><p><span>abstract</span></p><ul><li><span>æŠ½è±¡ç±»</span></li></ul></li><li><p><span>final</span></p><ul><li><span>ä¸èƒ½è¢«ç»§æ‰¿çš„ç±»</span></li></ul></li><li><p><span>default</span></p><ul><li><span>åªèƒ½è¢«åŒä¸€ä¸ªåŒ…çš„ç±»è®¿é—®æˆ–å¼•ç”¨</span></li></ul></li></ul></li></ul></li><li><p><span>æ–¹æ³•</span></p><ul><li><p><span>è®¿é—®æ§åˆ¶ç¬¦</span></p><ul><li><span>publicã€privateã€protectedã€default</span></li></ul></li><li><p><span>éè®¿é—®æ§åˆ¶ç¬¦</span></p><ul><li><span>abstractã€staticã€finalã€nativeã€synchronized</span></li></ul></li></ul></li><li><p><span>å˜é‡</span></p><ul><li><p><span>è®¿é—®æ§åˆ¶ç¬¦</span></p><ul><li><p><span>public</span></p><ul><li><span>å…¬å…±</span></li></ul></li><li><p><span>private</span></p><ul><li><p><span>ç§æœ‰</span></p><ul><li><span>åªèƒ½è¢«è¯¥ç±»è‡ªèº«è®¿é—®</span></li></ul></li></ul></li><li><p><span>protected</span></p><ul><li><p><span>ä¿æŠ¤</span></p><ul><li><span>ç±»è‡ªèº«ã€åŒä¸€ä¸ªåŒ…ä¸­çš„å…¶å®ƒç±»ã€å…¶å®ƒåŒ…çš„å­ç±»</span></li></ul></li></ul></li><li><p><span>default</span></p><ul><li><p><span>ç¼ºçœé»˜è®¤ä¿®é¥°ç¬¦</span></p><ul><li><span>ç±»è‡ªèº«ã€åŒä¸€ä¸ªåŒ…ä¸­çš„å…¶å®ƒç±»</span></li></ul></li></ul></li></ul></li><li><p><span>éè®¿é—®æ§åˆ¶ç¬¦</span></p><ul><li><p><span>static</span></p><ul><li><span>ä»…å±äºç±»çš„å˜é‡</span></li></ul></li><li><p><span>final</span></p><ul><li><span>å¸¸é‡ï¼Œç¨‹åºæ‰§è¡Œä¸­ä¸å†å˜</span></li></ul></li><li><p><span>volatile</span></p><ul><li><span>å¤šçº¿ç¨‹ä¸‹ä¿è¯å˜é‡çš„å¯è§æ€§</span></li></ul></li><li><p><span>transient</span></p><ul><li><span>æš‚æ—¶æ€§å˜é‡</span></li></ul></li></ul></li></ul></li></ul><h2 id='javase'><span>JavaSE</span></h2><h3 id='å¤šçº¿ç¨‹'><span>å¤šçº¿ç¨‹</span></h3><ul><li><p><span>åŸºæœ¬æ¦‚å¿µ</span></p><ul><li><p><span>ç¨‹åº(program)</span></p><ul><li><span>æ˜¯ä¸ºå®Œæˆç‰¹å®šä»»åŠ¡ã€ç”¨æŸç§è¯­è¨€ç¼–å†™çš„ä¸€ç»„æŒ‡ä»¤çš„é›†åˆã€‚å³æŒ‡ä¸€æ®µé™æ€çš„ä»£ç ï¼Œé™æ€å¯¹è±¡</span></li></ul></li><li><p><span>è¿›ç¨‹(process)</span></p><ul><li><span>æ˜¯ç¨‹åºçš„ä¸€æ¬¡æ‰§è¡Œè¿‡ç¨‹ï¼Œæˆ–æ˜¯æ­£åœ¨è¿è¡Œçš„ä¸€ä¸ªç¨‹åºã€‚æ˜¯ä¸€ä¸ªåŠ¨æ€çš„è¿‡ç¨‹ï¼šæœ‰å®ƒè‡ªèº«çš„äº§ç”Ÿã€å­˜åœ¨å’Œæ¶ˆäº¡çš„è¿‡ç¨‹</span></li></ul></li><li><p><span>çº¿ç¨‹(thread)</span></p><ul><li><span>è¿›ç¨‹å¯è¿›ä¸€æ­¥ç»†åŒ–ä¸ºçº¿ç¨‹ï¼Œæ˜¯ä¸€ä¸ªç¨‹åºå†…éƒ¨çš„ä¸€æ¡æ‰§è¡Œè·¯å¾„</span></li></ul></li></ul></li><li><p><span>çº¿ç¨‹åˆ›å»ºçš„æ–¹å¼</span></p><ul><li><p><span>åˆ†ç±»</span></p><ul><li><p><span>ç»§æ‰¿Threadç±»</span></p><ul><li><ol start='' ><li><span>å®šä¹‰å­ç±»ç»§æ‰¿Threadç±»ã€‚</span></li></ol></li></ul></li></ul></li></ul></li></ul><ol start='2' ><li><p><span>å­ç±»ä¸­é‡å†™Threadç±»ä¸­çš„runæ–¹æ³•ã€‚</span></p></li><li><p><span>åˆ›å»ºThreadå­ç±»å¯¹è±¡ï¼Œå³åˆ›å»ºäº†çº¿ç¨‹å¯¹è±¡ã€‚</span></p></li><li><p><span>è°ƒç”¨çº¿ç¨‹å¯¹è±¡startæ–¹æ³•ï¼šå¯åŠ¨çº¿ç¨‹ï¼Œè°ƒç”¨runæ–¹æ³•ã€‚</span></p><pre class="md-fences md-end-block md-fences-with-lineno ty-contain-cm modeLoaded" spellcheck="false" lang=""><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 10.8px; left: 33px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 29px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><span><span>â€‹</span>x</span></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -29px; width: 29px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 21px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">- å®ç°Runnableæ¥å£</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 21px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>- 1) å®šä¹‰å­ç±»ï¼Œå®ç°Runnableæ¥å£ã€‚</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 78px;"></div><div class="CodeMirror-gutters" style="height: 78px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 29px;"></div></div></div></div></pre></li><li><p><span>å­ç±»ä¸­é‡å†™Runnableæ¥å£ä¸­çš„runæ–¹æ³•ã€‚</span></p></li><li><p><span>é€šè¿‡Threadç±»å«å‚æ„é€ å™¨åˆ›å»ºçº¿ç¨‹å¯¹è±¡ã€‚</span></p></li><li><p><span>å°†Runnableæ¥å£çš„å­ç±»å¯¹è±¡ä½œä¸ºå®é™…å‚æ•°ä¼ é€’ç»™Threadç±»çš„æ„é€ å™¨ä¸­ã€‚</span></p></li><li><p><span>è°ƒç”¨Threadç±»çš„startæ–¹æ³•ï¼šå¼€å¯çº¿ç¨‹ï¼Œè°ƒç”¨Runnableå­ç±»æ¥å£çš„runæ–¹æ³•ã€‚</span></p><pre class="md-fences md-end-block md-fences-with-lineno ty-contain-cm modeLoaded" spellcheck="false" lang=""><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 10.8px; left: 33px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 29px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>3</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -29px; width: 29px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 21px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">- å®ç°Callableæ¥å£</span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="left: 0px; width: 21px;">2</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre></div><div style="position: relative;"><div class="CodeMirror-gutter-wrapper" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 21px;">3</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>- ThreadCreate3 threadCreate3 = new ThreadCreate3();</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 78px;"></div><div class="CodeMirror-gutters" style="height: 78px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 29px;"></div></div></div></div></pre><p><span>// 1.åˆ›å»ºæ‰§è¡ŒæœåŠ¡</span>
<span>ExecutorService service = Executors.newFixedThreadPool(1); // çº¿ç¨‹æ± </span>
<span>// 2.æäº¤æ‰§è¡Œ</span>
<span>Future</span><Boolean><span> submit = service.submit(threadCreate3);</span>
<span>// 3.è·å–ç»“æœ</span>
<span>Boolean rs = submit.get();</span>
<span>// 4.å…³é—­æœåŠ¡</span>
<span>service.shutdown();</span></p><pre class="md-fences md-end-block md-fences-with-lineno ty-contain-cm modeLoaded" spellcheck="false" lang=""><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 10.8px; left: 33px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 29px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre><div class="CodeMirror-linenumber CodeMirror-gutter-elt"><div>1</div></div></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: -29px; width: 29px;"></div><div class="CodeMirror-gutter-wrapper CodeMirror-activeline-gutter" style="left: -29px;"><div class="CodeMirror-linenumber CodeMirror-gutter-elt CodeMirror-linenumber-show" style="left: 0px; width: 21px;">1</div></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">- çº¿ç¨‹æ± åˆ›å»º</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 26px;"></div><div class="CodeMirror-gutters" style="height: 26px;"><div class="CodeMirror-gutter CodeMirror-linenumbers" style="width: 29px;"></div></div></div></div></pre><ul><li><p><span>ç»§æ‰¿å’Œå®ç°çš„åŒºåˆ«</span></p><ul><li><span>1ã€ç»§æ‰¿çš„çº¿ç¨‹ä»£ç å­˜åœ¨äºå­ç±»çš„runï¼›å®ç°çš„çº¿ç¨‹ä»£ç å­˜åœ¨äºæ¥å£çš„å­ç±»çš„run</span></li><li><span>2ã€å®ç°æ–¹å¼é¿å…äº†å•ç»§æ‰¿</span></li><li><span>3ã€å¤šä¸ªçº¿ç¨‹å¯ä»¥å…±äº«åŒä¸€ä¸ªæ¥å£å®ç°ç±»çš„å¯¹è±¡ï¼Œé€‚åˆå¤šä¸ªç›¸åŒçº¿ç¨‹æ¥å¤„ç†åŒä¸€ä»½èµ„æº</span></li></ul></li></ul></li></ol><ul><li><p><span>çº¿ç¨‹çš„çŠ¶æ€</span></p><ul><li><p><span>åˆ†ç±»</span></p><ul><li><p><span>NEW(æ–°å»º)</span></p><ul><li><span>æ–°åˆ›å»ºäº†ä¸€ä¸ªçº¿ç¨‹å¯¹è±¡ï¼Œä½†è¿˜æ²¡æœ‰è°ƒç”¨start()æ–¹æ³•ã€‚</span></li></ul></li><li><p><span>RUNNABLE(è¿è¡Œï¼‰</span></p><ul><li><p><span>Javaçº¿ç¨‹ä¸­å°†å°±ç»ªï¼ˆreadyï¼‰å’Œè¿è¡Œä¸­ï¼ˆrunningï¼‰ä¸¤ç§çŠ¶æ€ç¬¼ç»Ÿçš„ç§°ä¸ºâ€œè¿è¡Œâ€</span></p></li><li><p><span>è°ƒç”¨start()æ–¹æ³•æˆ–è€…èµ„æºå®Œæ•´ç­‰å¾…CPUä½¿ç”¨æƒ</span></p><ul><li><span>start()æ–¹æ³•è¿›å…¥çš„æ˜¯è¿è¡Œçš„å°±ç»ªæ€</span></li></ul></li><li><p><span>å­ä¸»é¢˜ 3</span></p></li></ul></li><li><p><span>BLOCKEDï¼ˆé˜»å¡ï¼‰</span></p><ul><li><span>ç­‰å¾…é”</span></li></ul></li><li><p><span>WAITINGï¼ˆç­‰å¾…ï¼‰</span></p><ul><li><span>ç­‰å¾…è¢«å”¤é†’</span></li></ul></li><li><p><span>TIMED_WAITINGï¼ˆè¶…æ—¶ç­‰å¾…ï¼‰</span></p><ul><li><span>ç­‰å¾…ä¸€å®šæ—¶é—´è‡ªåŠ¨å”¤é†’</span></li></ul></li><li><p><span>TERMINATED(ç»ˆæ­¢)</span></p><ul><li><span>çº¿ç¨‹æ‰§è¡Œå®Œæ¯•</span></li></ul></li></ul></li><li><p><span>æ–¹æ³•</span></p><ul><li><p><span>setPriority(int newPriority) </span></p><ul><li><span>æ›´æ”¹çº¿ç¨‹çš„ä¼˜å…ˆçº§</span></li></ul></li><li><p><span>static void sleep(long millis) </span></p><ul><li><p><span>åœ¨æŒ‡å®šçš„æ¯«ç§’æ•°å†…è®©å½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹ä¼‘çœ </span></p><ul><li><span>å¿…é¡»æœ‰å€¼</span></li></ul></li></ul></li><li><p><span>void join() </span></p><ul><li><span>ç­‰å¾…è¯¥çº¿ç¨‹ç»ˆæ­¢</span></li></ul></li><li><p><span>static void yield() </span></p><ul><li><span>æš‚åœå½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹å¯¹è±¡ï¼ˆå˜ä¸ºå°±ç»ªæ€ï¼‰ï¼Œå¹¶æ‰§è¡Œå…¶ä»–çº¿ç¨‹</span></li></ul></li><li><p><span>void interrupt() </span></p><ul><li><span>ä¸­æ–­çº¿ç¨‹ï¼Œåˆ«ç”¨è¿™ä¸ªæ–¹å¼</span></li></ul></li><li><p><span>boolean isAlive() </span></p><ul><li><span>æµ‹è¯•çº¿ç¨‹æ˜¯å¦å¤„äºæ´»åŠ¨çŠ¶æ€</span></li></ul></li><li><p><span>void start()</span></p><ul><li><span>ä½¿çº¿ç¨‹è¿›å…¥è¿è¡Œçš„å°±ç»ªæ€</span></li></ul></li></ul></li><li><p><span>æ³¨æ„äº‹é¡¹</span></p><ul><li><span>1ã€start()ä¸ä¼šé©¬ä¸Šæ‰§è¡Œçº¿ç¨‹ï¼Œè€Œæ˜¯è¿›å…¥è¿è¡Œçš„å°±ç»ªæ€(ready)</span></li><li><span>2ã€ç³»ç»Ÿè°ƒåº¦æ‰æ˜¯ä½¿çº¿ç¨‹å˜ä¸ºè¿è¡Œä¸­(running)çš„å”¯ä¸€é€”å¾„</span></li><li><span>3ã€æŸä¸ªçº¿ç¨‹æ‹¿åˆ°é”ã€sleep()æ–¹æ³•ç»“æŸä¹Ÿä¼šè¿›å…¥å°±ç»ªæ€</span></li></ul></li><li><p><span>Thread.join()</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>ä¸»çº¿ç¨‹ç­‰å¾…å­çº¿ç¨‹çš„ç»ˆæ­¢</span></li><li><span>ä¸»çº¿ç¨‹è°ƒç”¨äº†å­çº¿ç¨‹çš„join()æ–¹æ³•ï¼Œä¸»çº¿ç¨‹é˜»å¡è‡³å­çº¿ç¨‹æ‰§è¡Œå®Œæˆ</span></li></ul></li><li><p><span>åœºæ™¯</span></p><ul><li><span>ä¸»çº¿ç¨‹å…ˆäºå­çº¿ç¨‹å®Œæˆï¼Œä½†ä¸»çº¿ç¨‹åˆéœ€è¦å­çº¿ç¨‹çš„å¤„ç†ç»“æœ</span></li></ul></li></ul></li><li><p><span>çŠ¶æ€å›¾</span></p><ul><li></li></ul></li></ul></li><li><p><span>ç­‰å¾…é˜Ÿåˆ—å’ŒåŒæ­¥é˜Ÿåˆ—</span></p><ul><li><p><span>ç­‰å¾…é˜Ÿåˆ—</span></p><ul><li><span>å­˜æ”¾çš„æ˜¯ç­‰å¾…/è¶…æ—¶ç­‰å¾…çš„çº¿ç¨‹</span></li><li><span>æ¯ä¸ªå¯¹è±¡ä¸€ä¸ª</span></li></ul></li><li><p><span>åŒæ­¥é˜Ÿåˆ—</span></p><ul><li><span>å­˜æ”¾çš„æ˜¯ç«äº‰å¯¹è±¡é”çš„çº¿ç¨‹</span></li><li><span>æ¯ä¸ªå¯¹è±¡ä¸€ä¸ª</span></li></ul></li></ul></li><li><p><span>çº¿ç¨‹åŒæ­¥</span></p><ul><li><p><span>åŒæ­¥é”</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>ä»»æ„å¯¹è±¡éƒ½å¯ä»¥ä½œä¸ºåŒæ­¥é”ã€‚æ‰€æœ‰å¯¹è±¡éƒ½è‡ªåŠ¨å«æœ‰å•ä¸€çš„é”ï¼ˆç›‘è§†å™¨ï¼‰</span></li><li><span>ä¸€ç§é˜²æ­¢ä¸¤ä¸ªä»»åŠ¡è®¿é—®ç›¸åŒçš„èµ„æºï¼ˆå…¶å®å°±æ˜¯å…±äº«èµ„æºç«äº‰ï¼‰çš„æ–¹å¼</span></li></ul></li><li><p><span>åŒæ­¥ç›‘è§†å™¨</span></p><ul><li><span>åŒæ­¥ä»£ç å—æŒ‡å®šè¦é”çš„å¯¹è±¡</span></li></ul></li></ul></li><li><p><span>synchronized</span></p><ul><li><p><span>é”</span></p><ul><li><p><span>åŒæ­¥æ–¹æ³•çš„é”</span></p><ul><li><span>é™æ€æ–¹æ³•ï¼ˆç±»å.classï¼ŒClassç±»æ¨¡æ¿ï¼Œä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªClasså¯¹è±¡ï¼‰</span></li><li><span>éé™æ€æ–¹æ³•ï¼ˆthisï¼Œå½“å‰å®ä¾‹å¯¹è±¡ï¼‰</span></li></ul></li><li><p><span>åŒæ­¥ä»£ç å—çš„é”</span></p><ul><li><span>è‡ªå·±æŒ‡å®šï¼Œå¾ˆå¤šæ—¶å€™ä¹Ÿæ˜¯æŒ‡å®šä¸ºthisæˆ–ç±»å.class</span></li></ul></li></ul></li><li><p><span>æ³¨æ„äº‹é¡¹</span></p><ul><li><span>æ‰€æœ‰æ“ä½œå…±äº«æ•°æ®çš„è¿™äº›è¯­å¥éƒ½è¦æ”¾åœ¨åŒæ­¥èŒƒå›´ä¸­</span></li><li><span>ä¸€ä¸ªçº¿ç¨‹ç±»ä¸­çš„æ‰€æœ‰é™æ€æ–¹æ³•å…±ç”¨åŒä¸€æŠŠé”ï¼ˆç±»å.classï¼‰ï¼Œæ‰€æœ‰éé™æ€æ–¹æ³•å…±ç”¨åŒä¸€æŠŠé”ï¼ˆthisï¼‰</span></li></ul></li></ul></li><li><p><span>lock</span></p><ul><li><span>ä¸syschronizedç±»ä¼¼</span></li></ul></li><li><p><span>synchronized ä¸ Lock çš„å¯¹æ¯”</span></p><ul><li><span>Lockæ˜¯æ˜¾å¼é”ï¼ˆæ‰‹åŠ¨å¼€å¯å’Œå…³é—­é”ï¼Œåˆ«å¿˜è®°å…³é—­é”ï¼‰ï¼Œsynchronizedæ˜¯éšå¼é”ï¼Œå‡ºäº†ä½œç”¨åŸŸè‡ªåŠ¨é‡Šæ”¾</span></li><li><span>Lockåªæœ‰ä»£ç å—é”ï¼Œsynchronizedæœ‰ä»£ç å—é”å’Œæ–¹æ³•é”</span></li><li><span>ä½¿ç”¨Locké”ï¼ŒJVMå°†èŠ±è´¹è¾ƒå°‘çš„æ—¶é—´æ¥è°ƒåº¦çº¿ç¨‹ï¼Œæ€§èƒ½æ›´å¥½ã€‚å¹¶ä¸”å…·æœ‰æ›´å¥½çš„æ‰©å±•æ€§ï¼ˆæä¾›æ›´å¤šçš„å­ç±»ï¼‰</span></li></ul></li></ul></li><li><p><span>çº¿ç¨‹é€šä¿¡</span></p><ul><li><p><span>é€šä¿¡æ–¹å¼</span></p><ul><li><p><span>å…±äº«å†…å­˜</span></p><ul><li><span>çº¿ç¨‹ä¹‹é—´é€šè¿‡å†™-è¯»å†…å­˜ä¸­çš„å…¬å…±çŠ¶æ€æ¥éšå¼è¿›è¡Œé€šä¿¡ã€‚</span></li><li><span>å…¸å‹çš„å…±äº«å†…å­˜é€šä¿¡æ–¹å¼ï¼Œå°±æ˜¯é€šè¿‡å…±äº«å¯¹è±¡è¿›è¡Œé€šä¿¡</span></li></ul></li><li><p><span>æ¶ˆæ¯ä¼ é€’</span></p><ul><li><span>çº¿ç¨‹ä¹‹é—´æ²¡æœ‰å…¬å…±çŠ¶æ€ï¼Œçº¿ç¨‹ä¹‹é—´å¿…é¡»é€šè¿‡æ˜ç¡®çš„å‘é€æ¶ˆæ¯æ¥æ˜¾å¼è¿›è¡Œé€šä¿¡</span></li><li><span>åœ¨ Java ä¸­å…¸å‹çš„æ¶ˆæ¯ä¼ é€’æ–¹å¼ï¼Œå°±æ˜¯ wait() å’Œ notify() ï¼Œæˆ–è€… BlockingQueue</span></li></ul></li></ul></li><li><p><span>å­ä¸»é¢˜ 2</span></p></li><li><p><span>å­ä¸»é¢˜ 3</span></p></li></ul></li><li><p><span>æ­»é”çš„äº§ç”Ÿå’Œè§£å†³</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>ä¸åŒçš„çº¿ç¨‹åˆ†åˆ«å ç”¨å¯¹æ–¹éœ€è¦çš„åŒæ­¥èµ„æºä¸æ”¾å¼ƒï¼Œéƒ½åœ¨ç­‰å¾…å¯¹æ–¹æ”¾å¼ƒè‡ªå·±éœ€è¦çš„åŒæ­¥èµ„æºï¼Œå°±å½¢æˆäº†çº¿ç¨‹çš„æ­»é”</span></li><li><span>ä¸ä¼šå‡ºç°å¼‚å¸¸ï¼Œä¸ä¼šå‡ºç°æç¤ºï¼Œåªæ˜¯æ‰€æœ‰çš„çº¿ç¨‹éƒ½å¤„äºé˜»å¡çŠ¶æ€</span></li></ul></li><li><p><span>å››ä¸ªå¿…è¦æ¡ä»¶</span></p><ul><li><span>äº’æ–¥æ¡ä»¶ï¼šä¸€ä¸ªèµ„æºæ¯æ¬¡åªèƒ½è¢«ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨</span></li><li><span>è¯·æ±‚ä¸ä¿æŒæ¡ä»¶ï¼šä¸€ä¸ªè¿›ç¨‹å› è¯·æ±‚èµ„æºè€Œé˜»å¡æ—¶ï¼Œå¯¹å·²è·å¾—çš„èµ„æºä¿æŒä¸æ”¾</span></li><li><span>ä¸å‰¥å¤ºæ¡ä»¶ : è¿›ç¨‹å·²è·å¾—çš„èµ„æºï¼Œåœ¨æœ«ä½¿ç”¨å®Œä¹‹å‰ï¼Œä¸èƒ½å¼ºè¡Œå‰¥å¤º</span></li><li><span>å¾ªç¯ç­‰å¾…æ¡ä»¶ : è‹¥å¹²è¿›ç¨‹ä¹‹é—´å½¢æˆä¸€ç§å¤´å°¾ç›¸æ¥çš„å¾ªç¯ç­‰å¾…èµ„æºå…³ç³»</span></li></ul></li><li><p><span>è§£å†³æ–¹æ¡ˆ</span></p><ul><li><p><span>é“¶è¡Œå®¶ç®—æ³•</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>å­ä¸»é¢˜ 1</span></li></ul></li></ul></li></ul></li></ul></li><li><p><span>å¦‚ä½•åœæ­¢æ­£åœ¨è¿è¡Œçš„çº¿ç¨‹ï¼Ÿ</span></p><ul><li><span>æ­£å¸¸é€€å‡º</span></li><li><span>ä½¿ç”¨stopæ–¹æ³•å¼ºè¡Œç»ˆæ­¢</span></li><li><span>ä½¿ç”¨interruptæ–¹æ³•ä¸­æ–­çº¿ç¨‹</span></li></ul></li><li><p><span>notify()å’ŒnotifyAll()æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</span></p></li></ul><h3 id='åå°„'><span>åå°„</span></h3><ul><li><p><span>å®šä¹‰</span></p><ul><li><p><span>å…è®¸ç¨‹åºåœ¨æ‰§è¡ŒæœŸå€ŸåŠ©äºReflection APIå–å¾—ä»»ä½•ç±»çš„å†…éƒ¨ä¿¡æ¯ï¼Œå¹¶èƒ½ç›´æ¥æ“ä½œä»»æ„å¯¹è±¡çš„å†…éƒ¨å±æ€§åŠæ–¹æ³•ã€‚</span></p></li><li><p><span>åŠ è½½å®Œç±»ä¹‹åï¼Œåœ¨å †å†…å­˜çš„æ–¹æ³•åŒºä¸­å°±äº§ç”Ÿäº†ä¸€ä¸ªClassç±»å‹çš„å¯¹è±¡ï¼ˆä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªClasså¯¹è±¡ï¼‰ï¼Œè¿™ä¸ªå¯¹è±¡å°±åŒ…å«äº†å®Œæ•´çš„ç±»çš„ç»“æ„ä¿¡æ¯ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªå¯¹è±¡çœ‹åˆ°ç±»çš„ç»“æ„ã€‚</span></p></li><li><p><span>è¿‡ç¨‹</span></p><ul><li><p><span>æ­£å¸¸æ–¹å¼</span></p><ul><li><span>å¼•å…¥éœ€è¦çš„â€åŒ…ç±»â€åç§° ----&gt;é€šè¿‡newå®ä¾‹åŒ– ----&gt;å–å¾—å®ä¾‹åŒ–å¯¹è±¡</span></li></ul></li><li><p><span>åå°„æ–¹å¼</span></p><ul><li><span>å®ä¾‹åŒ–å¯¹è±¡----&gt;getClass()æ–¹æ³• ----&gt;å¾—åˆ°å®Œæ•´çš„â€œåŒ…ç±»â€å</span></li></ul></li></ul></li></ul></li><li><p><span>é™æ€è¯­è¨€ä¸åŠ¨æ€è¯­è¨€</span></p><ul><li><p><span>é™æ€è¯­è¨€</span></p><ul><li><span>è¿è¡Œæ—¶ç»“æ„ä¸å¯å˜çš„è¯­è¨€å°±æ˜¯é™æ€è¯­è¨€</span></li></ul></li><li><p><span>åŠ¨æ€è¯­è¨€</span></p><ul><li><span>åœ¨è¿è¡Œæ—¶ä»£ç å¯ä»¥æ ¹æ®æŸäº›æ¡ä»¶æ”¹å˜è‡ªèº«ç»“æ„</span></li></ul></li></ul></li><li><p><span>è·å–Classå¯¹è±¡çš„æ–¹å¼ï¼Ÿ</span></p><ul><li><p><span>1.é€šè¿‡å®ä¾‹å¯¹è±¡è·å¾—</span></p><ul><li><span>Class class1 = person.getClass();</span></li></ul></li><li><p><span>2.é€šè¿‡å…¨ç±»åè·å¾—(åŒ…å+ç±»å)</span></p><ul><li><span>Class class2 = Class.forName(&quot;reflection.Student&quot;);</span></li></ul></li><li><p><span>3.é€šè¿‡ç±»çš„é™æ€æˆå‘˜classè·å¾—</span></p><ul><li><span>Class class3 = Person.class;</span></li></ul></li><li><p><span>4.åªé’ˆå¯¹å†…ç½®çš„åŸºæœ¬æ•°æ®ç±»å‹</span></p><ul><li><span>Class class4 = Integer.TYPE;</span></li></ul></li></ul></li><li><p><span>å…·æœ‰Classçš„æ•°æ®ç±»å‹ï¼Ÿ</span></p><ul><li><p><span>æ•°æ®ç±»å‹</span></p><ul><li><span>Class c1 = Object.class;</span>
<span>Class c2 = Comparable.class; // æ¥å£</span>
<span>Class c3 = String[].class;</span>
<span>Class c4 = int</span>[][]<span>.class;</span>
<span>Class c5 = ElementType.class; // æšä¸¾</span>
<span>Class c6 = Override.class;  // æ¥æ³¨è§£</span>
<span>Class c7 = Integer.class;</span>
<span>Class c8 = void.class;</span>
<span>Class c9 = Class.class;</span></li></ul></li><li><p><span>//åªè¦å…ƒç´ ç±»å‹ä¸ç»´åº¦ä¸€æ ·,å°±æ˜¯åŒä¸€ä¸ªClass</span>
<span>int[] a = new int[10];</span>
<span>int[] b = new int[100];</span></p></li></ul></li><li><p><span>ç±»å‘ç”Ÿåˆå§‹åŒ–çš„æ—¶æœºï¼Ÿ</span></p><ul><li><p><span>ç±»çš„ä¸»åŠ¨å¼•ç”¨</span></p><ul><li><span>1ã€å½“è™šæ‹Ÿæœºå¯åŠ¨ï¼Œå…ˆåˆå§‹åŒ–mainæ–¹æ³•æ‰€åœ¨çš„ç±»</span></li><li><span>2ã€newä¸€ä¸ªç±»çš„å¯¹è±¡</span></li><li><span>3ã€è°ƒç”¨ç±»çš„é™æ€æˆå‘˜ï¼ˆé™¤äº†finalå¸¸é‡ï¼‰å’Œé™æ€æ–¹æ³•</span></li><li><span>4ã€ä½¿ç”¨java.lang.reflectåŒ…çš„æ–¹æ³•å¯¹ç±»è¿›è¡Œåå°„è°ƒç”¨</span></li><li><span>5ã€å½“åˆå§‹åŒ–ä¸€ä¸ªç±»ï¼Œå¦‚æœå…¶çˆ¶ç±»æ²¡æœ‰è¢«åˆå§‹åŒ–ï¼Œåˆ™å…ˆä¼šåˆå§‹åŒ–å®ƒçš„çˆ¶ç±»</span></li></ul></li><li><p><span>ç±»çš„è¢«åŠ¨å¼•ç”¨</span></p><ul><li><p><span>1ã€å½“è®¿é—®ä¸€ä¸ªé™æ€åŸŸæ—¶ï¼Œåªæœ‰çœŸæ­£å£°æ˜è¿™ä¸ªåŸŸçš„ç±»æ‰ä¼šè¢«åˆå§‹åŒ–</span></p><ul><li><span>å½“é€šè¿‡å­ç±»å¼•ç”¨çˆ¶ç±»çš„é™æ€å˜é‡ï¼Œä¸ä¼šå¯¼è‡´å­ç±»åˆå§‹åŒ–ï¼Œåªæ˜¯å­˜æ”¾äº†æŒ‡å‘è¿™ä¸ªå˜é‡çš„å¼•ç”¨</span></li></ul></li><li><p><span>2ã€é€šè¿‡æ•°ç»„å®šä¹‰ç±»å¼•ç”¨ï¼Œä¸ä¼šè§¦å‘æ­¤ç±»çš„åˆå§‹åŒ–</span></p><ul><li><span>åªæ˜¯å®šä¹‰äº†ä¸€ä¸ªå˜é‡åå’Œå¼€è¾Ÿäº†ä¸€å—ç©ºé—´</span></li></ul></li><li><p><span>3ã€å¼•ç”¨å¸¸é‡ä¸ä¼šè§¦å‘æ­¤ç±»çš„åˆå§‹åŒ–</span></p><ul><li><span>å¸¸é‡åœ¨é“¾æ¥é˜¶æ®µå°±å­˜å…¥è°ƒç”¨ç±»çš„å¸¸é‡æ± ä¸­äº†</span></li></ul></li></ul></li></ul></li><li><p><span>å¦‚ä½•é€šè¿‡åå°„è·å–æ³¨è§£ï¼Ÿ</span></p><ul><li><p><span>è·å–æ‰€æœ‰æ³¨è§£</span></p><ul><li><span>Class&lt;?&gt; c = Class.forName(&quot;reflection.Student1&quot;);</span>
<span>Annotation[] annotations = c.getAnnotations();</span></li></ul></li><li><p><span>è·å–ç±»ä¸­æŒ‡å®šæ³¨è§£</span></p><ul><li><span>Field id = c.getDeclaredField(&quot;id&quot;);</span>
<span>FiledAnnotation annotation1 = id.getAnnotation(FiledAnnotation.class);</span></li><li><span>å…ˆé€šè¿‡åå°„è·å–å±æ€§ï¼Œå†è·å–æ³¨è§£</span></li></ul></li><li><p><span>è·å–æ³¨è§£çš„valueå€¼</span></p><ul><li><span>annotation.value();</span></li></ul></li></ul></li><li><p><span>å¦‚ä½•é€šè¿‡åå°„åŠ¨æ€åˆ›å»ºå¯¹è±¡ï¼Ÿ</span></p><ul><li><p><span>// è·å–Classå¯¹è±¡</span>
<span>Class&lt;?&gt; c = Class.forName(&quot;pojo.User&quot;);</span>
<span>Object o = c.newInstance();  //æœ¬è´¨è°ƒç”¨äº†ç±»çš„æ— å‚æ„é€ å™¨ï¼Œæƒé™å¿…é¡»æ˜¯public</span></p></li><li><p><span>é€šè¿‡æ„é€ å™¨åˆ›å»ºå¯¹è±¡</span></p><ul><li><span>Constructor&lt;?&gt; constructor = c.getConstructor(int.class, String.class);</span>
<span>Object admin = constructor.newInstance(1, &quot;admin&quot;);  //æœ¬è´¨è°ƒç”¨äº†ç±»çš„æ„é€ å™¨ï¼Œæƒé™æ²¡æœ‰è¦æ±‚</span></li></ul></li><li><p><span>é€šè¿‡åå°„è°ƒç”¨æ–¹æ³•</span></p><ul><li><p><span>User user = (User) c.newInstance();</span>
<span>Method setId = c.getDeclaredMethod(&quot;setId&quot;, int.class);</span>
<span>setId.invoke(user,10086); // invoke(å¯¹è±¡ï¼Œ&quot;æ–¹æ³•çš„å€¼&quot;)</span></p><ul><li><span>invokeè°ƒç”¨æ–¹æ³•</span></li></ul></li></ul></li><li><p><span>é€šè¿‡åå°„è°ƒç”¨å±æ€§</span></p><ul><li><span>user = (User) c.newInstance();</span>
<span>Field id = c.getDeclaredField(&quot;id&quot;);</span>
<span>id.setAccessible(true); // ç§æœ‰å±æ€§æ— æ³•è®¿é—®ï¼ŒsetAccessibleæ˜¯å¯åŠ¨å’Œç¦ç”¨è®¿é—®å®‰å…¨æ£€æŸ¥çš„å¼€å…³ï¼Œå…³é—­å®‰å…¨æ£€æµ‹</span>
<span>id.set(user,10);</span></li></ul></li></ul></li><li><p><span>å¦‚ä½•è·å–è¿è¡Œæ—¶ç±»çš„å®Œæ•´ç»“æ„ï¼Ÿ</span></p><ul><li><p><span>1.å®ç°çš„å…¨éƒ¨æ¥å£</span></p><ul><li><span>public Class&lt;?&gt;[] getInterfaces()</span></li></ul></li><li><p><span>2.æ‰€ç»§æ‰¿çš„çˆ¶ç±»</span></p><ul><li><span>public Class&lt;? Super T&gt; getSuperclass()</span></li></ul></li><li><p><span>3.å…¨éƒ¨çš„æ„é€ å™¨</span></p><ul><li><p><span>public Constructor</span><T><span>[] getConstructors() ï¼›// public</span></p></li><li><p><span>public Constructor</span><T><span>[] getDeclaredConstructors()</span></p></li><li><p><span>Constructor</span></p><ul><li><span>public int getModifiers();  å–å¾—ä¿®é¥°ç¬¦</span>
<span>public String getName(); å–å¾—æ–¹æ³•åç§°:</span>
<span>public Class&lt;?&gt;[] getParameterTypes(); å–å¾—å‚æ•°çš„ç±»å‹</span></li></ul></li></ul></li><li><p><span>4.å…¨éƒ¨çš„æ–¹æ³•</span></p><ul><li><p><span>public Method[] getMethods()ï¼›// public</span></p></li><li><p><span>public Method[] getDeclaredMethods()</span></p></li><li><p><span>Methord</span></p><ul><li><span>public Class&lt;?&gt; getReturnType()å–å¾—å…¨éƒ¨çš„è¿”å›å€¼</span></li><li><span>public Class&lt;?&gt;[] getParameterTypes()å–å¾—å…¨éƒ¨çš„å‚æ•°</span></li><li><span>public int getModifiers()å–å¾—ä¿®é¥°ç¬¦</span></li><li><span>public Class&lt;?&gt;[] getExceptionTypes()å–å¾—å¼‚å¸¸ä¿¡æ¯</span></li></ul></li></ul></li><li><p><span>5.å…¨éƒ¨çš„Field</span></p><ul><li><p><span>public Field[] getFields()ï¼› // public</span></p></li><li><p><span>public Field[] getDeclaredFields() </span></p></li><li><p><span>Filed</span></p><ul><li><span>public int getModifiers() ä»¥æ•´æ•°å½¢å¼è¿”å›æ­¤Fieldçš„ä¿®é¥°ç¬¦</span></li><li><span>public Class&lt;?&gt; getType() å¾—åˆ°Fieldçš„å±æ€§ç±»å‹</span></li><li><span>public String getName() è¿”å›Fieldçš„åç§°ã€‚</span></li></ul></li></ul></li></ul></li><li><p><span>å¦‚ä½•è°ƒç”¨è¿è¡Œæ—¶ç±»çš„æŒ‡å®šç»“æ„ï¼Ÿ</span></p><ul><li><p><span>1.è°ƒç”¨æŒ‡å®šæ–¹æ³•</span></p><ul><li><span>Object invoke(Object obj, Object â€¦ args)</span></li></ul></li><li><p><span>2.è°ƒç”¨æŒ‡å®šå±æ€§</span></p><ul><li><span>c Object get(Object obj)</span></li><li><span>void set(Object obj,Object value)</span></li></ul></li><li><p><span>setAccessible</span></p><ul><li><p><span>Methodå’ŒFieldã€Constructorå¯¹è±¡éƒ½æœ‰setAccessible()æ–¹æ³•</span></p></li><li><p><span>ä½œç”¨</span></p><ul><li><span>å–æ¶ˆJavaè¯­è¨€è®¿é—®æ£€æŸ¥ï¼Œæé«˜åå°„çš„æ•ˆç‡</span></li><li><span>å¯ä»¥è®¿é—®åŸæœ‰çš„ç§æœ‰æˆå‘˜</span></li></ul></li></ul></li></ul></li><li><p><span>ä¼˜ç¼ºç‚¹</span></p><ul><li><p><span>ä¼˜ç‚¹</span></p><ul><li><span>èƒ½å¤Ÿè¿è¡Œæ—¶åŠ¨æ€è·å–ç±»çš„å®ä¾‹ï¼Œæé«˜çµæ´»æ€§</span></li><li><span>ä¸åŠ¨æ€ç¼–è¯‘ç»“åˆ</span></li></ul></li><li><p><span>ç¼ºç‚¹</span></p><ul><li><p><span>æ€§èƒ½è¾ƒä½ï¼Œéœ€è¦è§£æå­—èŠ‚ç ï¼Œå°†å†…å­˜ä¸­çš„å¯¹è±¡è¿›è¡Œè§£æ</span></p><ul><li><span>setAccessible(true) å…³é—­æ£€æŸ¥</span></li></ul></li><li><p><span>ç›¸å¯¹ä¸å®‰å…¨ï¼Œç ´åäº†å°è£…æ€§ï¼ˆå¯ä»¥è·å–ç§æœ‰å±æ€§å’Œæ–¹æ³•ï¼‰</span></p></li></ul></li></ul></li></ul><h3 id='æ³¨è§£'><span>æ³¨è§£</span></h3><ul><li><p><span>å…ƒæ³¨è§£</span></p><ul><li><span>@Target : ç”¨äºæè¿°æ³¨è§£çš„ä½¿ç”¨èŒƒå›´(å³:è¢«æè¿°çš„æ³¨è§£å¯ä»¥ç”¨åœ¨ä»€ä¹ˆåœ°æ–¹)</span></li><li><span>@Retention : è¡¨ç¤ºéœ€è¦åœ¨ä»€ä¹ˆçº§åˆ«ä¿å­˜è¯¥æ³¨é‡Šä¿¡æ¯ , ç”¨äºæè¿°æ³¨è§£çš„ç”Ÿå‘½å‘¨æœŸ(SOURCE &lt; CLASS &lt; RUNTIME)</span></li><li><span>@Documentï¼šè¯´æ˜è¯¥æ³¨è§£å°†è¢«åŒ…å«åœ¨javadocä¸­</span></li><li><span>@Inheritedï¼šè¯´æ˜å­ç±»å¯ä»¥ç»§æ‰¿çˆ¶ç±»ä¸­çš„è¯¥æ³¨è§£</span></li></ul></li><li><p><span>è‡ªå®šä¹‰æ³¨è§£</span></p><ul><li><p><span>@interface</span></p><ul><li><span>@Target(value = {ElementType.METHOD})</span>
<span>@Retention(value = RetentionPolicy.RUNTIME)</span>
<span>@interface MyAnnotation2{</span>
<span>//å‚æ•°ç±»å‹ , å‚æ•°å</span>
<span>String name() default &quot;&quot;;</span>
<span>int age() default 0;</span>
<span>int id() default -1;  //String indexOf(&quot;abc&quot;) -1 , ä¸å­˜åœ¨,æ‰¾ä¸åˆ°</span>
<span>String[] users() default {&quot;username&quot;,&quot;admin&quot;};</span>
<span>}</span></li></ul></li></ul></li><li><p><span>ç¼–è¯‘æ—¶è¿›è¡Œæ ¼å¼æ£€æŸ¥çš„æ³¨è§£</span></p><ul><li><span>@Override: é™å®šé‡å†™çˆ¶ç±»æ–¹æ³•, è¯¥æ³¨è§£åªèƒ½ç”¨äºæ–¹æ³•</span></li><li><span>@Deprecated: ç”¨äºè¡¨ç¤ºæ‰€ä¿®é¥°çš„å…ƒç´ (ç±», æ–¹æ³•ç­‰)å·²è¿‡æ—¶ã€‚é€šå¸¸æ˜¯å› ä¸ºæ‰€ä¿®é¥°çš„ç»“æ„å±é™©æˆ–å­˜åœ¨æ›´å¥½çš„é€‰æ‹©</span></li><li><span>@SuppressWarnings: æŠ‘åˆ¶ç¼–è¯‘å™¨è­¦å‘Š</span></li></ul></li><li><p><span>åå°„æ“ä½œæ³¨è§£</span></p></li></ul><h3 id='ioæµ'><span>IOæµ</span></h3><ul><li><p><span>Fileç±»</span></p><ul><li><p><span>å¸¸é‡</span></p><ul><li><p><span>public static final String separator</span></p><ul><li><span>æ ¹æ®æ“ä½œç³»ç»Ÿï¼ŒåŠ¨æ€çš„æä¾›åˆ†éš”ç¬¦</span></li></ul></li></ul></li><li><p><span>å¸¸ç”¨æ„é€ å™¨</span></p><ul><li><p><span>public File(String pathname)</span></p><ul><li><span>ä»¥pathnameä¸ºè·¯å¾„åˆ›å»ºFileå¯¹è±¡ï¼Œå¯ä»¥æ˜¯ç»å¯¹è·¯å¾„æˆ–è€…ç›¸å¯¹è·¯å¾„</span></li></ul></li><li><p><span>public File(String parent,String child)</span></p><ul><li><span>ä»¥parentä¸ºçˆ¶è·¯å¾„ï¼Œchildä¸ºå­è·¯å¾„åˆ›å»ºFileå¯¹è±¡</span></li></ul></li><li><p><span>public File(File parent,String child)</span></p><ul><li><span>æ ¹æ®ä¸€ä¸ªçˆ¶Fileå¯¹è±¡å’Œå­æ–‡ä»¶è·¯å¾„åˆ›å»ºFileå¯¹è±¡</span></li></ul></li></ul></li><li><p><span>å¸¸ç”¨æ–¹æ³•</span></p></li></ul></li><li><p><span>å®šä¹‰</span></p><ul><li><p><span>è¾“å…¥input</span></p><ul><li><span>è¯»å–å¤–éƒ¨æ•°æ®ï¼ˆç£ç›˜ã€å…‰ç›˜ç­‰å­˜å‚¨è®¾å¤‡çš„æ•°æ®ï¼‰åˆ°ç¨‹åºï¼ˆå†…å­˜ï¼‰ä¸­</span></li></ul></li><li><p><span>è¾“å‡ºoutput</span></p><ul><li><span>å°†ç¨‹åºï¼ˆå†…å­˜ï¼‰æ•°æ®è¾“å‡ºåˆ°ç£ç›˜ã€å…‰ç›˜ç­‰å­˜å‚¨è®¾å¤‡ä¸­</span></li></ul></li></ul></li><li><p><span>åˆ†ç±»</span></p><ul><li><p><span>æ•°æ®å•ä½</span></p><ul><li><span>å­—èŠ‚æµã€å­—ç¬¦æµ</span></li></ul></li><li><p><span>æµå‘</span></p><ul><li><span>è¾“å…¥æµã€è¾“å‡ºæµ</span></li></ul></li><li><p><span>æµçš„è§’è‰²</span></p><ul><li><span>èŠ‚ç‚¹æµã€å¤„ç†æµ</span></li></ul></li></ul></li><li><p><span>å››ä¸ªåŸºç±»</span></p><ul><li><p><span>InputStream</span></p></li><li><p><span>OutputStream</span></p></li><li><p><span>Reader</span></p></li><li><p><span>Writer</span></p></li><li><p><span>InpuStream&amp;Reader</span></p><ul><li><span>void read(int b/int c);</span></li><li><span>void read(byte[] b/char[] cbuf);</span></li><li><span>void read(byte[] b/char[] buff, int off, int len);</span></li><li><span>void close(); éœ€è¦å…ˆåˆ·æ–°ï¼Œå†å…³é—­æ­¤æµ</span></li></ul></li><li><p><span>OuputStream&amp;Writer</span></p><ul><li><span>void write(int b/int c);</span></li><li><span>void write(byte[] b/char[] cbuf);</span></li><li><span>void write(byte[] b/char[] buff, int off, int len);</span></li><li><span>void flush();</span></li><li><span>void close(); éœ€è¦å…ˆåˆ·æ–°ï¼Œå†å…³é—­æ­¤æµ</span></li></ul></li><li><p><span>æ³¨æ„äº‹é¡¹</span></p><ul><li><p><span>è¾“å‡ºæµéƒ½æœ‰flushæ–¹æ³•ï¼Œå¼ºåˆ¶å†™å…¥</span></p></li><li><p><span>InputStreamä¸Readerç±»ä¼¼ï¼›OutputStreamä¸Writerç±»ä¼¼</span></p><ul><li><span>å…·æœ‰çš„æ–¹æ³•ç›¸åŒ</span></li></ul></li><li><p><span>Writerå¯ä»¥ç›´æ¥æ“ä½œå­—ç¬¦ä¸²ï¼Œæœ¬è´¨ä¹Ÿæ˜¯å­—ç¬¦æ•°ç»„</span></p></li></ul></li></ul></li><li><p><span>å¤„ç†æµ</span></p><ul><li><p><span>ç¼“å†²æµ</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>ä¸ºæé«˜è¯»å†™é€Ÿåº¦ï¼Œä½¿ç”¨ç±»æ—¶åˆ›å»ºä¸€ä¸ªç¼“å†²æ•°ç»„ï¼Œé»˜è®¤8192å­—èŠ‚(8KB)</span></li></ul></li><li><p><span>åˆ†ç±»</span></p><ul><li><p><span>BufferedInputStream&amp;BufferedOutputStream</span></p><ul><li><span>ä¸€æ¬¡æ€§ä»æ–‡ä»¶ä¸­è¯»å–8192ä¸ªå­—èŠ‚/å­—ç¬¦åˆ°ç¼“å†²åŒºï¼Œå†ä»ç¼“å†²åŒºä¸­è¯»å–1024å­—èŠ‚/å­—ç¬¦åˆ°ç¨‹åºï¼ˆç¼“å†²åŒºåœ¨å†…å­˜ä¸­ï¼‰</span></li><li><span>åŸæ¥æ˜¯ä»ç¡¬ç›˜ä¸­è¯»å–1024ä¸ªå­—èŠ‚/å­—ç¬¦åˆ°ç¨‹åºä¸­</span></li></ul></li><li><p><span>BufferedReader&amp;BufferedWriter</span></p><ul><li><span>readLine()ï¼šè¯»å–ä¸€è¡Œå­—ç¬¦</span></li><li><span>newLine()ï¼šå¦å†™ä¸€è¡Œ</span></li></ul></li></ul></li></ul></li><li><p><span>è½¬æ¢æµ</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>å°†å­—èŠ‚æµè½¬ä¸ºå­—ç¬¦æµ</span></li></ul></li><li><p><span>åˆ†ç±»</span></p><ul><li><p><span>InputStreamReader</span></p><ul><li><span>inputstream--&gt;reader</span></li></ul></li><li><p><span>OutputStreamWriter</span></p><ul><li><span>outputstream--&gt;writer</span></li></ul></li></ul></li><li><p><span>ä½¿ç”¨åœºæ™¯</span></p><ul><li><p><span>1.å­—èŠ‚æµä¸­çš„æ•°æ®éƒ½æ˜¯å­—ç¬¦æ—¶</span></p></li><li><p><span>2.å¤„ç†æ–‡ä»¶ä¹±ç é—®é¢˜</span></p><ul><li><span>ç¬¬äºŒä¸ªå‚æ•°å¯ä»¥æŒ‡å®šå­—ç¬¦é›†</span></li></ul></li><li><p><span>3.å®ç°ç¼–ç å’Œè§£ç çš„åŠŸèƒ½</span></p></li></ul></li></ul></li><li><p><span>æ•°æ®æµ</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>ä¸ºäº†æ“ä½œJavaè¯­è¨€çš„åŸºæœ¬æ•°æ®ç±»å‹å’ŒStringçš„æ•°æ®è€Œå‡ºç°çš„æµ</span></li></ul></li><li><p><span>åˆ†ç±»</span></p><ul><li><span>DataInputStream</span></li><li><span>DataOutputStream</span></li></ul></li><li><p><span>æ–¹æ³•</span></p><ul><li><span>read/writeInt()......å…«ç§åŸºæœ¬æ•°æ®ç±»å‹</span></li><li><span>read/writeUTF()ï¼šå­—ç¬¦ç¼–ç </span></li><li><span>read/writeFully()ï¼šæ­£å¸¸è¯»å†™</span></li></ul></li></ul></li><li><p><span>å¯¹è±¡æµ</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>ç”¨äºå­˜å‚¨å’Œè¯»å–åŸºæœ¬æ•°æ®ç±»å‹æ•°æ®æˆ–å¯¹è±¡çš„å¤„ç†æµ</span></li><li><span>å¯ä»¥æŠŠJavaä¸­çš„å¯¹è±¡å†™å…¥åˆ°æ•°æ®æºä¸­ï¼Œä¹Ÿèƒ½æŠŠå¯¹è±¡ä»æ•°æ®æºä¸­è¿˜åŸå›æ¥</span></li></ul></li><li><p><span>å®è´¨</span></p><ul><li><span>åºåˆ—åŒ–ã€ååºåˆ—åŒ–</span></li></ul></li><li><p><span>åˆ†ç±»</span></p><ul><li><span>ObjectInputStream</span></li><li><span>OjbectOutputSteam</span></li></ul></li><li><p><span>å­ä¸»é¢˜ 3</span></p></li></ul></li></ul></li><li><p><span>Javaçš„åºåˆ—åŒ–</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><p><span>åºåˆ—åŒ–</span></p><ul><li><span>javaå¯¹è±¡è½¬æ¢ä¸ºå­—èŠ‚åºåˆ—ï¼ˆäºŒè¿›åˆ¶å­—èŠ‚ç»„æˆçš„æ•°ç»„ï¼‰</span></li></ul></li><li><p><span>ååºåˆ—åŒ–</span></p><ul><li><span>å­—èŠ‚åºåˆ—æ¢å¤ä¸ºjavaå¯¹è±¡</span></li></ul></li></ul></li><li><p><span>ä¸ºä»€ä¹ˆè¦åºåˆ—åŒ–ï¼Ÿ</span></p><ul><li><span>å¯¹è±¡ä¸åªæ˜¯å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œå®ƒè¿˜éœ€è¦åœ¨ä¼ è¾“ç½‘ç»œä¸­è¿›è¡Œä¼ è¾“ï¼Œå¹¶ä¸”ä¿å­˜èµ·æ¥ä¹‹åä¸‹æ¬¡å†åŠ è½½å‡ºæ¥ï¼ˆä¿å­˜åœ¨ç£ç›˜æˆ–ä¼ è¾“ç½‘ç»œï¼‰</span></li><li><span>è·¨å¹³å°å­˜å‚¨å’Œè¿›è¡Œç½‘ç»œä¼ è¾“</span></li></ul></li><li><p><span>åºåˆ—åŒ–çš„åŸç†</span></p><ul><li><span>æ¯ä¸ªåºåˆ—åŒ–çš„å¯¹è±¡éƒ½åœ¨ç”¨ä¸€ä¸ªåºåˆ—å·è¿›è¡Œä¿å­˜ï¼Œå½“åºåˆ—åŒ–ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œæ£€æŸ¥è¯¥å¯¹è±¡æ˜¯å¦è¢«åºåˆ—åŒ–ï¼Œå¦‚æœæœªè¿›è¡Œåºåˆ—åŒ–ï¼Œé‡‡ç”¨æµä¸­çš„æ•°æ®è¿›è¡Œåºåˆ—åŒ–ï¼Œå¹¶ä¸ºè¯¥å¯¹è±¡å…³è”ä¸€ä¸ªåºåˆ—å·ï¼›å¦‚æœå·²ç»åºåˆ—åŒ–ï¼Œç›´æ¥é€šè¿‡è¯¥åºåˆ—å·è·å–è¯¥å¯¹è±¡çš„å¼•ç”¨ã€‚</span></li></ul></li><li><p><span>åºåˆ—åŒ–çš„è¿‡ç¨‹ï¼Ÿ</span></p><ul><li><span>1.å°†å¯¹è±¡å®ä¾‹ç›¸å…³çš„ç±»å…ƒæ•°æ®è¾“å‡º</span></li><li><span>2.é€’å½’åœ°è¾“å‡ºç±»çš„è¶…ç±»æè¿°ï¼Œç›´åˆ°æ²¡æœ‰è¶…ç±»</span></li><li><span>3.ç±»å…ƒæ•°æ®è¾“å‡ºä¹‹åï¼Œå¼€å§‹ä»æœ€é¡¶å±‚çš„è¶…ç±»è¾“å‡ºå¯¹è±¡å®ä¾‹çš„å®é™…æ•°æ®å€¼</span></li><li><span>4.ä»ä¸Šè‡³ä¸‹é€’å½’è¾“å‡ºå®ä¾‹çš„æ•°æ®</span></li></ul></li><li><p><span>å¦‚ä½•å®ç°åºåˆ—åŒ–ï¼Ÿ</span></p><ul><li><p><span>Serializable</span></p><ul><li><span>Serializableæ¥å£çš„ä½œç”¨åªæ˜¯æ ‡è¯†è¿™ä¸ªç±»æ˜¯éœ€è¦è¿›è¡Œåºåˆ—åŒ–çš„</span></li></ul></li><li><p><span>Externalizable</span></p><ul><li><span>åœ¨writeExternal()æ–¹æ³•ä¸­æ‰‹å·¥æŒ‡å®šéœ€è¦åºåˆ—åŒ–çš„å˜é‡ï¼Œä¸æ˜¯å¦è¢«transientä¿®é¥°æ— å…³</span></li></ul></li><li><p><span>å®ç°Serializableæ¥å£+æ·»åŠ writeObject()å’ŒreadObject()æ–¹æ³•ã€‚(æ˜¾+éšåºåˆ—åŒ–)</span></p></li></ul></li><li><p><span>transient</span></p><ul><li><span>åªèƒ½ä¿®é¥°å˜é‡ï¼Œä¸å†æ˜¯å¯¹è±¡æŒä¹…åŒ–çš„ä¸€éƒ¨åˆ†ï¼Œååºåˆ—åŒ–æ—¶ä¹Ÿæ— æ³•è·å–</span></li><li><span>finalä¿®é¥°çš„å˜é‡éƒ½ä¸ä¼šè¢«åºåˆ—åŒ–</span></li><li><span>å®ç°Externalizableæ¥å£çš„ä¸ä¸€å®šä¸è¢«åºåˆ—åŒ–</span></li></ul></li><li><p><span>è°ˆè°ˆä½ å¯¹java.io.Serializableæ¥å£çš„ç†è§£</span></p><ul><li><span>1ã€å®ç°äº†Serializableæ¥å£çš„å¯¹è±¡ï¼Œå¯å°†å®ƒä»¬è½¬æ¢æˆä¸€ç³»åˆ—å­—èŠ‚ï¼Œå¹¶å¯åœ¨ä»¥åå®Œå…¨æ¢å¤å›åŸæ¥çš„æ ·å­ã€‚è¿™ä¸€è¿‡ç¨‹äº¦å¯é€šè¿‡ç½‘ç»œè¿›è¡Œã€‚è¿™æ„å‘³ç€åºåˆ—åŒ–æœºåˆ¶èƒ½è‡ªåŠ¨è¡¥å¿æ“ä½œç³»ç»Ÿé—´çš„å·®å¼‚ã€‚</span></li><li><span>2ã€ä¸å¿…å…³å¿ƒæ•°æ®åœ¨ä¸åŒæœºå™¨ä¸Šå¦‚ä½•è¡¨ç¤ºï¼Œä¹Ÿä¸å¿…å…³å¿ƒå­—èŠ‚çš„é¡ºåºæˆ–è€…å…¶ä»–ä»»ä½•ç»†èŠ‚</span></li><li><span>3ã€ç”±äºå¤§éƒ¨åˆ†ä½œä¸ºå‚æ•°çš„ç±»å¦‚Stringã€Integerç­‰éƒ½å®ç°äº†java.io.Serializableçš„æ¥å£ï¼Œä¹Ÿå¯ä»¥åˆ©ç”¨å¤šæ€çš„æ€§è´¨ï¼Œä½œä¸ºå‚æ•°ä½¿æ¥å£æ›´çµæ´»ã€‚</span></li></ul></li></ul></li></ul><h3 id='ç½‘ç»œç¼–ç¨‹'><span>ç½‘ç»œç¼–ç¨‹</span></h3><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>é€šè¿‡æ“ä½œç›¸åº”APIè°ƒåº¦è®¡ç®—æœºèµ„æºç¡¬ä»¶ï¼Œå¹¶ä¸”åˆ©ç”¨ç®¡é“ï¼ˆç½‘çº¿ï¼‰è¿›è¡Œæ•°æ®äº¤äº’çš„è¿‡ç¨‹ã€‚</span></li></ul></li><li><p><span>InetAddress</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>InetAddressæ˜¯javaç½‘ç»œçš„ç±»ã€‚é€šè¿‡è¯¥ç±»é€šè¿‡å¾—åˆ°ipåœ°å€å’Œä¸»æœºåä¸€äº›ä¿¡æ¯</span></li></ul></li><li><p><span>è·å–InetAddresså®ä¾‹</span></p><ul><li><span>public static InetAddress getLocalHost()</span></li><li><span>public static InetAddress getByName(String host)</span></li></ul></li><li><p><span>å¸¸ç”¨æ–¹æ³•</span></p><ul><li><span>public String getHostAddress()ï¼šè¿”å› IP åœ°å€å­—ç¬¦ä¸²ï¼ˆä»¥æ–‡æœ¬è¡¨ç°å½¢å¼ï¼‰</span></li><li><span>public String getHostName()ï¼šè·å–æ­¤ IP åœ°å€çš„ä¸»æœºå</span></li><li><span>public boolean isReachable(int timeout)ï¼šæµ‹è¯•æ˜¯å¦å¯ä»¥è¾¾åˆ°è¯¥åœ°å€</span></li></ul></li></ul></li><li><p><span>Socket</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>å¥—æ¥å­—ï¼Œç”±å”¯ä¸€æ ‡è¯†çš„IPåœ°å€å’Œç«¯å£å·ç»„åˆ</span></li></ul></li><li><p><span>åˆ†ç±»</span></p><ul><li><span>æµå¥—æ¥å­—ï¼ˆstream socketï¼‰ï¼šä½¿ç”¨TCPæä¾›å¯ä¾èµ–çš„å­—èŠ‚æµæœåŠ¡</span></li><li><span>æ•°æ®æŠ¥å¥—æ¥å­—ï¼ˆdatagram socketï¼‰ï¼šä½¿ç”¨UDPæä¾›â€œå°½åŠ›è€Œä¸ºâ€çš„æ•°æ®æŠ¥æœåŠ¡</span></li></ul></li><li><p><span>å¸¸ç”¨æ„é€ å™¨</span></p><ul><li><span>public Socket(InetAddress address,int port)åˆ›å»ºä¸€ä¸ªæµå¥—æ¥å­—å¹¶å°†å…¶è¿æ¥åˆ°æŒ‡å®š IP åœ°å€çš„æŒ‡å®šç«¯å£å·</span></li><li><span>public Socket(String host,int port)åˆ›å»ºä¸€ä¸ªæµå¥—æ¥å­—å¹¶å°†å…¶è¿æ¥åˆ°æŒ‡å®šä¸»æœºä¸Šçš„æŒ‡å®šç«¯å£å·</span></li></ul></li><li><p><span>å¸¸ç”¨æ–¹æ³•</span></p><ul><li><span>public InputStream getInputStream()è¿”å›æ­¤å¥—æ¥å­—çš„è¾“å…¥æµã€‚å¯ä»¥ç”¨äºæ¥æ”¶ç½‘ç»œæ¶ˆæ¯</span></li><li><span>public OutputStream getOutputStream()è¿”å›æ­¤å¥—æ¥å­—çš„è¾“å‡ºæµã€‚å¯ä»¥ç”¨äºå‘é€ç½‘ç»œæ¶ˆæ¯</span></li><li><span>public InetAddress getInetAddress()æ­¤å¥—æ¥å­—è¿æ¥åˆ°çš„è¿œç¨‹ IP åœ°å€ï¼›å¦‚æœå¥—æ¥å­—æ˜¯æœªè¿æ¥çš„ï¼Œåˆ™è¿”å› nullã€‚</span></li><li><span>public InetAddress getLocalAddress()è·å–å¥—æ¥å­—ç»‘å®šçš„æœ¬åœ°åœ°å€ã€‚ å³æœ¬ç«¯çš„IPåœ°å€</span></li><li><span>public int getPort()æ­¤å¥—æ¥å­—è¿æ¥åˆ°çš„è¿œç¨‹ç«¯å£å·ï¼›å¦‚æœå°šæœªè¿æ¥å¥—æ¥å­—ï¼Œåˆ™è¿”å› 0ã€‚</span></li><li><span>public int getLocalPort()è¿”å›æ­¤å¥—æ¥å­—ç»‘å®šåˆ°çš„æœ¬åœ°ç«¯å£ã€‚ å¦‚æœå°šæœªç»‘å®šå¥—æ¥å­—ï¼Œåˆ™è¿”å› -1ã€‚</span></li></ul></li></ul></li><li><p><span>TCP</span></p></li><li><p><span>UDP</span></p></li><li><p><span>URL</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>ç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼Œå®ƒè¡¨ç¤º Internet ä¸ŠæŸä¸€èµ„æºçš„åœ°å€ã€‚</span></li><li><span>ä¸€ç§å…·ä½“çš„URIï¼Œå³URLå¯ä»¥ç”¨æ¥æ ‡è¯†ä¸€ä¸ªèµ„æºï¼Œè€Œä¸”è¿˜æŒ‡æ˜äº†å¦‚ä½•locateè¿™ä¸ªèµ„æº</span></li></ul></li><li><p><span>åŸºæœ¬ç»“æ„</span></p><ul><li><span>&lt;ä¼ è¾“åè®®&gt;://&lt;ä¸»æœºå&gt;:&lt;ç«¯å£å·&gt;/&lt;æ–‡ä»¶å&gt;#ç‰‡æ®µå?å‚æ•°åˆ—è¡¨</span></li><li><span>ç‰‡æ®µåï¼šé”šç‚¹</span></li></ul></li></ul></li><li><p><span>URIã€URLå’ŒURNçš„åŒºåˆ«</span></p><ul><li><p><span>URIï¼Œæ˜¯uniform resource identifierï¼Œç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ï¼Œç”¨æ¥å”¯ä¸€çš„æ ‡è¯†ä¸€ä¸ªèµ„æº</span></p></li><li><p><span>URLï¼Œæ˜¯uniform resource locatorï¼Œç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼Œå®ƒæ˜¯ä¸€ç§å…·ä½“çš„URIï¼Œå³URLå¯ä»¥ç”¨æ¥æ ‡è¯†ä¸€ä¸ªèµ„æºï¼Œè€Œä¸”è¿˜æŒ‡æ˜äº†å¦‚ä½•locateï¼ˆå®šä½ï¼‰è¿™ä¸ªèµ„æºã€‚</span></p></li><li><p><span>URNï¼Œuniform resource nameï¼Œç»Ÿä¸€èµ„æºå‘½åï¼Œæ˜¯é€šè¿‡åå­—æ¥æ ‡è¯†èµ„æº</span></p></li><li><p><span>åŒºåˆ«</span></p><ul><li><span>URIæ˜¯ä»¥ä¸€ç§æŠ½è±¡çš„ï¼Œé«˜å±‚æ¬¡æ¦‚å¿µå®šä¹‰ç»Ÿä¸€èµ„æºæ ‡è¯†ï¼Œè€ŒURLå’ŒURNåˆ™æ˜¯å…·ä½“çš„èµ„æºæ ‡è¯†çš„æ–¹å¼ã€‚URLå’ŒURNéƒ½æ˜¯ä¸€ç§URIã€‚</span></li></ul></li></ul></li></ul><h3 id='javaé›†åˆ'><span>Javaé›†åˆ</span></h3><ul><li><p><span>Collection</span></p><ul><li><p><span>List</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>å…ƒç´ æœ‰åºã€ä¸”å¯é‡å¤ï¼Œé›†åˆä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æœ‰å…¶å¯¹åº”çš„é¡ºåºç´¢å¼•</span></li></ul></li><li><p><span>ArrayList</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>å¯å˜é•¿æ•°ç»„</span></li></ul></li><li><p><span>å®ç°</span></p><ul><li><p><span>JDK7</span></p><ul><li><span>åƒé¥¿æ±‰å¼ï¼Œç›´æ¥åˆ›å»ºä¸€ä¸ªåˆå§‹å®¹é‡ä¸º10çš„æ•°ç»„</span></li></ul></li><li><p><span>JDK8</span></p><ul><li><span>åƒæ‡’æ±‰å¼ï¼Œä¸€å¼€å§‹åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º0çš„æ•°ç»„ï¼Œå½“æ·»åŠ ç¬¬ä¸€ä¸ªå…ƒç´ æ—¶å†åˆ›å»ºä¸€ä¸ªå§‹å®¹é‡ä¸º10çš„æ•°ç»„</span></li></ul></li><li><p><span>åŸç†</span></p><ul><li><span>æ·»åŠ ä¹‹å‰æ£€æŸ¥å®¹é‡æ˜¯å¦è¶³å¤Ÿï¼Œä¸å¤Ÿå°±è¿›è¡Œæ‰©å®¹</span></li></ul></li></ul></li><li><p><span>æ‰©å®¹æœºåˆ¶</span></p><ul><li><p><span>åŸç†</span></p><ul><li><span>å‘ç”Ÿæ‰©å®¹æ—¶ï¼Œæ–°å®¹é‡çš„æ•°å€¼æ˜¯ArraysSupport.newLength()çš„è¿”å›å€¼ï¼Œä¹Ÿå°±æ˜¯æ–°çš„å®¹é‡æ˜¯æ—§å®¹é‡åŠ ä¸Šæ—§å®¹é‡å€¼å³ç§»ä¸€ä½å¾—åˆ°çš„ï¼Œç„¶åè°ƒç”¨Arrays.copyOf()æ–¹æ³•ï¼Œè¿”å›æ–°å®¹é‡çš„æ•°ç»„ã€‚</span></li></ul></li><li><p><span>æ³¨æ„äº‹é¡¹</span></p><ul><li><p><span>ä¸€ä¸ªæ•°å³ç§»ä¸€ä½çš„ç»“æœï¼Œç­‰äºè¿™ä¸ªæ•°é™¤ä»¥2^nçš„æ•´æ•°éƒ¨åˆ†</span></p><ul><li><span>15*1.5=22.5ï¼Œå–22</span></li></ul></li><li><p><span>ä¸ä¸€å®šæ˜¯1.5å€</span></p></li><li><p><span>Arrays.copyOf()ä¼ å…¥åˆå§‹æ•°ç»„å’Œæ–°æ•°ç»„çš„é•¿åº¦ï¼Œè¿”å›æ–°æ•°ç»„ï¼ŒåŸå§‹æ•°ç»„ä¸å˜</span></p></li></ul></li></ul></li></ul></li><li><p><span>Vector</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>çº¿ç¨‹å®‰å…¨çš„å¯å˜é•¿æ•°ç»„</span></li></ul></li><li><p><span>å®ç°</span></p><ul><li><span>ä¸ArrayListç±»ä¼¼ï¼Œåªæ˜¯æ“ä½œæ—¶ç”¨synchronizedé”ï¼Œæ•ˆç‡è¾ƒä½</span></li><li><span>æ‰©å®¹çš„å¤§å°æ˜¯åŸæœ‰å¤§å°çš„2å€</span></li></ul></li></ul></li><li><p><span>LinkedList</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>åŒå‘é“¾è¡¨</span></li></ul></li><li><p><span>å®ç°</span></p><ul><li><span>å†…éƒ¨æ²¡æœ‰å£°æ˜æ•°ç»„ï¼Œè€Œæ˜¯å®šä¹‰äº†Nodeç±»å‹çš„firstå’Œlastï¼Œç”¨äºè®°å½•é¦–æœ«å…ƒç´ </span></li><li><span>åŒæ—¶ï¼Œå®šä¹‰å†…éƒ¨ç±»Nodeï¼Œä½œä¸ºLinkedListä¸­ä¿å­˜æ•°æ®çš„åŸºæœ¬ç»“æ„</span></li><li><span>Nodeç±»è¿˜å®šä¹‰äº†ä¸¤ä¸ªå˜é‡prevã€nextè®°å½•å‰åä¸€ä¸ªå…ƒç´ çš„ä½ç½®</span></li></ul></li></ul></li></ul></li><li><p><span>Set</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>ä¸åŒ…å«ç›¸åŒå…ƒç´ çš„é›†åˆï¼Œåªèƒ½ç”¨equalsåˆ¤æ–­æ˜¯å¦ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸åŒ</span></li></ul></li><li><p><span>HashSet</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>æŒ‰ç…§Hashç®—æ³•å­˜å‚¨å…ƒç´ çš„Seté›†åˆ</span></li></ul></li><li><p><span>å®ç°</span></p><ul><li><span>åº•å±‚ä¹Ÿæ˜¯æ•°ç»„ï¼Œåˆå§‹å®¹é‡ä¸º16ï¼Œå½“å¦‚æœä½¿ç”¨ç‡è¶…è¿‡0.75ï¼Œï¼ˆ16*0.75=12ï¼‰å°±ä¼šæ‰©å¤§å®¹é‡ä¸ºåŸæ¥çš„2å€</span></li><li><span>hashmap</span></li></ul></li><li><p><span>æ·»åŠ åŸç†</span></p><ul><li><p><span>1ã€å½“å‘ HashSet é›†åˆä¸­å­˜å…¥ä¸€ä¸ªå…ƒç´ æ—¶ï¼ŒHashSet ä¼šè°ƒç”¨è¯¥å¯¹è±¡çš„ hashCode() æ–¹æ³•æ¥å¾—åˆ°è¯¥å¯¹è±¡çš„ hashCode å€¼ï¼Œç„¶åæ ¹æ® hashCode å€¼ï¼Œé€šè¿‡æŸç§æ•£åˆ—å‡½æ•°å†³å®šè¯¥å¯¹è±¡åœ¨ HashSet åº•å±‚æ•°ç»„ä¸­çš„å­˜å‚¨ä½ç½®ã€‚</span></p></li><li><p><span>2ã€éœ€è¦éå†é›†åˆçš„æ‰€æœ‰å…ƒç´ ï¼Œå¦‚æœä¸¤ä¸ªå…ƒç´ çš„hashCode()å€¼ç›¸ç­‰ï¼Œä¼šå†ç»§ç»­è°ƒç”¨equalsæ–¹æ³•ï¼Œå¦‚æœequalsæ–¹æ³•ç»“æœä¸ºtrueï¼Œæ·»åŠ å¤±è´¥ï¼›å¦‚æœä¸ºfalseï¼Œé‚£ä¹ˆä¼šä¿å­˜è¯¥å…ƒç´ ï¼Œä½†æ˜¯è¯¥æ•°ç»„çš„ä½ç½®å·²ç»æœ‰å…ƒç´ äº†ï¼Œé‚£ä¹ˆä¼šé€šè¿‡é“¾è¡¨çš„æ–¹å¼ç»§ç»­é“¾æ¥ã€‚</span></p></li><li><p><span>æ³¨æ„äº‹é¡¹</span></p><ul><li><span>å¦‚æœä¸¤ä¸ªå…ƒç´ çš„ equals() æ–¹æ³•è¿”å› trueï¼Œä½†å®ƒä»¬çš„ hashCode() è¿”å›å€¼ä¸ç›¸ç­‰ï¼ŒhashSet å°†ä¼šæŠŠå®ƒä»¬å­˜å‚¨åœ¨ä¸åŒçš„ä½ç½®ï¼Œä½†ä¾ç„¶å¯ä»¥æ·»åŠ æˆåŠŸ</span></li><li><span>å¤å†™equalsæ–¹æ³•çš„æ—¶å€™ä¸€èˆ¬éƒ½éœ€è¦åŒæ—¶å¤å†™hashCodeæ–¹æ³•ã€‚é€šå¸¸å‚ä¸è®¡ç®—hashCodeçš„å¯¹è±¡çš„å±æ€§ä¹Ÿåº”è¯¥å‚ä¸åˆ°equals()ä¸­è¿›è¡Œè®¡ç®—</span></li></ul></li></ul></li></ul></li><li><p><span>LinkedHashSet</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>HashSet çš„å­ç±»</span></li><li><span>æ ¹æ®å…ƒç´ çš„ hashCode å€¼æ¥å†³å®šå…ƒç´ çš„å­˜å‚¨ä½ç½®</span></li><li><span>åŒæ—¶ä½¿ç”¨åŒå‘é“¾è¡¨ç»´æŠ¤å…ƒç´ çš„æ¬¡åº</span></li><li><span>LinkedHashSetæ’å…¥æ€§èƒ½ç•¥ä½äº HashSetï¼Œä½†åœ¨è¿­ä»£è®¿é—® Set é‡Œçš„å…¨éƒ¨å…ƒç´ æ—¶æœ‰å¾ˆå¥½çš„æ€§èƒ½</span></li></ul></li></ul></li><li><p><span>TreeSet</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>æ˜¯ SortedSet æ¥å£çš„å®ç°ç±»ï¼ŒTreeSet å¯ä»¥ç¡®ä¿é›†åˆå…ƒç´ å¤„äºæ’åºçŠ¶æ€ã€‚</span></li><li><span>åº•å±‚ä½¿ç”¨çº¢é»‘æ ‘ç»“æ„å­˜å‚¨æ•°æ®</span></li></ul></li><li><p><span>å­ä¸»é¢˜ 2</span></p></li></ul></li></ul></li><li><p><span>Queue</span></p></li></ul></li><li><p><span>Map</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>ä¿å­˜å…·æœ‰æ˜ å°„å…³ç³»çš„æ•°æ®:key-value</span></li><li><span>key ç”¨Setæ¥å­˜æ”¾ï¼Œä¸å…è®¸é‡å¤(åŒä¸€ä¸ª Map å¯¹è±¡æ‰€å¯¹åº”çš„ç±»ï¼Œé¡»é‡å†™hashCode()å’Œequals()æ–¹æ³•)</span></li></ul></li><li><p><span>å®ç°</span></p><ul><li><span>keyç”¨Setå­˜å‚¨ï¼Œvalueç”¨Collectionå­˜å‚¨</span></li></ul></li><li><p><span>Map.Entry</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>Mapçš„ä¸€ä¸ªå†…éƒ¨æ¥å£(é™æ€å†…éƒ¨ç±»)ï¼Œä¹Ÿæ˜¯entrySet()çš„è¿”å›å€¼ç±»å‹</span></li><li><span>æ­¤æ¥å£ä¸ºæ³›å‹ï¼Œå®šä¹‰ä¸ºEntry&lt;K,V&gt;ã€‚å®ƒè¡¨ç¤ºMapä¸­çš„ä¸€ä¸ªå®ä½“ï¼ˆä¸€ä¸ªkey-valueå¯¹ï¼‰</span></li></ul></li><li><p><span>æ–¹æ³•</span></p><ul><li><span>getKey()</span></li><li><span>getValue()</span></li><li><span>setValue()</span></li></ul></li></ul></li><li><p><span>HashMap</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><p><span>ä¸»å¹²æ˜¯ä¸€ä¸ªEntryæ•°ç»„ã€‚Entryæ˜¯HashMapçš„åŸºæœ¬ç»„æˆå•å…ƒï¼Œæ¯ä¸€ä¸ªEntryåŒ…å«ä¸€ä¸ªkey-valueé”®å€¼å¯¹</span></p></li><li><p><span>Nodeæ•°ç»„+Bucket(æ¡¶)</span></p></li><li><p><span>æ¡¶(Bucket)</span></p><ul><li><span>æ¯ä¸ªæ¡¶ä¸­å­˜æ”¾ä¸€ä¸ªNodeå¯¹è±¡ï¼ŒNodeå¯¹è±¡å¯ä»¥é€šè¿‡æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ </span></li></ul></li></ul></li><li><p><span>å­˜å‚¨ç»“æ„</span></p><ul><li><p><span>JDK7</span></p><ul><li><span>æ•°ç»„+é“¾è¡¨ç»“æ„(å³ä¸ºé“¾åœ°å€æ³•)</span></li></ul></li><li><p><span>JDK8</span></p><ul><li><span>æ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘</span></li></ul></li></ul></li><li><p><span>putåŸç†</span></p><ul><li><p><span>å‡è®¾æ·»åŠ entry1ï¼Œé¦–å…ˆè®¡ç®—entry1çš„å“ˆå¸Œå€¼ï¼Œé€šè¿‡å“ˆå¸Œå€¼å¾—åˆ°entry1åœ¨åº•å±‚Entry[]æ•°ç»„å­˜å‚¨çš„ä½ç½®ï¼Œå¦‚æœä½ç½®ä¸Šæ²¡æœ‰å…ƒç´ ï¼Œç›´æ¥æ·»åŠ ã€‚å¦‚æœæœ‰å…ƒç´ ï¼Œé€šè¿‡å¾ªç¯çš„æ–¹å¼éå†è¿™ä¸ªä½ç½®ä¸Šå­˜åœ¨çš„å…ƒç´ çš„keyï¼Œä¸entry1çš„keyçš„å“ˆå¸Œå€¼åšæ¯”è¾ƒï¼Œä¸åŒç›´æ¥æ·»åŠ ï¼Œå“ˆå¸Œå€¼ç›¸åŒå°±é€šè¿‡equalsæ¯”è¾ƒæ˜¯å¦ç›¸åŒï¼Œä¸åŒå°±ç›´æ¥æ·»åŠ ï¼Œç›¸åŒå°±ç”¨entry1çš„valueè¦†ç›–å·²å­˜åœ¨çš„valueå€¼ã€‚</span></p></li><li><p><span>keyç›¸ç­‰</span></p><ul><li><span>ä¸¤ä¸ª key é€šè¿‡ equals() æ–¹æ³•è¿”å› trueï¼ŒhashCode å€¼ä¹Ÿç›¸ç­‰ã€‚</span></li></ul></li><li><p><span>valueç›¸ç­‰</span></p><ul><li><span>ä¸¤ä¸ª value é€šè¿‡ equals() æ–¹æ³•è¿”å› true</span></li></ul></li></ul></li><li><p><span>æ‰©å®¹æœºåˆ¶</span></p><ul><li><p><span>ç›¸å…³å‚æ•°</span></p><ul><li><p><span>åŠ è½½å› å­</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>åŠ è½½å› å­ = å¡«å…¥è¡¨ä¸­çš„å…ƒç´ ä¸ªæ•° / æ•£åˆ—è¡¨çš„é•¿åº¦ï¼ˆHashè¡¨çš„å¡«æ»¡ç¨‹åº¦ï¼‰</span></li></ul></li><li><p><span>è¯´æ˜</span></p><ul><li><span>åŠ è½½å› å­è¶Šå¤§ï¼Œå¡«æ»¡çš„å…ƒç´ è¶Šå¤šï¼Œç©ºé—´åˆ©ç”¨ç‡è¶Šé«˜ï¼Œå†²çªçš„æœºä¼šè¶Šå¤§</span></li><li><span>åŠ è½½å› å­è¶Šå°ï¼Œå¡«æ»¡çš„å…ƒç´ è¶Šå°‘ï¼Œç©ºé—´åˆ©ç”¨ç‡è¶Šä½ï¼Œæ‰©å®¹rehashçš„æ¬¡æ•°å¢åŠ </span></li></ul></li></ul></li><li><p><span>DEFAULT_INITIAL_CAPACITY</span></p><ul><li><span>HashMapçš„é»˜è®¤å®¹é‡ï¼Œ16</span></li></ul></li><li><p><span>DEFAULT_LOAD_FACTOR</span></p><ul><li><span>ï¼šHashMapçš„é»˜è®¤åŠ è½½å› å­</span></li></ul></li><li><p><span>MAXIMUM_CAPACITY </span></p><ul><li><span>HashMapçš„æœ€å¤§æ”¯æŒå®¹é‡ï¼Œ2^30</span></li></ul></li><li><p><span>TREEIFY_THRESHOLD</span></p><ul><li><span>Bucketä¸­é“¾è¡¨é•¿åº¦å¤§äºè¯¥é»˜è®¤å€¼ï¼Œè½¬åŒ–ä¸ºçº¢é»‘æ ‘</span></li></ul></li><li><p><span>UNTREEIFY_THRESHOLD</span></p><ul><li><span>ï¼šBucketä¸­çº¢é»‘æ ‘å­˜å‚¨çš„Nodeå°äºè¯¥é»˜è®¤å€¼ï¼Œè½¬åŒ–ä¸ºé“¾è¡¨</span></li></ul></li><li><p><span>MIN_TREEIFY_CAPACITY</span></p><ul><li><span>æ¡¶ä¸­çš„Nodeè¢«æ ‘åŒ–æ—¶æœ€å°çš„hashè¡¨å®¹é‡</span></li></ul></li></ul></li><li><p><span>è¿‡ç¨‹</span></p><ul><li><span>æ—§æ¡¶æ•°ç»„ä¸­çš„æŸä¸ªæ¡¶çš„å¤–æŒ‚å•é“¾è¡¨æ˜¯é€šè¿‡å¤´æ’æ³•æ’å…¥æ–°æ¡¶æ•°ç»„ä¸­çš„ï¼Œå¹¶ä¸”åŸé“¾è¡¨ä¸­çš„Entryç»“ç‚¹å¹¶ä¸ä¸€å®šä»ç„¶åœ¨æ–°æ¡¶æ•°ç»„çš„åŒä¸€é“¾è¡¨ã€‚</span></li></ul></li></ul></li></ul></li><li><p><span>LinkedHashMap(HashMap)</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>HashMap çš„å­ç±»</span></li><li><span>åœ¨HashMapå­˜å‚¨ç»“æ„çš„åŸºç¡€ä¸Šï¼Œä½¿ç”¨äº†ä¸€å¯¹åŒå‘é“¾è¡¨æ¥è®°å½•æ·»åŠ å…ƒç´ çš„é¡ºåº</span></li><li><span>ä¸LinkedHashSetç±»ä¼¼ï¼ŒLinkedHashMap å¯ä»¥ç»´æŠ¤ Map çš„è¿­ä»£é¡ºåºï¼šè¿­ä»£é¡ºåºä¸ Key-Value å¯¹çš„æ’å…¥é¡ºåºä¸€è‡´</span></li></ul></li></ul></li><li><p><span>TreeMap(SortedMap)</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>åº•å±‚ä½¿ç”¨çº¢é»‘æ ‘ç»“æ„å­˜å‚¨æ•°æ®</span></li></ul></li></ul></li><li><p><span>HashTable</span></p></li><li><p><span>Properties(HashTable)</span></p><ul><li><span>ç”¨äºå¤„ç†å±æ€§æ–‡ä»¶</span></li></ul></li></ul></li><li><p><span>Collections</span></p><ul><li><span>å­ä¸»é¢˜ 1</span></li><li><span>å­ä¸»é¢˜ 2</span></li></ul></li><li><p><span>ArraysList/Vector/LinkedListä¸‰è€…çš„å¼‚åŒï¼Ÿ</span></p><ul><li><p><span>ArrayListå’ŒLinkedListçš„å¼‚åŒ</span></p><ul><li><span>1ã€äºŒè€…éƒ½çº¿ç¨‹ä¸å®‰å…¨ï¼Œç›¸å¯¹çº¿ç¨‹å®‰å…¨çš„Vectorï¼Œæ‰§è¡Œæ•ˆç‡é«˜</span></li><li><span>2ã€ArrayListæ˜¯å®ç°äº†åŸºäºåŠ¨æ€æ•°ç»„çš„æ•°æ®ç»“æ„ï¼ŒLinkedListåŸºäºé“¾è¡¨çš„æ•°æ®ç»“æ„</span></li><li><span>3ã€éšæœºè®¿é—®getå’Œsetï¼ŒArrayListè§‰å¾—ä¼˜äºLinkedListï¼Œå› ä¸ºLinkedListè¦ç§»åŠ¨æŒ‡é’ˆ</span></li><li><span>4ã€æ–°å¢å’Œåˆ é™¤æ“ä½œadd(ç‰¹æŒ‡æ’å…¥)å’Œremoveï¼ŒLinkedListæ¯”è¾ƒå ä¼˜åŠ¿ï¼Œå› ä¸ºArrayListè¦ç§»åŠ¨æ•°æ®</span></li></ul></li><li><p><span>ArrayListå’ŒVectorçš„åŒºåˆ«</span></p><ul><li><span>Vectorä½¿ç”¨åŒæ­¥é”ï¼Œçº¿ç¨‹å®‰å…¨ï¼Œæ•ˆç‡ä½ä¸‹</span></li><li><span>ArrayListæ‰©å®¹æ˜¯1.5å€ï¼ŒVectoræ‰©å®¹æ˜¯2å€</span></li></ul></li></ul></li><li><p><span>ArrayListçš„åº•å±‚ï¼Ÿæ‰©å®¹æœºåˆ¶ï¼Ÿ</span></p></li><li><p><span>ä¸ºä»€ä¹ˆé‡å†™equalsçš„æ–¹æ³•çš„æ—¶å€™ï¼Œå¿…é¡»é‡å†™hashCodeæ–¹æ³•ï¼Ÿ</span></p><ul><li><p><span>åŸå› </span></p><ul><li><span>equalsæ–¹æ³•ä¸­éœ€è¦hashCodeå®ç°æ–¹æ³•ä¸­çš„ä¸€äº›å‚æ•°</span></li></ul></li><li><p><span>è§„åˆ™</span></p><ul><li><p><span>é‡å†™equals</span></p><ul><li><span>é‡æ–°å®šä¹‰ç±»çš„å®ä¾‹å¯¹è±¡ç›¸ç­‰çš„é€»è¾‘ï¼Œæ¯”å¦‚idç­‰</span></li></ul></li><li><p><span>é‡å†™hashCode</span></p><ul><li><span>åŒä¸€ä¸ªå¯¹è±¡å¤šæ¬¡è°ƒç”¨ hashCode() æ–¹æ³•åº”è¯¥è¿”å›ç›¸åŒçš„å€¼</span></li><li><span>å½“ä¸¤ä¸ªå¯¹è±¡çš„ equals() æ–¹æ³•æ¯”è¾ƒè¿”å› true æ—¶ï¼Œè¿™ä¸¤ä¸ªå¯¹è±¡çš„ hashCode()æ–¹æ³•çš„è¿”å›å€¼ä¹Ÿåº”ç›¸ç­‰ã€‚</span></li><li><span>å¯¹è±¡ä¸­ç”¨ä½œ equals() æ–¹æ³•æ¯”è¾ƒçš„ Fieldï¼Œéƒ½åº”è¯¥ç”¨æ¥è®¡ç®— hashCode å€¼</span></li></ul></li></ul></li></ul></li><li><p><span>HashMapçš„æ‰©å®¹æ—¶æœºï¼Ÿ</span></p><ul><li><span>å…ƒç´ ä¸ªæ•°å¤§äºåŠ è½½å› å­ä¸é»˜è®¤å®¹é‡çš„ä¹˜ç§¯æ—¶</span></li></ul></li><li><p><span>HashMapçš„æ ‘å½¢åŒ–å’Œé“¾è¡¨åŒ–æ—¶æœºï¼Ÿ</span></p><ul><li><p><span>æ ‘å½¢åŒ–</span></p><ul><li><span>å½“HashMapä¸­çš„å…¶ä¸­ä¸€ä¸ªé“¾çš„å¯¹è±¡ä¸ªæ•°å¦‚æœè¾¾åˆ°äº†8ä¸ªï¼Œæ­¤æ—¶å¦‚æœcapacityæ²¡æœ‰è¾¾åˆ°64ï¼Œé‚£ä¹ˆHashMapä¼šå…ˆæ‰©å®¹è§£å†³ï¼Œå¦‚æœå·²ç»è¾¾åˆ°äº†64ï¼Œé‚£ä¹ˆè¿™ä¸ªé“¾ä¼šå˜æˆæ ‘ï¼Œç»“ç‚¹ç±»å‹ç”±Nodeå˜æˆTreeNodeç±»å‹ã€‚</span></li></ul></li><li><p><span>é“¾è¡¨åŒ–</span></p><ul><li><span>å½“æ˜ å°„å…³ç³»è¢«ç§»é™¤åï¼Œä¸‹æ¬¡resizeæ–¹æ³•æ—¶åˆ¤æ–­æ ‘çš„ç»“ç‚¹ä¸ªæ•°ä½äº6ä¸ªï¼Œä¹Ÿä¼šæŠŠæ ‘å†è½¬ä¸ºé“¾è¡¨</span></li></ul></li></ul></li><li><p><span>HashMapåŠ è½½å› å­ä¸ºä»€ä¹ˆæ˜¯0.75ï¼Ÿ</span></p><ul><li><span>1ã€æ—¶é—´å’Œç©ºé—´æˆæœ¬ä¸Šå¯»æ±‚çš„ä¸€ç§æŠ˜è¡·é€‰æ‹©</span></li><li><span>2ã€ä½¿ç”¨éšæœºå“ˆå¸Œç ï¼ŒèŠ‚ç‚¹å‡ºç°åœ¨hashæ¡¶ä¸­çš„é¢‘ç‡éµå¾ªæ³Šæ¾åˆ†å¸ƒ</span></li><li><span>3ã€ç”¨0.75ä½œä¸ºåŠ è½½å› å­ï¼Œæ¯ä¸ªç¢°æ’ä½ç½®çš„é“¾è¡¨é•¿åº¦è¶…è¿‡ï¼˜ä¸ªæ˜¯å‡ ä¹ä¸å¯èƒ½çš„ï¼Œå‡å°‘äº†å“ˆå¸Œç¢°æ’</span></li></ul></li><li><p><span>HashMap çš„å®¹é‡ä¸ºä»€ä¹ˆæ˜¯2çš„ n æ¬¡å¹‚ï¼Ÿ</span></p><ul><li><p><span>åŠ å¿«hashè®¡ç®—</span></p><ul><li><span>rehashæ—¶çš„å–ä½™æ“ä½œï¼Œé€šè¿‡hash % length == hash &amp; (length - 1)æ‰¾åˆ°keyæ‰€åœ¨å“ˆå¸Œè¡¨çš„æ§½</span></li></ul></li><li><p><span>å‡å°‘å“ˆå¸Œç¢°æ’</span></p><ul><li><span>HashMapä¸­æ·»åŠ å…ƒç´ putVal()æ–¹æ³•ï¼Œå‘é›†åˆä¸­æ·»åŠ å…ƒç´ æ—¶ï¼Œä¼šä½¿ç”¨(n - 1) &amp; hashçš„è®¡ç®—æ–¹æ³•æ¥å¾—å‡ºè¯¥å…ƒç´ åœ¨é›†åˆä¸­çš„ä½ç½®ï¼›</span></li><li><span>HashMapçš„å®¹é‡æ˜¯2çš„næ¬¡å¹‚æ—¶ï¼Œ(n-1)çš„2è¿›åˆ¶ä¹Ÿå°±æ˜¯1111111***111è¿™æ ·å½¢å¼çš„ï¼Œè¿™æ ·ä¸æ·»åŠ å…ƒç´ çš„hashå€¼è¿›è¡Œä½è¿ç®—æ—¶ï¼Œèƒ½å¤Ÿå……åˆ†çš„æ•£åˆ—ï¼Œä½¿å¾—æ·»åŠ çš„å…ƒç´ å‡åŒ€åˆ†å¸ƒåœ¨HashMapçš„æ¯ä¸ªä½ç½®ä¸Šï¼Œå‡å°‘hashç¢°æ’ã€‚</span></li></ul></li></ul></li><li><p><span>JDK1.8HashMapçš„å˜åŒ–ï¼Ÿ</span></p><ul><li><span>1ã€new HashMap()æ—¶æ•°ç»„é•¿åº¦ä¸º0ï¼Œput()å†åˆ›å»º16çš„æ•°ç»„</span></li><li><span>2ã€æ•°ç»„ä¸ºNodeç±»å‹ï¼Œåœ¨jdk7ä¸­ç§°ä¸ºEntryç±»å‹</span></li><li><span>3ã€å½¢æˆé“¾è¡¨ç»“æ„æ—¶ï¼Œæ–°æ·»åŠ çš„key-valueå¯¹åœ¨é“¾è¡¨çš„å°¾éƒ¨</span></li><li><span>4ã€æ•°ç»„æŒ‡å®šç´¢å¼•ä½ç½®çš„é“¾è¡¨é•¿åº¦&gt;8ï¼Œä¸”mapä¸­çš„æ•°ç»„çš„é•¿åº¦&gt; 64æ—¶æ‰ä¼šä½¿ç”¨çº¢é»‘æ ‘è¿›è¡Œå­˜å‚¨</span></li></ul></li><li><p><span>hashCodeçš„ä½œç”¨ï¼Ÿ</span></p><ul><li><span>hashCodeæ˜¯ç”¨æ¥åœ¨æ•£åˆ—å­˜å‚¨ç»“æ„ä¸­ç¡®å®šå¯¹è±¡çš„å­˜å‚¨åœ°å€çš„</span></li></ul></li><li><p><span>HashMapç®—æ³•ï¼Ÿ</span></p><ul><li><p><span>int hash(key)</span></p><ul><li><p><span>h = key.hashCode()) ^ (h &gt;&gt;&gt; 16)</span></p><ul><li><p><span>ç¬¦å·è¿ç®—</span></p><ul><li><p><span>^ï¼šæŒ‰ä½å¼‚æˆ–è¿ç®—ï¼Œåªè¦ä½ä¸åŒç»“æœä¸º1ï¼Œä¸ç„¶ç»“æœä¸º0</span></p></li><li><blockquote><blockquote><blockquote><p><span>ï¼šæ— ç¬¦å·å³ç§»ï¼šå·¦è¾¹é«˜ä½è¡¥0</span></p></blockquote></blockquote></blockquote></li></ul></li><li><p><span>ä¸ºä»€ä¹ˆä½¿ç”¨^ï¼Ÿ</span></p><ul><li><span>å¼‚æˆ–è¿ç®—èƒ½æ›´å¥½çš„ä¿ç•™å„éƒ¨åˆ†çš„ç‰¹å¾</span></li></ul></li><li><p><span>ä¸ºä»€ä¹ˆæ— ç¬¦å·å³ç§»16ä½ï¼Ÿ</span></p><ul><li><span>1ã€å¯ä»¥æŠŠé«˜åŒºä¸ä½åŒºçš„äºŒè¿›åˆ¶ç‰¹å¾æ··åˆåˆ°ä½åŒº</span></li><li><span>2ã€é«˜åŒºçš„16ä½å¾ˆæœ‰å¯èƒ½ä¼šè¢«æ•°ç»„æ§½ä½æ•°çš„äºŒè¿›åˆ¶ç é”å±è”½ï¼Œå¦‚æœæˆ‘ä»¬ä¸åšåˆšæ‰ç§»ä½å¼‚æˆ–è¿ç®—ï¼Œé‚£ä¹ˆåœ¨è®¡ç®—æ§½ä½æ—¶å°†ä¸¢å¤±é«˜åŒºç‰¹å¾</span></li><li><span>3ã€å½“ä¸¤ä¸ªå“ˆå¸Œç å¾ˆæ¥è¿‘æ—¶ï¼Œé‚£ä¹ˆè¿™é«˜åŒºçš„ä¸€ç‚¹ç‚¹å·®å¼‚å°±å¯èƒ½å¯¼è‡´ä¸€æ¬¡å“ˆå¸Œç¢°æ’</span></li></ul></li></ul></li><li><p><span>hashCode()æ–¹æ³•ï¼Œè¿”å›ä¸€ä¸ªintç±»å‹çš„æ•£åˆ—å€¼</span></p></li></ul></li><li><p><span>putVal()</span></p><ul><li><p><span>i = (n - 1) &amp; hash</span></p><ul><li><span>æ·»åŠ å…ƒç´ æ—¶ä¼šè®¡ç®—æ•°ç»„çš„æ§½ä½</span></li><li><span>é‡æ–°è®¡ç®—å‡ºçš„æ–°å“ˆå¸Œå€¼åœ¨åé¢å°†ä¼šå‚ä¸hashmapä¸­æ•°ç»„æ§½ä½çš„è®¡ç®—</span></li></ul></li></ul></li></ul></li><li><p><span>HashMapä¸HashTableçš„åŒºåˆ«ï¼Ÿ</span></p><ul><li><p><span>1ã€HashTableæ˜¯çº¿ç¨‹å®‰å…¨çš„(synchronized)ï¼ŒHashMap æ˜¯éçº¿ç¨‹å®‰å…¨çš„</span></p></li><li><p><span>2ã€Hashtable çš„ key ä¸èƒ½ä¸º nullï¼Œvalue ä¹Ÿä¸èƒ½ä¸º null</span></p><ul><li><span>HashTableåˆ¤æ–­å¦‚æœkeyã€ value ä¸º null å°±ç›´æ¥æŠ›å‡ºç©ºæŒ‡é’ˆå¼‚å¸¸</span></li><li><span>HashMapå¦‚æœkey==null ï¼Œåˆ™å…¶ hash=0 ï¼›è‡³äº value æ˜¯å¦ä¸º nullï¼Œæ ¹æœ¬æ²¡æœ‰åˆ¤æ–­è¿‡</span></li></ul></li><li><p><span>3ã€Hashtable ç›´æ¥ä½¿ç”¨å¯¹è±¡çš„ hash å€¼ï¼Œå–æ¨¡è¿ç®—éœ€è¦åšé™¤æ³•ï¼›HashMapå°†è¡¨çš„å¤§å°å›ºå®šä¸º2çš„næ¬¡å¹‚ï¼Œåªéœ€åšä½è¿ç®—</span></p></li><li><p><span>4ã€Hashtable çš„åˆå§‹é•¿åº¦æ˜¯ 11ï¼Œæ‰©å®¹ä¸º2n+1ï¼›HashMap çš„åˆå§‹é•¿åº¦ä¸º 16ï¼Œæ‰©å®¹ä¸º2n</span></p></li><li><p><span>5ã€HashMap ç»§æ‰¿çš„æ˜¯ AbstractMapï¼Œå¹¶ä¸” AbstractMap ä¹Ÿå®ç°äº† Map æ¥å£ã€‚Hashtable ç»§æ‰¿Dictionaryç±»ã€‚</span></p></li></ul></li><li><p><span>å…³äºæ˜ å°„å…³ç³»çš„keyæ˜¯å¦å¯ä»¥ä¿®æ”¹ï¼Ÿ</span></p><ul><li><p><span>ä¸è¦ä¿®æ”¹</span></p><ul><li><span>1ã€æ˜ å°„å…³ç³»å­˜å‚¨åˆ°HashMapä¸­ä¼šå­˜å‚¨keyçš„hashå€¼ï¼Œè¿™æ ·å°±ä¸ç”¨åœ¨æ¯æ¬¡æŸ¥æ‰¾æ—¶é‡æ–°è®¡ç®—æ¯ä¸€ä¸ªEntryæˆ–Nodeï¼ˆTreeNodeï¼‰çš„hashå€¼äº†ï¼Œæé«˜æ€§èƒ½ã€‚</span></li><li><span>2ã€å¦‚æœå·²ç»putåˆ°Mapä¸­çš„æ˜ å°„å…³ç³»ï¼Œå†ä¿®æ”¹keyçš„å±æ€§ï¼Œè€Œè¿™ä¸ªå±æ€§åˆå‚ä¸hashcodeå€¼çš„è®¡ç®—ï¼Œé‚£ä¹ˆä¼šå¯¼è‡´åŒ¹é…ä¸ä¸Š</span></li></ul></li></ul></li><li><p><span>HashMap ä¸­çš„ key å¯ä»¥ä½¿ç”¨ä»»ä½•ç±»ä½œä¸º key å—ï¼Ÿ</span></p><ul><li><p><span>å¯ä»¥</span></p><ul><li><span>1ã€å¦‚æœç±»é‡å†™äº† equals æ–¹æ³•ï¼Œå®ƒä¹Ÿåº”è¯¥é‡å†™ hashCode æ–¹æ³•</span></li><li><span>2ã€ç±»çš„æ‰€æœ‰å®ä¾‹éœ€è¦éµå¾ªä¸ equals å’Œ hashCode ç›¸å…³çš„è§„åˆ™</span></li><li><span>3ã€å¦‚æœä¸€ä¸ªç±»æ²¡æœ‰ä½¿ç”¨ equalsï¼Œä½ ä¸åº”è¯¥åœ¨ hashCode ä¸­ä½¿ç”¨å®ƒ</span></li><li><span>4ã€å’±ä»¬è‡ªå®šä¹‰ key ç±»çš„æœ€ä½³å®è·µæ˜¯ä½¿ä¹‹ä¸ºä¸å¯å˜çš„è¿™æ ·ï¼ŒhashCode å€¼å¯ä»¥è¢«ç¼“å­˜èµ·æ¥ï¼Œæ‹¥æœ‰æ›´å¥½çš„æ€§èƒ½</span></li></ul></li></ul></li><li><p><span>ä¸ºä»€ä¹ˆä½¿ç”¨çº¢é»‘æ ‘å­˜å‚¨ï¼Ÿ</span></p><ul><li><p><span>è§£å†³å“ˆå¸Œç¢°æ’ï¼Œæé«˜æŸ¥æ‰¾æ•ˆç‡</span></p></li><li><p><span>åŸå› </span></p><ul><li><span>å“ˆå¸Œå€¼å¾ˆå¤šç›¸åŒæ—¶ï¼ŒHashMapä¼šé€€åŒ–ä¸ºä¸€ä¸ªé“¾è¡¨ï¼Œæ—¶é—´å¤æ‚åº¦ä»O(1)å‡åˆ°O(n)ï¼Œget(key)æ—¶é—´å¼€é”€æ›´å¤§ã€‚</span></li></ul></li></ul></li></ul><h3 id='java8æ–°ç‰¹æ€§'><span>Java8æ–°ç‰¹æ€§</span></h3><ul><li><p><span>Lambda è¡¨è¾¾å¼</span></p><ul><li><span>å‡½æ•°å¼æ¥å£çš„å®ä¾‹</span></li><li><span>åŒ¿åå†…éƒ¨ç±»å®ç°çš„éƒ½å¯ä»¥ç”¨Lambda</span></li></ul></li><li><p><span>å‡½æ•°å¼(Functional)æ¥å£</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>åªåŒ…å«ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£ï¼Œç§°ä¸ºå‡½æ•°å¼æ¥å£ã€‚</span></li></ul></li><li><p><span>åˆ†ç±»</span></p><ul><li><p><span>Consumer</span><T><span>ï¼šæ¶ˆè´¹</span></p><ul><li><span>void accept(T t)</span></li></ul></li><li><p><span>Supplier</span><T><span>ï¼šä¾›ç»™</span></p><ul><li><span>ï¼šT get()</span></li></ul></li><li><p><span>Function&lt;T, R&gt;ï¼šå‡½æ•°</span></p><ul><li><span>ï¼šR apply(T t)</span></li></ul></li><li><p><span>Predicate</span><T><span>ï¼šæ–­å®š</span></p><ul><li><span>boolean test(T t)</span></li></ul></li></ul></li><li><p><span>æ“ä½œ</span></p><ul><li><p><span>@FunctionalInterface</span></p><ul><li><span>å‡½æ•°æ¥å£</span></li></ul></li></ul></li></ul></li><li><p><span>æ–¹æ³•å¼•ç”¨ä¸æ„é€ å™¨å¼•ç”¨</span></p><ul><li><p><span>æ–¹æ³•å¼•ç”¨</span></p><ul><li><p><span>ä½¿ç”¨æƒ…å†µ</span></p><ul><li><span>å¯¹è±¡ï¼šï¼šå®ä¾‹æ–¹æ³•å</span></li><li><span>ç±»ï¼šï¼šé™æ€æ–¹æ³•å</span></li><li><span>ç±»ï¼šï¼šå®ä¾‹æ–¹æ³•å</span></li></ul></li><li><p><span>è¦æ±‚</span></p><ul><li><span>å®ç°æ¥å£çš„æŠ½è±¡æ–¹æ³•çš„å‚æ•°åˆ—è¡¨å’Œè¿”å›å€¼ç±»å‹ï¼Œå¿…é¡»ä¸æ–¹æ³•å¼•ç”¨çš„</span>
<span>æ–¹æ³•çš„å‚æ•°åˆ—è¡¨å’Œè¿”å›å€¼ç±»å‹ä¿æŒä¸€è‡´ï¼ˆç±»ï¼šï¼šå®ä¾‹æ–¹æ³•åé™¤å¤–ï¼‰</span></li></ul></li></ul></li><li><p><span>å­ä¸»é¢˜ 2</span></p></li></ul></li><li><p><span>Streamæµ</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>æ˜¯æ•°æ®æ¸ é“ï¼Œç”¨äºæ“ä½œæ•°æ®æºï¼ˆé›†åˆã€æ•°ç»„ç­‰ï¼‰æ‰€ç”Ÿæˆçš„å…ƒç´ åºåˆ—ã€‚</span></li></ul></li><li><p><span>æ³¨æ„äº‹é¡¹</span></p><ul><li><span>1ã€Stream è‡ªå·±ä¸ä¼šå­˜å‚¨å…ƒç´ ã€‚</span></li><li><span>2ã€Stream ä¸ä¼šæ”¹å˜æºå¯¹è±¡ã€‚ç›¸åï¼Œä»–ä»¬ä¼šè¿”å›ä¸€ä¸ªæŒæœ‰ç»“æœçš„æ–°Streamã€‚</span></li><li><span>3ã€Stream æ“ä½œæ˜¯å»¶è¿Ÿæ‰§è¡Œçš„ã€‚è¿™æ„å‘³ç€ä»–ä»¬ä¼šç­‰åˆ°éœ€è¦ç»“æœçš„æ—¶å€™æ‰æ‰§è¡Œã€‚</span></li></ul></li></ul></li><li><p><span>Stream å’Œ Collection é›†åˆçš„åŒºåˆ«ï¼Ÿ</span></p><ul><li><span>Collection æ˜¯ä¸€ç§é™æ€çš„å†…å­˜æ•°æ®ç»“æ„ï¼Œè€Œ Stream æ˜¯æœ‰å…³è®¡ç®—çš„ã€‚</span></li><li><span>å‰è€…æ˜¯ä¸»è¦é¢å‘å†…å­˜ï¼Œå­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œåè€…ä¸»è¦æ˜¯é¢å‘ CPUï¼Œé€šè¿‡ CPU å®ç°è®¡ç®—</span></li></ul></li></ul><h2 id='juc'><span>JUC</span></h2><h3 id='ç›¸å…³æ¦‚å¿µ'><span>ç›¸å…³æ¦‚å¿µ</span></h3><ul><li><p><span>è¿›ç¨‹(Process)</span></p><ul><li><span>è®¡ç®—æœºä¸­çš„ç¨‹åºå…³äºæŸæ•°æ®é›†åˆä¸Šçš„ä¸€æ¬¡è¿è¡Œæ´»åŠ¨ï¼Œæ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„åŸºæœ¬å•ä½ï¼Œæ˜¯æ“ä½œç³»ç»Ÿç»“æ„çš„åŸºç¡€ã€‚</span></li><li><span>åœ¨ç³»ç»Ÿä¸­æ­£åœ¨è¿è¡Œçš„ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼›ç¨‹åºä¸€æ—¦è¿è¡Œå°±æ˜¯è¿›ç¨‹ï¼›è¿›ç¨‹â€”â€”èµ„æºåˆ†é…çš„æœ€å°å•ä½</span></li></ul></li><li><p><span>çº¿ç¨‹(Thread)</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>æ“ä½œç³»ç»Ÿèƒ½å¤Ÿè¿›è¡Œè¿ç®—è°ƒåº¦çš„æœ€å°å•ä½ã€‚å®ƒè¢«åŒ…å«åœ¨è¿›ç¨‹ä¹‹ä¸­ï¼Œæ˜¯è¿›ç¨‹ä¸­çš„å®é™…è¿ä½œå•ä½ã€‚</span></li><li><span>ç³»ç»Ÿåˆ†é…å¤„ç†å™¨æ—¶é—´èµ„æºçš„åŸºæœ¬å•å…ƒï¼Œæˆ–è€…è¯´è¿›ç¨‹ä¹‹å†…ç‹¬ç«‹æ‰§è¡Œçš„ä¸€ä¸ªå•å…ƒæ‰§è¡Œæµã€‚çº¿ç¨‹â€”â€”ç¨‹åºæ‰§è¡Œçš„æœ€å°å•ä½</span></li></ul></li><li><p><span>åˆ†ç±»</span></p><ul><li><p><span>ç”¨æˆ·çº¿ç¨‹</span></p><ul><li><span>å¹³æ—¶ç”¨åˆ°çš„æ™®é€šçº¿ç¨‹,è‡ªå®šä¹‰çº¿ç¨‹</span></li></ul></li><li><p><span>å®ˆæŠ¤çº¿ç¨‹</span></p><ul><li><span>è¿è¡Œåœ¨åå°,æ˜¯ä¸€ç§ç‰¹æ®Šçš„çº¿ç¨‹,æ¯”å¦‚åƒåœ¾å›æ”¶</span></li></ul></li><li><p><span>æ³¨æ„äº‹é¡¹</span></p><ul><li><span>å½“ä¸»çº¿ç¨‹ç»“æŸå,ç”¨æˆ·çº¿ç¨‹è¿˜åœ¨è¿è¡Œ,JVM å­˜æ´»ï¼›å¦‚æœæ²¡æœ‰ç”¨æˆ·çº¿ç¨‹,éƒ½æ˜¯å®ˆæŠ¤çº¿ç¨‹,JVM ç»“æŸ</span></li></ul></li></ul></li></ul></li><li><p><span>å¹¶è¡Œä¸å¹¶å‘</span></p><ul><li><p><span>ä¸²è¡Œ</span></p><ul><li><span>ä¸€æ¬¡åªèƒ½å–å¾—ä¸€ä¸ªä»»åŠ¡ï¼Œå¹¶æ‰§è¡Œè¿™ä¸ªä»»åŠ¡ã€‚</span></li></ul></li><li><p><span>å¹¶è¡Œ</span></p><ul><li><span>å¯ä»¥åŒæ—¶å–å¾—å¤šä¸ªä»»åŠ¡ï¼Œå¹¶åŒæ—¶å»æ‰§è¡Œæ‰€å–å¾—çš„è¿™äº›ä»»åŠ¡</span></li></ul></li><li><p><span>å¹¶å‘(concurrent)</span></p><ul><li><span>å¤šä¸ªç¨‹åºå¯ä»¥åŒæ—¶è¿è¡Œçš„ç°è±¡ï¼Œä¸€ä¸ªæ—¶é—´æ®µå†…å¤šä¸ªçº¿ç¨‹åŒæ—¶è¿è¡Œ</span></li></ul></li></ul></li><li><p><span>çº¿ç¨‹çš„çŠ¶æ€</span></p><ul><li><p><span>NEW(æ–°å»º)</span></p><ul><li><span>æ–°åˆ›å»ºäº†ä¸€ä¸ªçº¿ç¨‹å¯¹è±¡ï¼Œä½†è¿˜æ²¡æœ‰è°ƒç”¨start()æ–¹æ³•ã€‚</span></li></ul></li><li><p><span>RUNNABLE(å‡†å¤‡å°±ç»ªï¼‰</span></p><ul><li><span>Javaçº¿ç¨‹ä¸­å°†å°±ç»ªï¼ˆreadyï¼‰å’Œè¿è¡Œä¸­ï¼ˆrunningï¼‰ä¸¤ç§çŠ¶æ€ç¬¼ç»Ÿçš„ç§°ä¸ºâ€œè¿è¡Œâ€</span></li><li><span>è°ƒç”¨start()æ–¹æ³•æˆ–è€…èµ„æºå®Œæ•´ç­‰å¾…CPUä½¿ç”¨æƒ</span></li></ul></li><li><p><span>BLOCKEDï¼ˆé˜»å¡ï¼‰</span></p></li><li><p><span>WAITINGï¼ˆä¸è§ä¸æ•£ï¼‰</span></p></li><li><p><span>TIMED_WAITINGï¼ˆè¿‡æ—¶ä¸å€™ï¼‰</span></p></li><li><p><span>TERMINATED(ç»ˆç»“)</span></p></li></ul></li></ul><h3 id='ä¸é›†åˆå®‰å…¨ç±»'><span>ä¸é›†åˆå®‰å…¨ç±»</span></h3><ul><li><p><span>åˆ†ç±»</span></p><ul><li><span>List</span></li><li><span>Map</span></li><li><span>Set</span></li></ul></li><li><p><span>è§£å†³æ–¹æ¡ˆ</span></p><ul><li><p><span>List</span></p><ul><li><span>Vectorç±»</span></li><li><span>CopyOnWriteArraysListç±»</span></li><li><span>Collections.synchrinizedListæ–¹æ³•</span></li></ul></li><li><p><span>Set</span></p><ul><li><span>CopyOnWriteArraysSetç±»</span></li><li><span>Collections.synchrinizedSetæ–¹æ³•</span></li></ul></li><li><p><span>Map</span></p><ul><li><span>Collections.synchrinizedMapæ–¹æ³•</span></li><li><span>HashTableç±»</span></li><li><span>ConcurrentHashMapç±»</span></li></ul></li></ul></li><li><p><span>CopyOnWrite </span></p><ul><li><span>å¤šä¸ªè°ƒç”¨è€…å…±äº«ä¸€ä¸ªå†…å®¹ï¼Œå½“æœ‰äººæƒ³è¦ä¿®æ”¹å†…å®¹çš„æ—¶å€™ï¼Œå°±åˆ›å»ºä¸€ä¸ªæ”¹å†…å®¹çš„å‰¯æœ¬ï¼Œå¯¹å‰¯æœ¬è¿›è¡Œä¿®æ”¹ï¼Œç„¶åå†å°†åŸæœ¬çš„å¼•ç”¨æŒ‡å‘å‰¯æœ¬ï¼Œå®Œæˆå†…å®¹çš„ä¿®æ”¹ã€‚</span></li><li><span>è¯»å†™åˆ†ç¦»ï¼Œå†™æ—¶å¤åˆ¶å‡ºä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œå®Œæˆæ’å…¥ã€ä¿®æ”¹æˆ–è€…ç§»é™¤æ“ä½œåå°†æ–°æ•°ç»„èµ‹å€¼ç»™array</span></li></ul></li></ul><h3 id='callable'><span>Callable</span></h3><ul><li><p><span>FutureTask</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>å¯å–æ¶ˆçš„å¼‚æ­¥ä»»åŠ¡ï¼Œæä¾›Futureçš„åŸºç¡€å®ç°ï¼Œå¹¶å®ç°äº†Runnableæ¥å£ã€‚</span></li></ul></li><li><p><span>ç»§æ‰¿äº†RunnableFutureæ¥å£ï¼ŒRunnableFutureåˆç»§æ‰¿äº†Runnableç±»ã€Futureç±»</span></p></li><li><p><span>å¯åœ¨åå°è¿è¡Œ</span></p></li></ul></li><li><p><span>å®ç°æ–¹å¼</span></p><ul><li><p><span>çº¿ç¨‹ç®¡ç†</span></p><ul><li><span>FutureTask futureTask = new FutureTask(new Callable())</span></li></ul></li><li><p><span>çº¿ç¨‹æ± ç®¡ç†</span></p><ul><li><span>Executors.newFixedThreadPool().submit(new Callable()).get()</span></li></ul></li></ul></li></ul><h3 id='ä¸‰å¤§è¾…åŠ©ç±»'><span>ä¸‰å¤§è¾…åŠ©ç±»</span></h3><ul><li><p><span>å‡å°‘è®¡æ•° CountDownLatch</span></p><ul><li><p><span>åŸç†</span></p><ul><li><span>é˜»å¡å½“å‰çº¿ç¨‹ï¼Œæ‰§è¡ŒæŒ‡å®šæ•°é‡çº¿ç¨‹åå†æ‰§è¡Œå½“å‰çº¿ç¨‹</span></li><li><span>å½“ä¸€ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹è°ƒç”¨ await æ–¹æ³•æ—¶ï¼Œè¿™äº›çº¿ç¨‹ä¼šé˜»å¡ï¼Œå…¶ä»–çº¿ç¨‹è°ƒç”¨CountDownæ–¹æ³•ä¼šå°†è®¡æ•°å™¨å‡1ï¼ˆè°ƒç”¨CountDownæ–¹æ³•çš„çº¿ç¨‹ä¸ä¼šé˜»å¡ï¼‰ï¼Œå½“è®¡æ•°å™¨å˜ä¸º0æ—¶ï¼Œawait æ–¹æ³•é˜»å¡çš„çº¿ç¨‹ä¼šè¢«å”¤é†’ï¼Œç»§ç»­æ‰§è¡Œã€‚</span></li></ul></li><li><p><span>å®ç°</span></p><ul><li><span>1.CountDownLatch countDownLatch = new CountDownLatch(6);      </span><br/><span>2.new Thread(()-&gt;{countDownLatch.countDown()});</span>
<span>3.countDownLatch.await();</span></li></ul></li></ul></li><li><p><span>å¾ªç¯æ …æ  CyclicBarrier</span></p><ul><li><p><span>åŸç†</span></p><ul><li><span>çº¿ç¨‹é˜»å¡çš„æ•°é‡åˆ°è¾¾åå†æ‰§è¡Œ</span></li><li><span>æ„é€ æ–¹æ³•ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç›®æ ‡éšœç¢æ•°ï¼Œæ¯æ¬¡æ‰§è¡Œ CyclicBarrier ä¸€æ¬¡éšœç¢æ•°ä¼šåŠ ä¸€ï¼Œå¦‚æœè¾¾åˆ°äº†ç›®æ ‡éšœç¢æ•°ï¼Œæ‰ä¼šæ‰§è¡Œ cyclicBarrier.await()ä¹‹åçš„è¯­å¥ã€‚</span></li></ul></li><li><p><span>å®ç°</span></p><ul><li><span>CyclicBarrier cyclicBarrier = new CyclicBarrier(7,()-&gt;{æ‰§è¡Œä»£ç })</span>
<span>cyclicBarrier.await(); // ç­‰å¾…         </span></li></ul></li></ul></li><li><p><span>ä¿¡å·ç¯ Semaphore</span></p><ul><li><p><span>åŸç†</span></p><ul><li><span>ä¿¡å·é‡æœºåˆ¶ï¼Œäº’æ–¥èµ„æºè®¿é—®</span></li><li><span>æ„é€ æ–¹æ³•ä¸­ä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æœ€å¤§ä¿¡å·é‡ï¼ˆå¯ä»¥çœ‹æˆæœ€å¤§çº¿ç¨‹æ± ï¼‰ï¼Œæ¯ä¸ªä¿¡å·é‡åˆå§‹åŒ–ä¸ºä¸€ä¸ªæœ€å¤šåªèƒ½åˆ†å‘ä¸€ä¸ªè®¸å¯è¯ã€‚ä½¿ç”¨ acquire æ–¹æ³•è·å¾—è®¸å¯è¯ï¼Œrelease æ–¹æ³•é‡Šæ”¾è®¸å¯ã€‚</span></li></ul></li><li><p><span>å®ç°</span></p><ul><li><span>// äº’æ–¥èµ„æºæ•°é‡ï¼ˆä¿¡å·é‡æœºåˆ¶ï¼‰</span>
<span>Semaphore semaphore = new Semaphore(3);</span>
<span>semaphore.acquire(); // å¾—åˆ°èµ„æº(Pæ“ä½œ)</span>
<span>semaphore.release(); // é‡Šæ”¾èµ„æº(Væ“ä½œ)</span></li></ul></li></ul></li></ul><h3 id='è¯»å†™é”'><span>è¯»å†™é”</span></h3><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>å…è®¸å¤šä¸ªçº¿ç¨‹åŒæ—¶è¯»å–å…±äº«èµ„æº</span></li></ul></li><li><p><span>å‰ææ¡ä»¶</span></p><ul><li><p><span>è¿›å…¥è¯»é”</span></p><ul><li><span>æ²¡æœ‰å…¶ä»–çº¿ç¨‹çš„å†™é”</span></li><li><span>æ²¡æœ‰å†™è¯·æ±‚, æˆ–è€…æœ‰å†™è¯·æ±‚ï¼Œä½†è°ƒç”¨çº¿ç¨‹å’ŒæŒæœ‰é”çš„çº¿ç¨‹æ˜¯åŒä¸€ä¸ª(å¯é‡å…¥é”)ã€‚</span></li></ul></li><li><p><span>è¿›å…¥å†™é”</span></p><ul><li><span>æ²¡æœ‰å…¶ä»–çº¿ç¨‹çš„è¯»é”</span></li><li><span>æ²¡æœ‰å…¶ä»–çº¿ç¨‹çš„å†™é”</span></li></ul></li></ul></li><li><p><span>ç‰¹æ€§</span></p><ul><li><span>ï¼ˆ1ï¼‰å…¬å¹³é€‰æ‹©æ€§ï¼šæ”¯æŒéå…¬å¹³ï¼ˆé»˜è®¤ï¼‰å’Œå…¬å¹³çš„é”è·å–æ–¹å¼ï¼Œååé‡è¿˜æ˜¯éå…¬å¹³ä¼˜äºå…¬å¹³ã€‚</span></li><li><span>ï¼ˆ2ï¼‰é‡è¿›å…¥ï¼šè¯»é”å’Œå†™é”éƒ½æ”¯æŒçº¿ç¨‹é‡è¿›å…¥ã€‚</span></li><li><span>ï¼ˆ3ï¼‰é”é™çº§ï¼šéµå¾ªè·å–å†™é”ã€è·å–è¯»é”å†é‡Šæ”¾å†™é”çš„æ¬¡åºï¼Œå†™é”èƒ½å¤Ÿé™çº§æˆä¸ºè¯»é”ã€‚</span></li></ul></li><li><p><span>æ€»ç»“</span></p><ul><li><p><span>å°ç»“</span></p><ul><li><span>åœ¨çº¿ç¨‹æŒæœ‰è¯»é”çš„æƒ…å†µä¸‹ï¼Œè¯¥çº¿ç¨‹ä¸èƒ½å–å¾—å†™é”</span></li><li><span>åœ¨çº¿ç¨‹æŒæœ‰å†™é”çš„æƒ…å†µä¸‹ï¼Œè¯¥çº¿ç¨‹å¯ä»¥ç»§ç»­è·å–è¯»é”</span></li></ul></li><li><p><span>åŸå› </span></p><ul><li><span>å½“çº¿ç¨‹è·å–è¯»é”çš„æ—¶å€™ï¼Œå¯èƒ½æœ‰å…¶ä»–çº¿ç¨‹åŒæ—¶ä¹Ÿåœ¨æŒæœ‰è¯»é”ï¼Œå› æ­¤ä¸èƒ½æŠŠè·å–è¯»é”çš„çº¿ç¨‹â€œå‡çº§â€ä¸ºå†™é”ã€‚</span></li><li><span>è€Œå¯¹äºè·å¾—å†™é”çš„çº¿ç¨‹ï¼Œå®ƒä¸€å®šç‹¬å äº†è¯»å†™é”ï¼Œå› æ­¤å¯ä»¥ç»§ç»­è®©å®ƒè·å–è¯»é”ï¼Œå½“å®ƒåŒæ—¶è·å–äº†å†™é”å’Œè¯»é”åï¼Œè¿˜å¯ä»¥å…ˆé‡Šæ”¾å†™é”ç»§ç»­æŒæœ‰è¯»é”ï¼Œè¿™æ ·ä¸€ä¸ªå†™é”å°±â€œé™çº§â€ä¸ºäº†è¯»é”ã€‚ï¼ˆé”é™çº§ï¼‰</span></li></ul></li></ul></li><li><p><span>å®ç°</span></p><ul><li><span>ReadWriteLock readWriteLock = new ReentrantReadWriteLock();</span>
<span>readWriteLock.writeLock().lock(); // å†™é”</span>
<span>readWriteLock.readLock().lock(); // è¯»é”</span></li></ul></li></ul><h3 id='é˜»å¡é˜Ÿåˆ—'><span>é˜»å¡é˜Ÿåˆ—</span></h3><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>ä¸€ä¸ªé˜Ÿåˆ—, é€šè¿‡ä¸€ä¸ªå…±äº«çš„é˜Ÿåˆ—ï¼Œå¯ä»¥ä½¿å¾—æ•°æ®ç”±é˜Ÿåˆ—çš„ä¸€ç«¯è¾“å…¥ï¼Œä»å¦å¤–ä¸€ç«¯è¾“å‡º</span></li><li><span>å½“é˜Ÿåˆ—ä¸­æ²¡æœ‰æ•°æ®çš„æƒ…å†µä¸‹ï¼Œæ¶ˆè´¹è€…ç«¯çš„æ‰€æœ‰çº¿ç¨‹éƒ½ä¼šè¢«è‡ªåŠ¨é˜»å¡ï¼ˆæŒ‚èµ·ï¼‰ï¼Œç›´åˆ°æœ‰æ•°æ®æ”¾å…¥é˜Ÿåˆ—</span></li><li><span>å½“é˜Ÿåˆ—ä¸­å¡«æ»¡æ•°æ®çš„æƒ…å†µä¸‹ï¼Œç”Ÿäº§è€…ç«¯çš„æ‰€æœ‰çº¿ç¨‹éƒ½ä¼šè¢«è‡ªåŠ¨é˜»å¡ï¼ˆæŒ‚èµ·ï¼‰ï¼Œç›´åˆ°é˜Ÿåˆ—ä¸­æœ‰ç©ºçš„ä½ç½®ï¼Œçº¿ç¨‹è¢«è‡ªåŠ¨å”¤é†’</span></li></ul></li><li><p><span>Queue</span></p><ul><li><p><span>BlockingQueue(é˜»å¡)</span></p><ul><li><p><span>ArrayBlockingQueue</span></p><ul><li><span>ç”±æ•°ç»„ç»“æ„ç»„æˆçš„æœ‰ç•Œé˜»å¡é˜Ÿåˆ—</span></li></ul></li><li><p><span>LinkedBlockingQueue</span></p><ul><li><span>ç”±é“¾è¡¨ç»“æ„ç»„æˆçš„æœ‰ç•Œï¼ˆé»˜è®¤å€¼ä¸ºï¼šinteger.MAX_VALUEï¼‰é˜»å¡é˜Ÿåˆ—</span></li></ul></li><li><p><span>SynchronousQueue</span></p><ul><li><span>ä¸å­˜å‚¨å…ƒç´ çš„é˜»å¡é˜Ÿåˆ—ï¼Œä¹Ÿå³å•ä¸ªå…ƒç´ çš„é˜Ÿåˆ—ã€‚</span></li></ul></li><li><p><span>DelayQueue</span></p><ul><li><span>ä½¿ç”¨ä¼˜å…ˆçº§é˜Ÿåˆ—å®ç°çš„å»¶è¿Ÿæ— ç•Œé˜»å¡é˜Ÿåˆ—</span></li></ul></li><li><p><span>PriorityBlockingQueue</span></p><ul><li><span>æ”¯æŒä¼˜å…ˆçº§æ’åºçš„æ— ç•Œé˜»å¡é˜Ÿåˆ—</span></li></ul></li><li><p><span>LinkedTransferQueue</span></p><ul><li><span>ç”±é“¾è¡¨ç»„æˆçš„æ— ç•Œé˜»å¡é˜Ÿåˆ—ã€‚</span></li></ul></li><li><p><span>LinkedBlockingDeque</span></p><ul><li><span>ç”±é“¾è¡¨ç»„æˆçš„åŒå‘é˜»å¡é˜Ÿåˆ—ã€‚</span></li></ul></li></ul></li><li><p><span>Deque(åŒç«¯)</span></p></li><li><p><span>AbstractQueue(éé˜»å¡)</span></p></li></ul></li><li><p><span>å¸¸ç”¨æ–¹æ³•</span></p><ul><li><p><span>æŠ›å‡ºå¼‚å¸¸</span></p><ul><li><span>add()ã€remove()ã€element()</span></li><li><span>é˜Ÿåˆ—æ»¡ã€ç©ºæ—¶æŠ›å‡ºå¼‚å¸¸</span></li></ul></li><li><p><span>è¿”å›ç‰¹æ®Šå€¼</span></p><ul><li><span>offer(e)ã€poll()ã€peek()</span></li><li><span>æ’å…¥è¿”å›true/falseï¼Œç§»é™¤è¿”å›å…ƒç´ /null</span></li></ul></li><li><p><span>ä¸€ç›´é˜»å¡</span></p><ul><li><span>put(e)ã€take()</span></li><li><span>é˜Ÿåˆ—æ»¡ã€ç©ºæ—¶é˜»å¡ç­‰å¾…</span></li></ul></li><li><p><span>è¶…æ—¶é€€å‡º</span></p><ul><li><span>offer(e,time,unit)ã€poll(time,unit)</span></li><li><span>é˜Ÿåˆ—æ»¡æ—¶é˜»å¡ç”Ÿäº§è€…ï¼Œè¶…æ—¶é€€å‡º</span></li></ul></li></ul></li><li><p><span>å®ç°</span></p><ul><li><span>ArrayBlockingQueue blockingQueue = new ArrayBlockingQueue&lt;&gt;(3);</span>
<span>blockingQueue.add(&quot;abc&quot;);</span>
<span>blockingQueue.remove();</span></li></ul></li></ul><h3 id='çº¿ç¨‹æ± '><span>çº¿ç¨‹æ± </span></h3><ul><li><p><span>å®šä¹‰</span></p></li><li><p><span>å¸¸ç”¨å‚æ•°</span></p><ul><li><span>corePoolSizeï¼šçº¿ç¨‹æ± çš„æ ¸å¿ƒçº¿ç¨‹æ•°</span></li><li><span>maximumPoolSizeï¼šèƒ½å®¹çº³çš„æœ€å¤§çº¿ç¨‹æ•°</span></li><li><span>keepAliveTimeï¼šç©ºé—²çº¿ç¨‹å­˜æ´»æ—¶é—´</span></li><li><span>unitï¼šå­˜æ´»çš„æ—¶é—´å•ä½</span></li><li><span>workQueueï¼šå­˜æ”¾æäº¤ä½†æœªæ‰§è¡Œä»»åŠ¡çš„é˜Ÿåˆ—</span></li><li><span>threadFactoryï¼šåˆ›å»ºçº¿ç¨‹çš„å·¥å‚ç±»</span></li><li><span>handlerï¼šç­‰å¾…é˜Ÿåˆ—æ»¡åçš„æ‹’ç»ç­–ç•¥</span></li></ul></li><li><p><span>åˆ›å»ºæ–¹å¼</span></p><ul><li><p><span>Executors(ä¸ä¼šé‡‡ç”¨)</span></p><ul><li><p><span>newCachedThreadPool()</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>åˆ›å»ºä¸€ä¸ªå¯ç¼“å­˜çº¿ç¨‹æ± ï¼Œå¦‚æœçº¿ç¨‹æ± é•¿åº¦è¶…è¿‡å¤„ç†éœ€è¦ï¼Œå¯çµæ´»å›æ”¶ç©ºé—²çº¿ç¨‹ï¼Œè‹¥æ— å¯å›æ”¶ï¼Œåˆ™æ–°å»ºçº¿ç¨‹ã€‚</span></li></ul></li><li><p><span>å®ç°</span></p><ul><li><span>ExecutorService service2 = Executors.newCachedThreadPool();  // ä¸å®šä¸ªæ•°çº¿ç¨‹</span></li></ul></li></ul></li><li><p><span>newFixedThreadPool()</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>åˆ›å»ºä¸€ä¸ªå¯é‡ç”¨å›ºå®šçº¿ç¨‹æ•°çš„çº¿ç¨‹æ± ï¼Œä»¥å…±äº«çš„æ— ç•Œé˜Ÿåˆ—æ–¹å¼æ¥è¿è¡Œè¿™äº›çº¿ç¨‹</span></li></ul></li><li><p><span>å®ç°</span></p><ul><li><span>ExecutorService service1 = Executors.newFixedThreadPool(5);  // å›ºå®šä¸ªæ•°çº¿ç¨‹</span></li></ul></li></ul></li><li><p><span>newSingleThreadExecutor()</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>åˆ›å»ºä¸€ä¸ªä½¿ç”¨å•ä¸ª worker çº¿ç¨‹çš„ Executorï¼Œä»¥æ— ç•Œé˜Ÿåˆ—æ–¹å¼æ¥è¿è¡Œè¯¥çº¿ç¨‹</span></li></ul></li><li><p><span>å®ç°</span></p><ul><li><span>ExecutorService service = Executors.newSingleThreadExecutor();  // å•ä¸ªçº¿ç¨‹</span></li></ul></li></ul></li><li><p><span>newScheduleThreadPool()</span></p><ul><li><span>çº¿ç¨‹æ± æ”¯æŒå®šæ—¶ä»¥åŠå‘¨æœŸæ€§æ‰§è¡Œä»»åŠ¡ï¼Œåˆ›å»ºä¸€ä¸ª corePoolSize ä¸ºä¼ å…¥å‚æ•°ï¼Œæœ€å¤§çº¿ç¨‹æ•°ä¸ºæ•´å½¢çš„æœ€å¤§æ•°çš„çº¿ç¨‹æ± </span></li></ul></li><li><p><span>newWorkStealingPool()</span></p><ul><li><span>åº•å±‚ä½¿ç”¨çš„æ˜¯ ForkJoinPool å®ç°ï¼Œåˆ›å»ºä¸€ä¸ªæ‹¥æœ‰å¤šä¸ªä»»åŠ¡é˜Ÿåˆ—çš„çº¿ç¨‹æ± ï¼Œå¯ä»¥å‡å°‘è¿æ¥æ•°ï¼Œåˆ›å»ºå½“å‰å¯ç”¨ cpu æ ¸æ•°çš„çº¿ç¨‹æ¥å¹¶è¡Œæ‰§è¡Œä»»åŠ¡ã€‚</span></li></ul></li></ul></li><li><p><span>new ThreadPoolExecutor()ï¼šè‡ªå®šä¹‰çº¿ç¨‹æ± </span></p></li></ul></li><li><p><span>å››å¤§æ‹’ç»ç­–ç•¥</span></p><ul><li><p><span>AbortPolicy(ThreadPoolExecutor)</span></p><ul><li><span>ä¸¢å¼ƒä»»åŠ¡å¹¶æŠ›å‡ºRejectedExecutionExceptionå¼‚å¸¸</span></li></ul></li><li><p><span>DiscardPolicy</span></p><ul><li><span>ä¸¢å¼ƒä»»åŠ¡ï¼Œä½†æ˜¯ä¸æŠ›å‡ºå¼‚å¸¸</span></li></ul></li><li><p><span>DiscardOldestPolicy</span></p><ul><li><span>ä¸¢å¼ƒé˜Ÿåˆ—æœ€å‰é¢(æœ€è€)çš„ä»»åŠ¡ï¼Œæ·»åŠ æ–°ä»»åŠ¡</span></li></ul></li><li><p><span>CallerRunsPolicy</span></p><ul><li><span>ç”±è°ƒç”¨çº¿ç¨‹å¤„ç†è¯¥ä»»åŠ¡</span></li></ul></li></ul></li></ul><h3 id='jmm'><span>JMM</span></h3><ul><li><p><span>å®šä¹‰</span></p><ul><li><p><span>JAVA å†…å­˜æ¨¡å‹ï¼ˆjava memory modelï¼‰</span></p></li><li><p><span>æ˜¯ä¸€ç§æŠ½è±¡çš„æ¦‚å¿µï¼Œå¹¶ä¸çœŸå®å­˜åœ¨ï¼Œå®ƒæè¿°çš„æ˜¯ä¸€ç»„è§„åˆ™æˆ–è€…è§„èŒƒ</span></p></li><li><p><span>è§„èŒƒäº†Javaè™šæ‹Ÿæœºä¸è®¡ç®—æœºå†…å­˜æ˜¯å¦‚ä½•ååŒå·¥ä½œçš„</span></p><ul><li><span>ä¸€ä¸ªçº¿ç¨‹å¦‚ä½•å’Œä½•æ—¶å¯ä»¥çœ‹åˆ°ç”±å…¶ä»–çº¿ç¨‹ä¿®æ”¹è¿‡åçš„å…±äº«å˜é‡çš„å€¼ï¼Œä»¥åŠåœ¨å¿…é¡»æ—¶å¦‚ä½•åŒæ­¥çš„è®¿é—®å…±äº«å˜é‡</span></li></ul></li></ul></li><li><p><span>å…³äºåŒæ­¥çš„è§„å®š</span></p><ul><li><span>1ã€çº¿ç¨‹è§£é”å‰ï¼Œå¿…é¡»æŠŠå…±äº«å˜é‡çš„å€¼åˆ·æ–°å›ä¸»å†…å­˜</span></li><li><span>2ã€çº¿ç¨‹åŠ é”å‰ï¼Œå¿…é¡»è¯»å–ä¸»å†…å­˜çš„æœ€æ–°å€¼åˆ°è‡ªå·±çš„å·¥ä½œå†…å­˜</span></li><li><span>3ã€åŠ é”è§£é”æ˜¯åŒä¸€æŠŠé”</span></li></ul></li></ul><h3 id='volatile'><span>volatile</span></h3><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>Java è™šæ‹Ÿæœºæä¾›çš„è½»é‡çº§çš„åŒæ­¥æœºåˆ¶</span></li><li><span>ç”¨æ¥ä¿è¯æ•°æ®çš„åŒæ­¥ï¼Œä¹Ÿå°±æ˜¯å¯è§æ€§(volatile ä¿è¯å¤šçº¿ç¨‹é—´å˜é‡çš„å¯è§æ€§)</span></li></ul></li><li><p><span>ç‰¹æ€§</span></p><ul><li><p><span>1ã€ä¿æŒå¯è§æ€§</span></p><ul><li><span>èƒ½å¤Ÿæ„ŸçŸ¥åˆ°ä¸»å†…å­˜çš„å˜é‡çš„å˜åŒ–ï¼Œä¾‹å¦‚æ­»å¾ªç¯</span></li></ul></li><li><p><span>2ã€ä¸ä¿è¯åŸå­æ€§</span></p><ul><li><span>çº¿ç¨‹ä¸å®‰å…¨</span></li></ul></li><li><p><span>3ã€ç¦æ­¢æŒ‡ä»¤é‡æ’</span></p></li></ul></li><li><p><span>æŒ‡ä»¤é‡æ’</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>ä¸ºäº†ä½¿å¤„ç†å™¨å†…éƒ¨çš„è¿ç®—å•å…ƒèƒ½å°½é‡è¢«å……åˆ†åˆ©ç”¨ï¼Œå¤„ç†å™¨å¯èƒ½ä¼šå¯¹è¾“å…¥çš„ä»£ç è¿›è¡Œä¹±åºæ‰§è¡Œä¼˜åŒ–ï¼Œå¤„ç†å™¨ä¼šåœ¨è®¡ç®—ä¹‹åå°†ä¹±åºæ‰§è¡Œçš„ç»“æœé‡ç»„ï¼Œå¹¶ç¡®ä¿è¿™ä¸€ç»“æœå’Œé¡ºåºæ‰§è¡Œç»“æœæ˜¯ä¸€è‡´çš„ï¼Œä½†æ˜¯è¿™ä¸ªè¿‡ç¨‹å¹¶ä¸ä¿è¯å„ä¸ªè¯­å¥è®¡ç®—çš„å…ˆåé¡ºåºå’Œè¾“å…¥ä»£ç ä¸­çš„é¡ºåºä¸€è‡´ã€‚</span></li></ul></li><li><p><span>åˆ†ç±»</span></p><ul><li><p><span>1ã€ç¼–è¯‘å™¨ä¼˜åŒ–çš„é‡æ’åº</span></p><ul><li><p><span>ä¸æ”¹å˜å•çº¿ç¨‹ç¨‹åºè¯­ä¹‰</span></p><ul><li><span>å•çº¿ç¨‹ç¯å¢ƒé‡Œé¢ç¡®ä¿ç¨‹åºæœ€ç»ˆæ‰§è¡Œç»“æœå’Œä»£ç é¡ºåºæ‰§è¡Œçš„ç»“æœä¸€è‡´</span></li></ul></li></ul></li><li><p><span>2ã€æŒ‡ä»¤çº§å¹¶è¡Œçš„é‡æ’åº</span></p><ul><li><p><span>ä¸å­˜åœ¨æ•°æ®ä¾èµ–æ€§</span></p><ul><li><span>ä¸åŒçš„ç¨‹åºæŒ‡ä»¤ä¹‹é—´çš„é¡ºåºæ˜¯ä¸å…è®¸è¿›è¡Œäº¤äº’çš„</span></li></ul></li></ul></li><li><p><span>3ã€å†…å­˜ç³»ç»Ÿçš„é‡æ’åº</span></p><ul><li><span>å¤„ç†å™¨ä½¿ç”¨ç¼“å­˜å’Œè¯»/å†™ç¼“å†²åŒºï¼Œçœ‹ä¸Šå»ä¹±åºæ‰§è¡Œ</span></li></ul></li></ul></li></ul></li><li><p><span>å†…å­˜å±éšœï¼ˆMemory Barrierï¼‰</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>åˆç§°ä¸ºå†…å­˜æ …æ ï¼Œä¸€ä¸ªCPUæŒ‡ä»¤</span></li></ul></li><li><p><span>ä½œç”¨</span></p><ul><li><span>1ã€ä¿è¯ç‰¹å®šæ“ä½œçš„æ‰§è¡Œé¡ºåº</span></li><li><span>2ã€ä¿è¯æŸäº›å˜é‡çš„å†…å­˜å¯è§æ€§ï¼ˆåˆ©ç”¨è¯¥ç‰¹æ€§å®ç°volatileçš„å†…å­˜å¯è§æ€§ï¼‰ã€‚</span></li><li><span>3ã€å¼ºåˆ¶åˆ·å‡ºå„ç§CPUçš„ç¼“å­˜æ•°æ®ï¼Œä½•CPUä¸Šçš„çº¿ç¨‹éƒ½èƒ½è¯»å–åˆ°è¿™äº›æ•°æ®çš„æœ€æ–°ç‰ˆæœ¬</span></li></ul></li></ul></li><li><p><span>ç¦æ­¢æŒ‡ä»¤é‡æ’åŸç†</span></p><ul><li><span>é€šè¿‡æ’å…¥å†…å­˜å±éšœç¦æ­¢åœ¨å†…å­˜å±éšœå‰åçš„æŒ‡ä»¤æ‰§è¡Œé‡æ’åºä¼˜åŒ–</span></li></ul></li></ul><h3 id='å•ä¾‹æ¨¡å¼'><span>å•ä¾‹æ¨¡å¼</span></h3><ul><li><p><span>å®šä¹‰</span></p><ul><li><p><span>åªèƒ½è¢«å®ä¾‹åŒ–ä¸€æ¬¡çš„ç±»</span></p><ul><li><p><span>æ„é€ æ–¹æ³•ç§æœ‰</span></p></li><li><p><span>é™æ€æ–¹æ³•è¿”å›å®ä¾‹</span></p><ul><li><span>é˜²æ­¢å¯¹è±¡è¢« new å‡ºæ¥</span></li></ul></li><li><p><span>å®ä¾‹åŒ–å¯¹è±¡åªæœ‰ä¸€ä¸ª</span></p></li></ul></li></ul></li><li><p><span>ç±»å‹</span></p><ul><li><p><span>é¥¿æ±‰å¼</span></p><ul><li><p><span>å…ˆæŠŠå¯¹è±¡åˆ›å»ºå¥½ï¼Œå…¶ä»–äººæ¥æ‹¿çš„æ—¶å€™ç›´æ¥è¿”å›å·²åˆ›å»ºå¥½çš„å¯¹è±¡</span></p></li><li><p><span>ä¸è¶³</span></p><ul><li><span>å®¹æ˜“é€ æˆèµ„æºä¸Šçš„æµªè´¹</span></li></ul></li><li><p><span>å®ç°</span></p><ul><li><span>private static final Hungry hungry = new Hungry(); //ç¡®ä¿å¯¹è±¡å®ä¾‹åªæœ‰ä¸€ä¸ª</span>
<span>private Hungry(){} //æ„é€ æ–¹æ³•ç§æœ‰</span>
<span>public static Hungry getInstance() { //é™æ€æ–¹æ³•è¿”å›å®ä¾‹</span>
<span>return hungry;</span>
<span>}</span></li></ul></li></ul></li><li><p><span>æ‡’æ±‰å¼</span></p><ul><li><p><span>è·å–å¯¹è±¡çš„æ—¶å€™å†è¿›è¡Œå®ä¾‹åŒ–</span></p></li><li><p><span>ä¸è¶³</span></p><ul><li><span>å¹¶å‘é—®é¢˜å¯¼è‡´ç±»è¢«å®ä¾‹åŒ–å¤šæ¬¡</span></li></ul></li><li><p><span>å®ç°</span></p><ul><li><span>private volatile static LazyMan lazyMan = null;  // 4.volatileé¿å…æŒ‡ä»¤é‡æ’</span>
<span>public static LazyMan getInstance() {</span>
<span>synchronized (LazyMan.class){  // 3.DCLæ‡’æ±‰å¼ï¼Œä¿è¯çº¿ç¨‹å®‰å…¨</span>
<span>if (lazyMan == null){</span>
<span>    lazyMan = new LazyMan();</span>
<span>}</span>
<span>}</span>
<span>return lazyMan;</span>
<span>}</span></li></ul></li><li><p><span>å­˜åœ¨çš„é—®é¢˜</span></p><ul><li><p><span>åŸå› </span></p><ul><li><span>newæ“ä½œä¸æ˜¯åŸå­æ“ä½œï¼Œå­˜åœ¨æŒ‡ä»¤é‡æ’</span></li></ul></li><li><p><span>new çš„ä¸‰ä¸ªæ­¥éª¤</span></p><ul><li><ol start='' ><li><span>åˆ†é…å¯¹è±¡å†…å­˜ç©ºé—´</span></li></ol></li><li><ol start='2' ><li><span>æ‰§è¡Œæ„é€ æ–¹æ³•åˆå§‹åŒ–å¯¹è±¡</span></li></ol></li><li><ol start='3' ><li><span>è®¾ç½®instanceæŒ‡å‘åˆšåˆ†é…çš„å†…å­˜åœ°å€ï¼Œæ­¤æ—¶instance ï¼=nullï¼›</span></li></ol></li></ul></li><li><p><span>é—®é¢˜</span></p><ul><li><span>1ã€ç”±äºæŒ‡ä»¤é‡æ’ï¼Œå¯¼è‡´Açº¿ç¨‹æ‰§è¡Œ lazyMan = new LazyMan();çš„æ—¶å€™ï¼Œå¯èƒ½å…ˆæ‰§è¡Œäº†ç¬¬ä¸‰æ­¥ï¼ˆè¿˜æ²¡æ‰§è¡Œç¬¬äºŒæ­¥ï¼‰ï¼›</span></li><li><span>2ã€æ­¤æ—¶çº¿ç¨‹Båˆè¿›æ¥äº†ï¼Œå‘ç°lazyManå·²ç»ä¸ä¸ºç©ºäº†ï¼Œç›´æ¥è¿”å›äº†lazyManï¼Œå¹¶ä¸”åé¢ä½¿ç”¨äº†è¿”å›çš„lazyManï¼Œç”±äºçº¿ç¨‹Aè¿˜æ²¡æœ‰æ‰§è¡Œç¬¬äºŒæ­¥ï¼Œå¯¼è‡´æ­¤æ—¶lazyManè¿˜ä¸å®Œæ•´ï¼Œå®¹æ˜“å‡ºç°é—®é¢˜ã€‚</span></li></ul></li><li><p><span>è§£å†³æ–¹æ¡ˆ</span></p><ul><li><span>ä½¿ç”¨volatileä¿®é¥°è¿™ä¸ªstaticçš„å¯¹è±¡å˜é‡</span></li></ul></li></ul></li></ul></li></ul></li><li><p><span>é˜²æ­¢å•ä¾‹è¢«ç ´å</span></p><ul><li><p><span>1ã€DCLæ‡’æ±‰å¼ï¼Œä½¿ç”¨synchronizedé”ä½Classå¯¹è±¡</span></p></li><li><p><span>2ã€ä½¿ç”¨volatileé¿å…æŒ‡ä»¤é‡æ’</span></p></li><li><p><span>3ã€é™æ€å†…éƒ¨ç±»</span></p><ul><li><span>public static Holder getInstance() {</span>
<span>return InnerClass.holder;</span>
<span>}</span>
<span>private static class InnerClass {</span>
<span>private static final Holder holder = new Holder();</span>
<span>}</span></li></ul></li><li><p><span>4ã€æšä¸¾ç±»</span></p><ul><li><span>newInstanceä¸èƒ½æ“ä½œæšä¸¾ç±»å‹</span></li></ul></li></ul></li></ul><h3 id='cas'><span>CAS</span></h3><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>CompareAndSwapï¼šæ¯”è¾ƒå¹¶äº¤æ¢ï¼Œæ˜¯ä¸€æ¡CPUå¹¶å‘åŸè¯­ï¼ˆå…·æœ‰åŸå­æ€§çš„æŒ‡ä»¤ï¼‰ã€‚</span></li><li><span>åˆ¤æ–­å†…å­˜æŸä¸ªä½ç½®çš„å€¼æ˜¯å¦ä¸ºé¢„æœŸå€¼ï¼Œå¦‚æœæ˜¯åˆ™æ›´æ”¹ä¸ºæ–°çš„å€¼ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯åŸå­çš„</span></li></ul></li><li><p><span>Unsafe</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>å­˜åœ¨äº sun.miscåŒ…ä¸­ï¼Œå…¶å†…éƒ¨æ–¹æ³•æ“ä½œå¯ä»¥åƒCçš„æŒ‡é’ˆä¸€æ ·ç›´æ¥æ“ä½œå†…å­˜ï¼Œå› ä¸ºJavaä¸­CASæ“ä½œçš„æ‰§è¡Œä¾èµ–äºUnsafeç±»çš„æ–¹æ³•ã€‚</span></li></ul></li><li><p><span>Unsafeç±»ä¸­çš„æ‰€æœ‰æ–¹æ³•éƒ½æ˜¯Nativeä¿®é¥°çš„ï¼Œä¹Ÿå°±æ˜¯è¯´Unsafeç±»ä¸­çš„æ–¹æ³•éƒ½ç›´æ¥è°ƒç”¨æ“ä½œç³»ç»Ÿåº•å±‚èµ„æºæ‰§è¡Œç›¸åº”ä»»åŠ¡ã€‚</span></p></li></ul></li><li><p><span>åŸç†</span></p><ul><li><p><span>ä¸‰ä¸ªå‡½æ•°</span></p><ul><li><span>public final int incrementAndGet();  // æä¾›è‡ªå¢æ˜“ç”¨çš„æ–¹æ³•ï¼Œè¿”å›å¢åŠ 1åçš„å€¼</span></li><li><span>public final boolean compareAndSet(int expect, int update);  // é¢å¤–æä¾›çš„compareAndSetæ–¹æ³•</span></li><li><span>public final int getAndAddInt(Object o,long offset, int delta);  // Unsafe ç±»çš„æä¾›çš„æ–¹æ³•</span></li></ul></li></ul></li><li><p><span>ç¼ºç‚¹</span></p><ul><li><span>å¾ªç¯æ—¶é—´é•¿å¼€é”€å¾ˆå¤§ã€‚</span></li><li><span>åªèƒ½ä¿è¯ä¸€ä¸ªå…±äº«å˜é‡çš„åŸå­æ“ä½œ</span></li><li><span>äº§ç”ŸABAé—®é¢˜</span></li></ul></li></ul><h3 id='abaé—®é¢˜'><span>ABAé—®é¢˜</span></h3><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>å¦‚æœå¦ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹Vå€¼å‡è®¾åŸæ¥æ˜¯Aï¼Œå…ˆä¿®æ”¹æˆBï¼Œå†ä¿®æ”¹å›æˆAã€‚å½“å‰å‰çº¿ç¨‹çš„CASæ“ä½œæ— æ³•åˆ†è¾¨å½“å‰Vå€¼æ˜¯å¦å‘ç”Ÿè¿‡å˜åŒ–ã€‚</span></li></ul></li><li><p><span>äº§ç”ŸåŸå› </span></p><ul><li><span>CASéœ€è¦å–å‡ºå†…å­˜ä¸­æŸæ—¶åˆ»çš„æ•°æ®å¹¶åœ¨å½“ä¸‹æ—¶åˆ»æ¯”è¾ƒå¹¶äº¤æ¢ï¼Œé‚£ä¹ˆåœ¨è¿™ä¸ªæ—¶é—´å·®å†…ä¼šå¯¼è‡´æ•°æ®çš„å˜åŒ–ã€‚</span></li></ul></li><li><p><span>è§£å†³æ–¹æ¡ˆ</span></p><ul><li><p><span>ä½¿ç”¨AtomicStampedReferenceç±»</span></p></li><li><p><span>å®ç°</span></p><ul><li><span>new AtomicStampedReference&lt;&gt;(100,1);  //åˆå§‹å€¼ + åˆå§‹ç‰ˆæœ¬å·(Stamp)</span>
<span>atomicStampedReference.compareAndSet(100, 101,</span>
<span>              atomicStampedReference.getStamp(),</span>
<span>              atomicStampedReference.getStamp()+1);  // ä¿®æ”¹å€¼ æ–°å€¼ å½“å‰ç‰ˆæœ¬å· æ–°çš„ç‰ˆæœ¬å·</span></li><li><span>æ¯æ¬¡CASæ—¶æ£€æŸ¥å½“å‰versionæ˜¯å¦åˆå§‹æ‹¿åˆ°çš„versionç›¸åŒï¼Œç›¸åŒæ‰è¿›è¡Œä¿®æ”¹</span></li></ul></li></ul></li></ul><h3 id='javaé”'><span>Javaé”</span></h3><ul><li><p><span>å…¬å¹³/éå…¬å¹³é”</span></p><ul><li><p><span>å…¬å¹³é”</span></p><ul><li><span>å¤šä¸ªçº¿ç¨‹æŒ‰ç…§ç”³è¯·é”çš„é¡ºåºå»è·å¾—é”ï¼Œæ‰€æœ‰çº¿ç¨‹éƒ½åœ¨é˜Ÿåˆ—é‡Œæ’é˜Ÿ</span></li></ul></li><li><p><span>éå…¬å¹³é”</span></p><ul><li><span>å¤šä¸ªçº¿ç¨‹ä¸æŒ‰ç…§ç”³è¯·é”çš„é¡ºåºå»è·å¾—é”ï¼Œè€Œæ˜¯åŒæ—¶ç›´æ¥å»å°è¯•è·å–é”ï¼ˆæ’é˜Ÿï¼‰ï¼Œè·å–ä¸åˆ°ï¼ˆæ’é˜Ÿå¤±è´¥ï¼‰ï¼Œå†è¿›å…¥é˜Ÿåˆ—ç­‰å¾…ï¼ˆå¤±è´¥åˆ™ä¹–ä¹–æ’é˜Ÿï¼‰ï¼Œå¦‚æœèƒ½è·å–åˆ°ï¼ˆæ’é˜ŸæˆåŠŸï¼‰ï¼Œå°±ç›´æ¥è·å–åˆ°é”ã€‚</span></li></ul></li><li><p><span>Synchronizedéå…¬å¹³ï¼ŒRrantLock()é»˜è®¤éå…¬å¹³</span></p></li></ul></li><li><p><span>å¯é‡å…¥é”(é€’å½’ï¼‰</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>åŒä¸€çº¿ç¨‹å¤–å±‚å‡½æ•°è·å¾—é”ä¹‹åï¼Œå†…å±‚é€’å½’å‡½æ•°ä»ç„¶èƒ½è·å–è¯¥é”çš„ä»£ç ï¼Œåœ¨åŒä¸€ä¸ªçº¿ç¨‹åœ¨å¤–å±‚æ–¹æ³•ï¼Œè·å–é”çš„æ—¶å€™ï¼Œåœ¨è¿›å…¥å†…å±‚æ–¹æ³•ä¼šè‡ªåŠ¨è·å–é”ã€‚</span></li><li><span>å¯ä»¥é¿å…æ­»é”</span></li></ul></li></ul></li><li><p><span>è‡ªæ—‹é”</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>å°è¯•è·å–é”çš„çº¿ç¨‹ä¸ä¼šç«‹å³é˜»å¡ï¼Œè€Œæ˜¯é‡‡ç”¨å¾ªç¯çš„æ–¹å¼å»å°è¯•è·å–é”</span></li><li><span>å‡å°‘çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢çš„æ¶ˆè€—ï¼Œç¼ºç‚¹æ˜¯å¾ªç¯ä¼šæ¶ˆè€—CPUã€‚</span></li></ul></li></ul></li><li><p><span>æ­»é”</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>ä¸åŒçš„çº¿ç¨‹åˆ†åˆ«å ç”¨å¯¹æ–¹éœ€è¦çš„åŒæ­¥èµ„æºä¸æ”¾å¼ƒï¼Œéƒ½åœ¨ç­‰å¾…å¯¹æ–¹æ”¾å¼ƒè‡ªå·±éœ€è¦çš„åŒæ­¥èµ„æºï¼Œå°±å½¢æˆäº†çº¿ç¨‹çš„æ­»é”</span></li><li><span>ä¸ä¼šå‡ºç°å¼‚å¸¸ï¼Œä¸ä¼šå‡ºç°æç¤ºï¼Œåªæ˜¯æ‰€æœ‰çš„çº¿ç¨‹éƒ½å¤„äºé˜»å¡çŠ¶æ€</span></li></ul></li><li><p><span>å››ä¸ªå¿…è¦æ¡ä»¶</span></p><ul><li><span>äº’æ–¥æ¡ä»¶ï¼šä¸€ä¸ªèµ„æºæ¯æ¬¡åªèƒ½è¢«ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨</span></li><li><span>è¯·æ±‚ä¸ä¿æŒæ¡ä»¶ï¼šä¸€ä¸ªè¿›ç¨‹å› è¯·æ±‚èµ„æºè€Œé˜»å¡æ—¶ï¼Œå¯¹å·²è·å¾—çš„èµ„æºä¿æŒä¸æ”¾</span></li><li><span>ä¸å‰¥å¤ºæ¡ä»¶ : è¿›ç¨‹å·²è·å¾—çš„èµ„æºï¼Œåœ¨æœ«ä½¿ç”¨å®Œä¹‹å‰ï¼Œä¸èƒ½å¼ºè¡Œå‰¥å¤º</span></li><li><span>å¾ªç¯ç­‰å¾…æ¡ä»¶ : è‹¥å¹²è¿›ç¨‹ä¹‹é—´å½¢æˆä¸€ç§å¤´å°¾ç›¸æ¥çš„å¾ªç¯ç­‰å¾…èµ„æºå…³ç³»</span></li></ul></li><li><p><span>è§£å†³æ–¹æ¡ˆ</span></p><ul><li><p><span>é“¶è¡Œå®¶ç®—æ³•</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>å­ä¸»é¢˜ 1</span></li></ul></li></ul></li></ul></li></ul></li></ul><h3 id='waitsleepçš„åŒºåˆ«'><span>wait/sleepçš„åŒºåˆ«ï¼Ÿ</span></h3><ul><li><span>1ã€sleep æ˜¯ Thread çš„é™æ€æ–¹æ³•ï¼Œwait æ˜¯ Object çš„æ–¹æ³•ï¼Œä»»ä½•å¯¹è±¡å®ä¾‹éƒ½èƒ½è°ƒç”¨</span></li><li><span>2ã€sleep ä¸ä¼šé‡Šæ”¾é”ï¼Œå®ƒä¹Ÿä¸éœ€è¦å ç”¨é”ã€‚wait ä¼šé‡Šæ”¾é”ï¼Œä½†è°ƒç”¨å®ƒçš„å‰ææ˜¯å½“å‰çº¿ç¨‹å æœ‰é”(å³ä»£ç è¦åœ¨ synchronized ä¸­)</span></li><li><span>3ã€å®ƒä»¬éƒ½å¯ä»¥è¢« interrupted æ–¹æ³•ä¸­æ–­</span></li></ul><h3 id='volatileä¸ºä»€ä¹ˆä¸èƒ½ä¿è¯åŸå­æ€§'><span>volatileä¸ºä»€ä¹ˆä¸èƒ½ä¿è¯åŸå­æ€§ï¼Ÿ</span></h3><ul><li><p><span>è¢«volatileä¿®é¥°çš„å˜é‡åœ¨è¯»çš„æ—¶å€™å¯èƒ½ä¼šè¢«å¤šä¸ªçº¿ç¨‹è¯»</span></p></li><li><p><span>ä¾‹å­</span></p><ul><li><span>çº¿ç¨‹Aé¦–å…ˆå¾—åˆ°äº†içš„åˆå§‹å€¼100ï¼Œä½†æ˜¯è¿˜æ²¡æ¥å¾—åŠä¿®æ”¹ï¼Œå°±é˜»å¡</span></li><li><span>çº¿ç¨‹Bå¾—åˆ°çš„å€¼ä¹Ÿæ˜¯100ï¼Œä¹‹åå¯¹å…¶è¿›è¡ŒåŠ 1æ“ä½œï¼Œå¾—åˆ°101åï¼Œå°†æ–°å€¼å†™å…¥åˆ°ç¼“å­˜ä¸­ï¼Œå†åˆ·å…¥ä¸»å­˜ä¸­</span></li><li><span>çº¿ç¨‹Aé˜»å¡ç»“æŸåï¼Œç»§ç»­å°†100è¿™ä¸ªå€¼åŠ 1ï¼Œå¾—åˆ°101ï¼Œå†å°†å€¼å†™åˆ°ç¼“å­˜ï¼Œæœ€ååˆ·å…¥ä¸»å­˜</span></li></ul></li></ul><h3 id='volatileå’ŒsynchronizedåŒºåˆ«'><span>volatileå’ŒsynchronizedåŒºåˆ«</span></h3><ul><li><span>1ã€volatileä»…èƒ½ä½¿ç”¨åœ¨å˜é‡çº§åˆ«,synchronizedåˆ™å¯ä»¥ä½¿ç”¨åœ¨å˜é‡,æ–¹æ³•</span></li><li><span>2ã€volatileä»…èƒ½å®ç°å˜é‡çš„ä¿®æ”¹å¯è§æ€§,è€Œsynchronizedåˆ™å¯ä»¥ä¿è¯å˜é‡çš„ä¿®æ”¹å¯è§æ€§å’ŒåŸå­æ€§</span></li></ul><h3 id='lock-å’Œ-synchronizedçš„åŒºåˆ«'><span>Lock å’Œ Synchronizedçš„åŒºåˆ«ï¼Ÿ</span></h3><ul><li><span>1ã€Lock æ˜¯ä¸€ä¸ªæ¥å£ï¼Œè€Œ synchronized æ˜¯ Java ä¸­çš„å…³é”®å­—ï¼Œsynchronized æ˜¯å†…ç½®çš„è¯­è¨€å®ç°</span></li><li><span>2ã€synchronized åœ¨å‘ç”Ÿå¼‚å¸¸æ—¶ï¼Œä¼šè‡ªåŠ¨é‡Šæ”¾çº¿ç¨‹å æœ‰çš„é”ï¼›Lockä¸ä¼šï¼Œå®¹æ˜“é€ æˆæ­»é”</span></li><li><span>3ã€Lock å¯ä»¥è®©ç­‰å¾…é”çš„çº¿ç¨‹å“åº”ä¸­æ–­ï¼Œè·å–ä¸åˆ°é”æ—¶ç»“æŸçº¿ç¨‹ï¼›synchronized ç­‰å¾…çš„çº¿ç¨‹ä¼šä¸€ç›´ç­‰å¾…ä¸‹å»ï¼Œä¸èƒ½å¤Ÿå“åº”ä¸­æ–­</span></li><li><span>4ã€é€šè¿‡ Lock å¯ä»¥çŸ¥é“æœ‰æ²¡æœ‰æˆåŠŸè·å–é”ï¼Œè€Œ synchronized å´æ— æ³•åŠåˆ°</span></li><li><span>5ã€Lock å¯ä»¥æé«˜å¤šä¸ªçº¿ç¨‹è¿›è¡Œè¯»æ“ä½œçš„æ•ˆç‡</span></li></ul><h3 id='copyonwritearraylistä¸ºä»€ä¹ˆå¹¶å‘å®‰å…¨ä¸”æ€§èƒ½æ¯”vectorå¥½'><span>CopyOnWriteArrayListä¸ºä»€ä¹ˆå¹¶å‘å®‰å…¨ä¸”æ€§èƒ½æ¯”Vectorå¥½ï¼Ÿ</span></h3><ul><li><span>Vectoræ˜¯å¢åˆ æ”¹æŸ¥æ–¹æ³•éƒ½åŠ äº†synchronizedï¼ŒCopyOnWriteArrayListåªæ˜¯å¢åˆ æ”¹æ·»åŠ äº†</span></li></ul><h3 id='ç‹¬å é”å†™é”å…±äº«é”è¯»é”'><span>ç‹¬å é”(å†™é”)ã€å…±äº«é”(è¯»é”)</span></h3><ul><li><p><span>ç‹¬å é”ï¼ˆå†™é”ï¼‰</span></p><ul><li><span>æŒ‡è¯¥é”ä¸€æ¬¡åªèƒ½è¢«ä¸€ä¸ªçº¿ç¨‹é”æŒæœ‰ã€‚å¯¹äºReentranrLockå’Œ Synchronized è€Œè¨€éƒ½æ˜¯ç‹¬å é”ã€‚</span></li></ul></li><li><p><span>å…±äº«é”(è¯»é”)</span></p><ul><li><span>è¯¥é”å¯è¢«å¤šä¸ªçº¿ç¨‹æ‰€æŒæœ‰ã€‚ReentrantReadWriteLockã€‚</span></li></ul></li></ul><h3 id='å…¬å¹³é”å’Œéå…¬å¹³é”'><span>å…¬å¹³é”å’Œéå…¬å¹³é”</span></h3><ul><li><p><span>å…¬å¹³é”</span></p><ul><li><span>å¤šä¸ªçº¿ç¨‹æŒ‰ç…§ç”³è¯·é”çš„é¡ºåºå»è·å¾—é”ï¼Œæ‰€æœ‰çº¿ç¨‹éƒ½åœ¨é˜Ÿåˆ—é‡Œæ’é˜Ÿ</span></li></ul></li><li><p><span>éå…¬å¹³é”</span></p><ul><li><span>å¤šä¸ªçº¿ç¨‹ä¸æŒ‰ç…§ç”³è¯·é”çš„é¡ºåºå»è·å¾—é”ï¼Œè€Œæ˜¯åŒæ—¶ç›´æ¥å»å°è¯•è·å–é”ï¼ˆæ’é˜Ÿï¼‰ï¼Œè·å–ä¸åˆ°ï¼ˆæ’é˜Ÿå¤±è´¥ï¼‰ï¼Œå†è¿›å…¥é˜Ÿåˆ—ç­‰å¾…ï¼ˆå¤±è´¥åˆ™ä¹–ä¹–æ’é˜Ÿï¼‰ï¼Œå¦‚æœèƒ½è·å–åˆ°ï¼ˆæ’é˜ŸæˆåŠŸï¼‰ï¼Œå°±ç›´æ¥è·å–åˆ°é”ã€‚</span></li></ul></li></ul><h3 id='ä¸ºä»€ä¹ˆä½¿ç”¨blockingqueue'><span>ä¸ºä»€ä¹ˆä½¿ç”¨BlockingQueueï¼Ÿ</span></h3><ul><li><span>ä¸éœ€è¦å…³å¿ƒä»€ä¹ˆæ—¶å€™éœ€è¦é˜»å¡çº¿ç¨‹ï¼Œä»€ä¹ˆæ—¶å€™éœ€è¦å”¤é†’çº¿ç¨‹</span></li></ul><h3 id='è§¦å‘çº¿ç¨‹æ± çš„æ‹’ç»ç­–ç•¥çš„æ—¶æœº'><span>è§¦å‘çº¿ç¨‹æ± çš„æ‹’ç»ç­–ç•¥çš„æ—¶æœºï¼Ÿ</span></h3><ul><li><p><span>æ—¶æœº</span></p><ul><li><span>æäº¤çš„ä»»åŠ¡æ•°å¤§äºï¼ˆworkQueue.size() +maximumPoolSize ï¼‰</span></li></ul></li><li><p><span>å½“æäº¤ä»»åŠ¡æ•°å¤§äº corePoolSize çš„æ—¶å€™ï¼Œä¼šä¼˜å…ˆå°†ä»»åŠ¡æ”¾åˆ° workQueue é˜»å¡é˜Ÿåˆ—ä¸­ã€‚å½“é˜»å¡é˜Ÿåˆ—é¥±å’Œåï¼Œä¼šæ‰©å……çº¿ç¨‹æ± ä¸­çº¿ç¨‹æ•°ï¼Œç›´åˆ°è¾¾åˆ°maximumPoolSize æœ€å¤§çº¿ç¨‹æ•°é…ç½®ã€‚æ­¤æ—¶ï¼Œå†å¤šä½™çš„ä»»åŠ¡ï¼Œåˆ™ä¼šè§¦å‘çº¿ç¨‹æ± çš„æ‹’ç»ç­–ç•¥äº†ã€‚</span></p></li></ul><h3 id='çº¿ç¨‹æ± ç”¨å“ªä¸ªä¸ºä»€ä¹ˆä¸ç”¨executors'><span>çº¿ç¨‹æ± ç”¨å“ªä¸ªï¼Ÿä¸ºä»€ä¹ˆä¸ç”¨Executorsï¼Ÿ</span></h3><ul><li><p><span>ä½¿ç”¨è‡ªå®šä¹‰çº¿ç¨‹æ± </span></p></li><li><p><span>åŸå› </span></p><ul><li><span>1ã€FixedThreadPool å’Œ SingleThreadExecutor åº•å±‚éƒ½æ˜¯ç”¨LinkedBlockingQueue å®ç°çš„ï¼Œè¿™ä¸ªé˜Ÿåˆ—æœ€å¤§é•¿åº¦ä¸º Integer.MAX_VALUEï¼Œå®¹æ˜“å¯¼è‡´ OOMã€‚</span></li><li><span>2ã€CacheedThreadPoolå’ŒScheduledThreaPollå…è®¸åˆ›å»ºçº¿ç¨‹çš„æ•°é‡ä¸ºInteger.MAX_VALUEï¼Œå¯èƒ½å¯¼è‡´OOMã€‚</span></li></ul></li></ul><h3 id='ç”Ÿäº§ä¸­å¦‚ä½•è®¾ç½®åˆç†å‚æ•°'><span>ç”Ÿäº§ä¸­å¦‚ä½•è®¾ç½®åˆç†å‚æ•°ï¼Ÿ</span></h3><h3 id='çº¿ç¨‹æ± çš„æ‰§è¡ŒåŸç†'><span>çº¿ç¨‹æ± çš„æ‰§è¡ŒåŸç†ï¼Ÿ</span></h3><ul><li><ol start='' ><li><span>åœ¨åˆ›å»ºäº†çº¿ç¨‹æ± åï¼Œçº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°ä¸ºé›¶</span></li></ol></li><li><ol start='2' ><li><span>å½“è°ƒç”¨ execute()æ–¹æ³•æ·»åŠ ä¸€ä¸ªè¯·æ±‚ä»»åŠ¡æ—¶</span></li></ol><ul><li><span>2.1 å¦‚æœæ­£åœ¨è¿è¡Œçš„çº¿ç¨‹æ•°é‡å°äº corePoolSizeï¼Œé‚£ä¹ˆé©¬ä¸Šåˆ›å»ºçº¿ç¨‹è¿è¡Œè¿™ä¸ªä»»åŠ¡ï¼›</span></li><li><span>2.2 å¦‚æœæ­£åœ¨è¿è¡Œçš„çº¿ç¨‹æ•°é‡å¤§äºæˆ–ç­‰äº corePoolSizeï¼Œé‚£ä¹ˆå°†è¿™ä¸ªä»»åŠ¡æ”¾å…¥é˜Ÿåˆ—ï¼›</span></li><li><span>2.3 å¦‚æœè¿™ä¸ªæ—¶å€™é˜Ÿåˆ—æ»¡äº†ä¸”æ­£åœ¨è¿è¡Œçš„çº¿ç¨‹æ•°é‡è¿˜å°äºmaximumPoolSizeï¼Œé‚£ä¹ˆè¿˜æ˜¯è¦åˆ›å»ºéæ ¸å¿ƒçº¿ç¨‹ç«‹åˆ»è¿è¡Œè¿™ä¸ªä»»åŠ¡ï¼›</span></li><li><span>2.4 å¦‚æœé˜Ÿåˆ—æ»¡äº†ä¸”æ­£åœ¨è¿è¡Œçš„çº¿ç¨‹æ•°é‡å¤§äºæˆ–ç­‰äº maximumPoolSizeï¼Œé‚£ä¹ˆçº¿ç¨‹æ± ä¼šå¯åŠ¨é¥±å’Œæ‹’ç»ç­–ç•¥æ¥æ‰§è¡Œã€‚</span></li></ul></li><li><ol start='3' ><li><span>å½“ä¸€ä¸ªçº¿ç¨‹å®Œæˆä»»åŠ¡æ—¶ï¼Œå®ƒä¼šä»é˜Ÿåˆ—ä¸­å–ä¸‹ä¸€ä¸ªä»»åŠ¡æ¥æ‰§è¡Œ</span></li></ol></li><li><ol start='4' ><li><span>å½“ä¸€ä¸ªçº¿ç¨‹æ— äº‹å¯åšè¶…è¿‡ä¸€å®šçš„æ—¶é—´ï¼ˆkeepAliveTimeï¼‰æ—¶</span></li></ol><ul><li><span>4.1 å¦‚æœå½“å‰è¿è¡Œçš„çº¿ç¨‹æ•°å¤§äº corePoolSizeï¼Œé‚£ä¹ˆè¿™ä¸ªçº¿ç¨‹å°±ä¼šè¢«åœæ‰ï¼›</span></li><li><span>4.2 æ‰€ä»¥çº¿ç¨‹æ± çš„æ‰€æœ‰ä»»åŠ¡å®Œæˆåï¼Œå®ƒæœ€ç»ˆä¼šæ”¶ç¼©åˆ° corePoolSize çš„å¤§å°ã€‚</span></li></ul></li></ul><h3 id='çº¿ç¨‹æ˜¯å¦è¶Šå¤šè¶Šå¥½'><span>çº¿ç¨‹æ˜¯å¦è¶Šå¤šè¶Šå¥½ï¼Ÿ</span></h3><ul><li><p><span>è®¡ç®—ä¸ºä¸»çš„ç¨‹åº(CPUå¯†é›†å‹ç¨‹åº)</span></p><ul><li><p><span>çº¿ç¨‹æ•°ç­‰äºcpuæ•°</span></p></li><li><p><span>åŸå› </span></p><ul><li><span>é¢‘ç¹çš„åˆ‡æ¢çº¿ç¨‹ä¹Ÿæ˜¯è¦æ¶ˆè€—æ—¶é—´</span></li></ul></li></ul></li><li><p><span>ä¸ªç£ç›˜æˆ–ç½‘ç»œä¸ºä¸»çš„ç¨‹åºï¼ˆIOå¯†é›†å‹ï¼‰</span></p><ul><li><p><span>çº¿ç¨‹æ•°ç­‰äºIOä»»åŠ¡æ•°</span></p></li><li><p><span>åŸå› </span></p><ul><li><span>çº¿ç¨‹åŒæ—¶è¿›è¡ŒIOæ“ä½œï¼Œå‡å°‘IOç­‰å¾…çš„æ—¶é—´</span></li></ul></li></ul></li></ul><h3 id='atomicintegergetandincrementçš„è‡ªå¢--1å¦‚ä½•å®ç°'><span>atomicInteger.getAndIncrement()çš„è‡ªå¢ + 1å¦‚ä½•å®ç°ï¼Ÿ</span></h3><ul><li><span>è°ƒç”¨äº† unsafe.getAndAddInt(this, valueOffset, 1)</span></li></ul><h3 id='synchronizedå®ç°åŸç†'><span>synchronizedå®ç°åŸç†ï¼Ÿ</span></h3><ul><li><p><span>åŸç†</span></p><ul><li><p><span>åŒæ­¥ä»£ç å—</span></p><ul><li><span>1ã€synchronizedå…³é”®å­—ç»è¿‡ç¼–è¯‘ä¹‹åï¼Œä¼šåœ¨åŒæ­¥ä»£ç å—å‰ååˆ†åˆ«å½¢æˆmonitorenterå’Œmonitorexitå­—èŠ‚ç æŒ‡ä»¤</span></li><li><span>2ã€åœ¨æ‰§è¡ŒmonitorenteræŒ‡ä»¤çš„æ—¶å€™ï¼Œé¦–å…ˆå°è¯•è·å–å¯¹è±¡çš„é”</span></li><li><span>3ã€å¦‚æœè¿™ä¸ªé”æ²¡æœ‰è¢«é”å®šæˆ–è€…å½“å‰çº¿ç¨‹å·²ç»æ‹¥æœ‰äº†é‚£ä¸ªå¯¹è±¡çš„é”ï¼Œé”çš„è®¡æ•°å™¨å°±åŠ 1ï¼Œåœ¨æ‰§è¡ŒmonitorexitæŒ‡ä»¤æ—¶ä¼šå°†é”çš„è®¡æ•°å™¨å‡1ï¼Œå½“å‡ä¸º0çš„æ—¶å€™å°±é‡Šæ”¾é”ã€‚</span></li><li><span>4ã€å¦‚æœè·å–å¯¹è±¡é”ä¸€ç›´å¤±è´¥ï¼Œé‚£å½“å‰çº¿ç¨‹å°±è¦é˜»å¡ç­‰å¾…ï¼Œç›´åˆ°å¯¹è±¡é”è¢«å¦ä¸€ä¸ªçº¿ç¨‹é‡Šæ”¾ä¸ºæ­¢ã€‚</span></li></ul></li><li><p><span>åŒæ­¥æ–¹æ³•</span></p><ul><li><span>1ã€æ–¹æ³•çº§çš„åŒæ­¥æ˜¯éšå¼çš„ï¼Œæ— é¡»é€šè¿‡å­—èŠ‚ç æŒ‡ä»¤æ¥æ§åˆ¶ï¼Œé€šè¿‡æ–¹æ³•å¸¸é‡æ± çš„æ–¹æ³•è¡¨ç»“æ„ä¸­çš„ACC_SYNCHRONIZEDåˆ¤æ–­</span></li><li><span>2ã€å½“æ–¹æ³•è°ƒç”¨çš„æ—¶ï¼Œè°ƒç”¨æŒ‡ä»¤ä¼šæ£€æŸ¥æ–¹æ³•çš„ACC_SYNCHRONIZEDè®¿é—®æ ‡å¿—æ˜¯å¦è¢«è®¾ç½®</span></li><li><span>3ã€å¦‚æœè®¾ç½®äº†ï¼Œæ‰§è¡Œçº¿ç¨‹å°±è¦æ±‚å…ˆæŒæœ‰monitorå¯¹è±¡ï¼Œç„¶åæ‰èƒ½æ‰§è¡Œæ–¹æ³•ï¼Œæœ€åå½“æ–¹æ³•æ‰§è¡Œå®Œï¼ˆæ— è®ºæ˜¯æ­£å¸¸å®Œæˆè¿˜æ˜¯éæ­£å¸¸å®Œæˆï¼‰æ—¶é‡Šæ”¾monitorå¯¹è±¡ã€‚</span></li></ul></li><li><p><span>Synchronizedåœ¨javaå¯¹è±¡å¤´çš„å®ç°</span></p><ul><li><span>æ”¹å˜ä¸€ä¸‹æ ‡è¯†ä½ï¼Œå¹¶å°†æŒ‡é’ˆæŒ‡å‘monitorå¯¹è±¡çš„èµ·å§‹åœ°å€</span></li></ul></li></ul></li><li><p><span>é”æ ‡å¿—ä½</span></p><ul><li><p><span>æ— é”/åå‘é”</span></p><ul><li><span>01</span></li></ul></li><li><p><span>è½»é‡çº§é”</span></p><ul><li><span>00</span></li></ul></li><li><p><span>é‡é‡çº§é”</span></p><ul><li><span>10</span></li></ul></li><li><p><span>GCæ ‡è®°</span></p><ul><li><span>11</span></li></ul></li></ul></li><li><p><span>Monitor(ç›‘è§†å™¨é”/ç®¡ç¨‹)</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>åŸºäºC++çš„ObjectMonitorç±»å®ç°</span></li><li><span>ç†è§£ä¸ºä¸€ä¸ªåŒæ­¥å·¥å…·ï¼Œä¹Ÿå¯ä»¥æè¿°ä¸ºä¸€ç§åŒæ­¥æœºåˆ¶ï¼Œå®ƒé€šå¸¸è¢«æè¿°ä¸ºä¸€ä¸ªå¯¹è±¡</span></li></ul></li><li><p><span>å±æ€§</span></p><ul><li><span>_ownerï¼šæŒ‡å‘æŒæœ‰ObjectMonitorå¯¹è±¡çš„çº¿ç¨‹</span></li><li><span>_WaitSetï¼šå­˜æ”¾å¤„äºwaitçŠ¶æ€çš„çº¿ç¨‹é˜Ÿåˆ—ï¼Œå³è°ƒç”¨wait()æ–¹æ³•çš„çº¿ç¨‹</span></li><li><span>_EntryListï¼šå­˜æ”¾å¤„äºç­‰å¾…é”blockçŠ¶æ€çš„çº¿ç¨‹é˜Ÿåˆ—</span></li><li><em><span>countï¼šçº¦ä¸º</span></em><span>WaitSet å’Œ _EntryList çš„èŠ‚ç‚¹æ•°ä¹‹å’Œ</span></li><li><span>_cxq: å¤šä¸ªçº¿ç¨‹äº‰æŠ¢é”ï¼Œä¼šå…ˆå­˜å…¥è¿™ä¸ªå•å‘é“¾è¡¨</span></li><li><span>_recursions: è®°å½•é‡å…¥æ¬¡æ•°</span></li></ul></li><li><p><span>å·¥ä½œæœºåˆ¶</span></p><ul><li><span>1ã€å½“å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®ä¸€æ®µåŒæ­¥ä»£ç æ—¶ï¼Œé¦–å…ˆä¼šè¿›å…¥ _EntryList é˜Ÿåˆ—ä¸­</span></li><li><span>2ã€å½“æŸä¸ªçº¿ç¨‹è·å–åˆ°å¯¹è±¡çš„Monitoråè¿›å…¥ä¸´ç•ŒåŒºåŸŸï¼Œå¹¶æŠŠMonitorä¸­çš„ _owner å˜é‡è®¾ç½®ä¸ºå½“å‰çº¿ç¨‹ï¼ŒåŒæ—¶Monitorä¸­çš„è®¡æ•°å™¨ _count åŠ 1ã€‚å³è·å¾—å¯¹è±¡é”ã€‚</span></li><li><span>3ã€è‹¥æŒæœ‰Monitorçš„çº¿ç¨‹è°ƒç”¨ wait() æ–¹æ³•ï¼Œå°†é‡Šæ”¾å½“å‰æŒæœ‰çš„Monitorï¼Œ</span><em><span>ownerå˜é‡æ¢å¤ä¸ºnullï¼Œ</span></em><span>countè‡ªå‡1ï¼ŒåŒæ—¶è¯¥çº¿ç¨‹è¿›å…¥ _WaitSet é›†åˆä¸­ç­‰å¾…è¢«å”¤é†’ã€‚</span></li><li><span>4ã€åœ¨</span><em><span>WaitSet é›†åˆä¸­çš„çº¿ç¨‹ä¼šè¢«å†æ¬¡æ”¾åˆ°</span></em><span>EntryList é˜Ÿåˆ—ä¸­ï¼Œé‡æ–°ç«äº‰è·å–é”ã€‚</span></li><li><span>5ã€è‹¥å½“å‰çº¿ç¨‹æ‰§è¡Œå®Œæ¯•ä¹Ÿå°†é‡Šæ”¾Monitorå¹¶å¤ä½å˜é‡çš„å€¼ï¼Œä»¥ä¾¿å…¶ä»–çº¿ç¨‹è¿›å…¥è·å–é”</span></li></ul></li></ul></li></ul><h3 id='synchronizedæ—©æœŸæ•ˆç‡ä½'><span>synchronizedæ—©æœŸæ•ˆç‡ä½ï¼Ÿ</span></h3><ul><li><span>ç›‘è§†å™¨é”(monitor)æ˜¯ä¾èµ–äºåº•å±‚çš„æ“ä½œç³»ç»Ÿçš„Mutex Lockæ¥å®ç°çš„</span></li><li><span>æ“ä½œç³»ç»Ÿå®ç°çº¿ç¨‹ä¹‹é—´çš„åˆ‡æ¢æ—¶éœ€è¦ä»ç”¨æˆ·æ€è½¬æ¢åˆ°æ ¸å¿ƒæ€ï¼Œè¿™ä¸ªçŠ¶æ€ä¹‹é—´çš„è½¬æ¢éœ€è¦ç›¸å¯¹æ¯”è¾ƒé•¿çš„æ—¶é—´</span></li></ul><h3 id='å¯¹è±¡çš„å†…å­˜å¸ƒå±€'><span>å¯¹è±¡çš„å†…å­˜å¸ƒå±€</span></h3><ul><li><p><span>å¯¹è±¡å¤´</span></p><ul><li><p><span>è¿è¡Œæ—¶å…ƒæ•°æ®(Mark Word)</span></p><ul><li><p><span>å“ˆå¸Œå€¼ï¼ˆHashCodeï¼‰</span></p></li><li><p><span>GCåˆ†ä»£å¹´é¾„</span></p></li><li><p><span>é”çŠ¶æ€æ ‡å¿—</span></p><ul><li><span>è½»é‡çº§é”å®šã€é‡é‡çº§é”å®šã€GCæ ‡è®°ã€å¯åå‘</span></li></ul></li><li><p><span>çº¿ç¨‹æŒæœ‰çš„é”</span></p></li><li><p><span>åå‘çº¿ç¨‹ID</span></p></li><li><p><span>åå‘æ—¶é—´æˆ³</span></p></li><li><p><span>----å¦‚æœæ˜¯æ•°ç»„ï¼Œè¿˜éœ€è¦è®°å½•æ•°ç»„çš„é•¿åº¦</span></p></li></ul></li><li><p><span>ç±»å‹æŒ‡é’ˆ</span></p><ul><li><span>æŒ‡å‘ç±»å…ƒæ•°æ®InstanceClassï¼Œç¡®å®šè¯¥å¯¹è±¡æ‰€å±çš„ç±»å‹ã€‚æŒ‡å‘çš„å…¶å®æ˜¯æ–¹æ³•åŒºä¸­å­˜æ”¾çš„ç±»å…ƒä¿¡æ¯</span></li></ul></li></ul></li><li><p><span>å®ä¾‹æ•°æ®</span></p><ul><li><span>å¯¹è±¡çœŸæ­£å­˜å‚¨çš„æœ‰æ•ˆä¿¡æ¯ï¼ŒåŒ…æ‹¬ç¨‹åºä»£ç ä¸­å®šä¹‰çš„å„ç§ç±»å‹çš„å­—æ®µï¼ˆåŒ…æ‹¬ä»çˆ¶ç±»ç»§æ‰¿çš„å’Œæœ¬èº«çš„)</span></li></ul></li><li><p><span>å¯¹é½å¡«å……</span></p><ul><li><span>éå¿…é¡»ï¼Œå ä½ç¬¦ä½œç”¨</span></li></ul></li></ul><h3 id='é”æ¶ˆé™¤å’Œé”ç²—åŒ–'><span>é”æ¶ˆé™¤å’Œé”ç²—åŒ–</span></h3><ul><li><p><span>é”æ¶ˆé™¤</span></p><ul><li><span>JITç¼–è¯‘å™¨åœ¨ç¼–è¯‘çš„æ—¶å€™ï¼Œè¿›è¡Œé€ƒé€¸åˆ†æã€‚åˆ†æsynchronizedé”å¯¹è±¡æ˜¯ä¸æ˜¯åªå¯èƒ½è¢«ä¸€ä¸ªçº¿ç¨‹åŠ é”ï¼Œä¸å­˜åœ¨å…¶ä»–çº¿ç¨‹æ¥ç«äº‰åŠ é”çš„æƒ…å†µã€‚è¿™æ—¶å°±å¯ä»¥æ¶ˆé™¤è¯¥é”äº†ï¼Œæå‡æ‰§è¡Œæ•ˆç‡ã€‚</span></li><li><span>ç¼–è¯‘å°±ä¸ç”¨åŠ å…¥monitorenterå’ŒmonitorexitæŒ‡ä»¤</span></li></ul></li><li><p><span>é”ç²—åŒ–</span></p><ul><li><span>JITç¼–è¯‘æ—¶ï¼Œå‘ç°ä¸€æ®µä»£ç ä¸­é¢‘ç¹çš„åŠ é”é‡Šæ”¾é”ï¼Œä¼šå°†å‰åçš„é”åˆå¹¶ä¸ºä¸€ä¸ªé”ï¼Œé¿å…é¢‘ç¹åŠ é”é‡Šæ”¾é”ã€‚</span></li></ul></li></ul><h3 id='synchronizedä¼˜åŒ–é”ä¼˜åŒ–'><span>synchronizedä¼˜åŒ–(é”ä¼˜åŒ–)</span></h3><ul><li><p><span>åå‘é”</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>å¦‚æœä¸€ä¸ªçº¿ç¨‹è·å¾—äº†é”ï¼Œé‚£ä¹ˆé”å°±è¿›å…¥åå‘æ¨¡å¼ï¼Œæ­¤æ—¶Mark Word çš„ç»“æ„ä¹Ÿå˜ä¸ºåå‘é”ç»“æ„</span></li><li><span>å½“è¿™ä¸ªçº¿ç¨‹å†æ¬¡è¯·æ±‚é”æ—¶ï¼Œæ— éœ€å†åšä»»ä½•åŒæ­¥æ“ä½œï¼Œç›´æ¥è·å–é”</span></li></ul></li><li><p><span>å¼•å…¥åŸå› </span></p><ul><li><span>1ã€åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œé”ä¸ä»…ä¸å­˜åœ¨å¤šçº¿ç¨‹ç«äº‰ï¼Œè€Œä¸”æ€»æ˜¯ç”±åŒä¸€çº¿ç¨‹å¤šæ¬¡è·å¾—</span></li><li><span>2ã€å‡å°‘åŒä¸€çº¿ç¨‹è·å–é”(ä¼šæ¶‰åŠåˆ°ä¸€äº›CASæ“ä½œ,è€—æ—¶)çš„ä»£ä»·</span></li><li><span>3ã€åœ¨æ— å¤šçº¿ç¨‹ç«äº‰çš„æƒ…å†µä¸‹å°½é‡å‡å°‘ä¸å¿…è¦çš„è½»é‡çº§é”æ‰§è¡Œè·¯å¾„ã€‚</span></li><li><span>4ã€è½»é‡çº§é”çš„è·å–åŠé‡Šæ”¾ä¾èµ–å¤šæ¬¡CASåŸå­æŒ‡ä»¤ï¼Œè€Œåå‘é”åªéœ€è¦åœ¨ç½®æ¢ThreadIDçš„æ—¶å€™ä¾èµ–ä¸€æ¬¡CASåŸå­æŒ‡ä»¤ã€‚</span></li></ul></li><li><p><span>æ‰§è¡Œæµç¨‹</span></p><ul><li><p><span>è·å–é”</span></p><ul><li><span>1ã€æ£€æµ‹Mark Wordæ˜¯å¦ä¸ºå¯åå‘çŠ¶æ€ï¼Œå³æ˜¯å¦ä¸ºåå‘é”1ï¼Œé”æ ‡è¯†ä½ä¸º01</span></li><li><span>2ã€è‹¥ä¸ºå¯åå‘çŠ¶æ€ï¼Œåˆ™æµ‹è¯•çº¿ç¨‹IDæ˜¯å¦ä¸ºå½“å‰çº¿ç¨‹ID</span></li><li><span>3ã€å¦‚æœçº¿ç¨‹IDä¸ä¸ºå½“å‰çº¿ç¨‹IDï¼Œåˆ™é€šè¿‡CASæ“ä½œç«äº‰é”ï¼Œç«äº‰æˆåŠŸï¼Œåˆ™å°†Mark Wordçš„çº¿ç¨‹IDæ›¿æ¢ä¸ºå½“å‰çº¿ç¨‹ID</span></li><li><span>4ã€é€šè¿‡CASç«äº‰é”å¤±è´¥ï¼Œè¯æ˜å½“å‰å­˜åœ¨å¤šçº¿ç¨‹ç«äº‰æƒ…å†µï¼Œå½“åˆ°è¾¾å…¨å±€å®‰å…¨ç‚¹ï¼Œè·å¾—åå‘é”çš„çº¿ç¨‹è¢«æŒ‚èµ·ï¼Œåå‘é”å‡çº§ä¸ºè½»é‡çº§é”ï¼Œç„¶åè¢«é˜»å¡åœ¨å®‰å…¨ç‚¹çš„çº¿ç¨‹ç»§ç»­å¾€ä¸‹æ‰§è¡ŒåŒæ­¥ä»£ç å—ã€‚</span></li><li><span>5ã€å¦‚æœçº¿ç¨‹IDæ˜¯å½“å‰çº¿ç¨‹IDï¼Œæ‰§è¡ŒåŒæ­¥ä»£ç å—</span></li></ul></li><li><p><span>é‡Šæ”¾é”</span></p><ul><li><span>1ã€æš‚åœæ‹¥æœ‰åå‘é”çš„çº¿ç¨‹ï¼Œåˆ¤æ–­é”å¯¹è±¡æ˜¯å¦è¿˜å¤„äºè¢«é”å®šçŠ¶æ€</span></li><li><span>2ã€æ’¤é”€åå‘é”ï¼Œæ¢å¤åˆ°æ— é”çŠ¶æ€(01)æˆ–è€…è½»é‡çº§é”çš„çŠ¶æ€ï¼›</span></li><li><span>ä¸ä¼šä¸»åŠ¨é‡Šæ”¾åå‘é”ï¼Œç­‰å¾…å…¶å®ƒçº¿ç¨‹ç«äº‰(å…¨å±€å®‰å…¨ç‚¹é‡Šæ”¾)</span></li></ul></li></ul></li><li><p><span>åœºæ™¯</span></p><ul><li><span>æ²¡æœ‰é”ç«äº‰</span></li><li><span>åªæœ‰ä¸€ä¸ªçº¿ç¨‹æ‰§è¡ŒåŒæ­¥å—</span></li></ul></li></ul></li><li><p><span>è½»é‡çº§é”</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>å½“å…³é—­åå‘é”åŠŸèƒ½æˆ–è€…å¤šä¸ªçº¿ç¨‹ç«äº‰åå‘é”å¯¼è‡´åå‘é”å‡çº§ä¸ºè½»é‡çº§é”</span></li></ul></li><li><p><span>å¼•å…¥åŸå› </span></p><ul><li><span>1ã€å¯¹ç»å¤§éƒ¨åˆ†çš„é”ï¼Œåœ¨æ•´ä¸ªåŒæ­¥å‘¨æœŸå†…éƒ½ä¸å­˜åœ¨ç«äº‰ï¼Œå¯èƒ½æ˜¯äº¤æ›¿è·å–é”ç„¶åæ‰§è¡Œ</span></li><li><span>2ã€åœ¨æ²¡æœ‰å¤šçº¿ç¨‹ç«äº‰çš„å‰æä¸‹ï¼Œå‡å°‘ä¼ ç»Ÿçš„é‡é‡çº§é”ä½¿ç”¨æ“ä½œç³»ç»Ÿäº’æ–¥é‡äº§ç”Ÿçš„æ€§èƒ½æ¶ˆè€—(å¤šæŒ‡æ—¶é—´æ¶ˆè€—)</span></li></ul></li><li><p><span>æ‰§è¡Œæµç¨‹</span></p><ul><li><p><span>è·å–é”</span></p><ul><li><span>1ã€åˆ¤æ–­å½“å‰å¯¹è±¡æ˜¯å¦å¤„äºæ— é”çŠ¶æ€ï¼ˆhashcodeã€0ã€01ï¼‰ï¼Œè‹¥æ˜¯ï¼Œåˆ™JVMé¦–å…ˆå°†åœ¨å½“å‰çº¿ç¨‹çš„æ ˆå¸§ä¸­å»ºç«‹ä¸€ä¸ªåä¸ºé”è®°å½•ï¼ˆLock Recordï¼‰çš„ç©ºé—´ï¼Œç”¨äºå­˜å‚¨é”å¯¹è±¡ç›®å‰çš„Mark Wordçš„æ‹·è´(Displaced Mark Word)</span></li><li><span>2ã€JVMåˆ©ç”¨CASæ“ä½œå°è¯•å°†å¯¹è±¡çš„Mark Wordæ›´æ–°ä¸ºæŒ‡å‘Lock Recordçš„æŒ‡é’ˆï¼Œå¦‚æœæˆåŠŸè¡¨ç¤ºç«äº‰åˆ°é”ï¼Œåˆ™å°†é”æ ‡å¿—ä½å˜æˆ00ï¼Œæ‰§è¡ŒåŒæ­¥æ“ä½œã€‚</span></li><li><span>3ã€å¦‚æœå½“å‰å¯¹è±¡æœ‰é”ï¼Œæˆ–è€…ç«äº‰é”å¤±è´¥</span></li><li><span>4ã€åˆ¤æ–­å½“å‰å¯¹è±¡çš„Mark Wordæ˜¯å¦æŒ‡å‘å½“å‰çº¿ç¨‹çš„æ ˆå¸§ï¼Œå¦‚æœæ˜¯åˆ™è¡¨ç¤ºå½“å‰çº¿ç¨‹å·²ç»æŒæœ‰å½“å‰å¯¹è±¡çš„é”ï¼Œåˆ™ç›´æ¥æ‰§è¡ŒåŒæ­¥ä»£ç å—</span></li><li><span>5ã€å¦åˆ™åªèƒ½è¯´æ˜è¯¥é”å¯¹è±¡å·²ç»è¢«å…¶ä»–çº¿ç¨‹æŠ¢å äº†ï¼Œè¿™æ—¶è½»é‡çº§é”éœ€è¦è†¨èƒ€ä¸ºé‡é‡çº§é”ï¼Œé”æ ‡å¿—ä½å˜æˆ10ï¼Œåé¢ç­‰å¾…çš„çº¿ç¨‹å°†ä¼šè¿›å…¥é˜»å¡çŠ¶æ€ï¼›</span></li></ul></li><li><p><span>é‡Šæ”¾é”</span></p><ul><li><span>1ã€å–å‡ºåœ¨è·å–è½»é‡çº§é”ä¿å­˜åœ¨Displaced Mark Wordä¸­çš„æ•°æ®ï¼›</span></li><li><span>2ã€ç”¨CASæ“ä½œå°†å–å‡ºçš„æ•°æ®æ›¿æ¢å½“å‰å¯¹è±¡çš„Mark Wordä¸­ï¼Œå¦‚æœæˆåŠŸï¼Œåˆ™è¯´æ˜é‡Šæ”¾é”æˆåŠŸã€‚</span></li><li><span>3ã€å¦‚æœCASæ“ä½œæ›¿æ¢å¤±è´¥ï¼Œè¯´æ˜æœ‰å…¶ä»–çº¿ç¨‹å°è¯•è·å–è¯¥é”ï¼Œåˆ™éœ€è¦åœ¨é‡Šæ”¾é”çš„åŒæ—¶éœ€è¦å”¤é†’è¢«æŒ‚èµ·çš„çº¿ç¨‹</span></li></ul></li></ul></li><li><p><span>åœºæ™¯</span></p><ul><li><span>å¤šä¸ªçº¿ç¨‹åŒä¸€æ—¶é—´è®¿é—®åŒä¸€é”</span></li><li><span>çº¿ç¨‹äº¤æ›¿æ‰§è¡ŒåŒæ­¥å—</span></li></ul></li></ul></li><li><p><span>è‡ªæ—‹é”</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>è®©è¯¥çº¿ç¨‹ç­‰å¾…ä¸€æ®µæ—¶é—´ï¼Œä¸ä¼šè¢«ç«‹å³æŒ‚èµ·ï¼Œçœ‹æŒæœ‰é”çš„çº¿ç¨‹æ˜¯å¦ä¼šå¾ˆå¿«é‡Šæ”¾é”</span></li></ul></li><li><p><span>åŸç†</span></p><ul><li><span>æ‰§è¡Œä¸€æ®µæ— æ„ä¹‰çš„å¾ªç¯å³å¯ï¼ˆè‡ªæ—‹ï¼‰ï¼Œè¶…è¿‡è‡ªå®šä¹‰çš„æ—¶é—´æŒ‚èµ·çº¿ç¨‹</span></li></ul></li><li><p><span>è‡ªé€‚åº”è‡ªæ—‹é”</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>è‡ªæ—‹çš„æ¬¡æ•°ä¸å›ºå®š</span></li><li><span>ç”±å‰ä¸€æ¬¡åœ¨åŒä¸€ä¸ªé”ä¸Šçš„è‡ªæ—‹æ—¶é—´åŠé”çš„æ‹¥æœ‰è€…çš„çŠ¶æ€æ¥å†³å®š</span></li></ul></li><li><p><span>åŸç†</span></p><ul><li><span>çº¿ç¨‹å¦‚æœè‡ªæ—‹æˆåŠŸäº†ï¼Œé‚£ä¹ˆä¸‹æ¬¡è‡ªæ—‹çš„æ¬¡æ•°ä¼šæ›´åŠ å¤š(JVMè®¤ä¸ºè¿™æ¬¡è‡ªæ—‹å¾ˆå¯èƒ½æˆåŠŸï¼Œå…è®¸æ¬¡æ•°å¢åŠ )</span></li><li><span>å¦‚æœå¯¹äºæŸä¸ªé”ï¼Œå¾ˆå°‘æœ‰è‡ªæ—‹èƒ½å¤ŸæˆåŠŸçš„ï¼Œé‚£ä¹ˆåœ¨ä»¥åè¦æˆ–è€…è¿™ä¸ªé”çš„æ—¶å€™è‡ªæ—‹çš„æ¬¡æ•°ä¼šå‡å°‘ç”šè‡³çœç•¥æ‰è‡ªæ—‹è¿‡ç¨‹ï¼Œä»¥å…æµªè´¹å¤„ç†å™¨èµ„æºã€‚</span></li></ul></li></ul></li></ul></li><li><p><span>æ€»æ‰§è¡Œæµç¨‹</span></p><ul><li><p><span>1ã€å½“ä¸€ä¸ªçº¿ç¨‹(å‡è®¾å«Açº¿ç¨‹)æƒ³è¦è·å¾—é”æ—¶ï¼Œé¦–å…ˆæ£€æŸ¥å¯¹è±¡å¤´ä¸­(Mark Word)çš„é”æ ‡å¿—</span></p><ul><li><p><span>å¦‚æœæ˜¯åå‘é”</span></p><ul><li><span>æ£€æŸ¥å¯¹è±¡å¤´ä¸­çš„åå‘çº¿ç¨‹idæ˜¯å¦æŒ‡å‘Açº¿ç¨‹ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™ç›´æ¥æ‰§è¡ŒåŒæ­¥ä»£ç å—</span></li></ul></li><li><p><span>å¦‚æœä¸æ˜¯</span></p><ul><li></li></ul></li></ul></li><li><p><span>2ã€å¦‚æœä¸æ˜¯ï¼Œä½¿ç”¨casæ“ä½œå°†æ›¿æ¢å¯¹è±¡å¤´ä¸­çš„åå‘çº¿ç¨‹id</span></p><ul><li><p><span>å¦‚æœæˆåŠŸ</span></p><ul><li><span>ç›´æ¥æ‰§è¡ŒåŒæ­¥ä»£ç å—</span></li></ul></li></ul></li><li><p><span>3ã€å¦‚æœcasæ›¿æ¢å¤±è´¥ï¼Œè¯´æ˜å…¶å®ƒçº¿ç¨‹(Bçº¿ç¨‹)å·²ç»æ‹¥æœ‰åå‘é”ï¼Œéœ€è¦é‡Šæ”¾è¿™ä¸ªåå‘é”</span></p></li><li><p><span>4ã€Bçº¿ç¨‹è¿è¡Œåˆ°å…¨å±€å®‰å…¨ç‚¹åï¼Œæš‚åœè¯¥çº¿ç¨‹ï¼Œæ£€æŸ¥å®ƒçš„çŠ¶æ€</span></p><ul><li><p><span>å¦‚æœå¤„äºä¸æ´»åŠ¨æˆ–è€…å·²ç»é€€å‡ºåŒæ­¥ä»£ç å—</span></p><ul><li><span>åŸæŒæœ‰åå‘é”çš„çº¿ç¨‹é‡Šæ”¾é”ï¼ŒAçº¿ç¨‹å°è¯•ä½¿ç”¨casæ“ä½œå°†æ›¿æ¢å¯¹è±¡å¤´ä¸­çš„åå‘çº¿ç¨‹id</span></li></ul></li></ul></li><li><p><span>5ã€å¦‚æœå¤„äºæ´»åŠ¨çŠ¶æ€ï¼Œå‡çº§ä¸ºè½»é‡çº§é”</span></p></li><li><p><span>6ã€åœ¨Bçº¿ç¨‹çš„æ ˆä¸­åˆ†é…é”è®°å½•ï¼Œæ‹·è´å¯¹è±¡å¤´ä¸­çš„MarkWordåˆ°é”è®°å½•ä¸­ï¼Œç„¶åå°†MarkWordæ”¹ä¸ºæŒ‡å‘Bçº¿ç¨‹ï¼ŒåŒæ—¶å°†å¯¹è±¡å¤´ä¸­çš„é”æ ‡å¿—ä¿¡æ¯æ”¹ä¸ºè½»é‡çº§é”çš„00,ç„¶åå”¤é†’Bçº¿ç¨‹ã€‚(ä»å®‰å…¨ç‚¹æ‰§è¡Œ)</span></p></li><li><p><span>7ã€ç”±äºé”å‡çº§ä¸ºè½»é‡çº§é”, Açº¿ç¨‹ä¹Ÿè¿›è¡Œç›¸åŒçš„æ“ä½œï¼ˆå‡çº§è½»é‡çº§é”ï¼‰ï¼Œå› ä¸ºæ­¤æ—¶Bçº¿ç¨‹æ‹¥æœ‰é”ï¼Œå› æ­¤, Açº¿ç¨‹è‡ªæ—‹ã€‚å¦‚æœè‡ªæ—‹ä¸€å®šæ¬¡æ•°å†…æˆåŠŸè·å¾—é”ï¼Œé‚£ä¹ˆAçº¿ç¨‹è·å¾—è½»é‡çº§é”ï¼Œæ‰§è¡ŒåŒæ­¥ä»£ç å—</span></p></li><li><p><span>8ã€è‹¥è‡ªæ—‹åä»æœªè·å¾—é”ï¼ŒAå‡çº§ä¸ºé‡é‡çº§é”ï¼Œå°†å¯¹è±¡å¤´ä¸­çš„é”æ ‡å¿—ä¿¡æ¯æ”¹ä¸ºé‡é‡çº§çš„10ï¼ŒåŒæ—¶é˜»å¡ã€‚</span></p></li><li><p><span>9ã€Bçº¿ç¨‹åœ¨é‡Šæ”¾é”çš„æ—¶å€™ï¼Œä½¿ç”¨caså°†MarkWordä¸­çš„ä¿¡æ¯æ›¿æ¢ï¼ŒæˆåŠŸï¼Œåˆ™è¡¨ç¤ºæ— ç«äº‰(è¿™ä¸ªæ—¶å€™è¿˜æ˜¯è½»é‡çº§é”, Açº¿ç¨‹å¯èƒ½æ­£åœ¨è‡ªæ—‹ä¸­)ï¼Œç›´æ¥é‡Šæ”¾</span></p></li><li><p><span>10ã€å¤±è´¥(å› ä¸ºè¿™ä¸ªæ—¶å€™é”å·²ç»è†¨èƒ€)ï¼Œé‚£ä¹ˆé‡Šæ”¾ä¹‹ åå”¤é†’è¢«æŒ‚èµ·çš„çº¿ç¨‹(åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œä¹Ÿå°±æ˜¯A)ã€‚</span></p></li></ul></li></ul><h2 id='jvm'><span>JVM</span></h2><h3 id='å®šä¹‰'><span>å®šä¹‰</span></h3><ul><li><span>äºŒè¿›åˆ¶å­—èŠ‚ç çš„è¿è¡Œç¯å¢ƒï¼Œè´Ÿè´£è£…è½½å­—èŠ‚ç åˆ°å…¶å†…éƒ¨ï¼Œè§£é‡Š/ç¼–è¯‘ä¸ºå¯¹åº”å¹³å°ä¸Šçš„æœºå™¨æŒ‡ä»¤æ‰§è¡Œã€‚</span></li><li><span>è¿è¡Œåœ¨æ“ä½œç³»ç»Ÿä¹‹ä¸Šçš„ï¼Œå®ƒä¸ç¡¬ä»¶æ²¡æœ‰ç›´æ¥çš„äº¤äº’</span></li></ul><h3 id='ç‰¹ç‚¹'><span>ç‰¹ç‚¹</span></h3><ul><li><span>ä¸€æ¬¡ç¼–è¯‘ï¼Œåˆ°å¤„è¿è¡Œ</span></li><li><span>è‡ªåŠ¨å†…å­˜ç®¡ç†</span></li><li><span>è‡ªåŠ¨åƒåœ¾å›æ”¶åŠŸèƒ½</span></li></ul><h3 id='ç±»åŠ è½½å­ç³»ç»Ÿ'><span>ç±»åŠ è½½å­ç³»ç»Ÿ</span></h3><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>è´Ÿè´£ä»æ–‡ä»¶ç³»ç»Ÿæˆ–è€…ç½‘ç»œä¸­åŠ è½½Classæ–‡ä»¶ï¼Œclassæ–‡ä»¶åœ¨æ–‡ä»¶å¼€å¤´æœ‰ç‰¹å®šçš„æ–‡ä»¶æ ‡è¯†</span></li><li><span>åªè´Ÿè´£classæ–‡ä»¶çš„åŠ è½½ï¼Œè‡³äºå®ƒæ˜¯å¦å¯ä»¥è¿è¡Œï¼Œåˆ™ç”±Execution Engineå†³å®š</span></li><li><span>class fileåŠ è½½åˆ°JVMä¸­ï¼Œè¢«ç§°ä¸ºDNAå…ƒæ•°æ®æ¨¡æ¿ï¼Œæ”¾åœ¨æ–¹æ³•åŒº</span></li></ul></li><li><p><span>ç±»åŠ è½½è¿‡ç¨‹</span></p><ul><li><p><span>åŠ è½½</span></p><ul><li><span>1ã€é€šè¿‡ä¸€ä¸ªç±»çš„å…¨é™å®šåè·å–å®šä¹‰æ­¤ç±»çš„äºŒè¿›åˆ¶å­—èŠ‚æµ</span></li><li><span>2ã€å°†è¿™ä¸ªå­—èŠ‚æµæ‰€ä»£è¡¨çš„é™æ€å­˜å‚¨ç»“æ„è½¬åŒ–ä¸ºæ–¹æ³•åŒºçš„è¿è¡Œæ—¶æ•°æ®ç»“æ„</span></li><li><span>3ã€åœ¨å†…å­˜ä¸­ç”Ÿæˆä¸€ä¸ªä»£è¡¨è¿™ä¸ªç±»çš„java.lang.Classå¯¹è±¡ï¼Œä½œä¸ºæ–¹æ³•åŒºè¿™ä¸ªç±»çš„å„ç§æ•°æ®çš„è®¿é—®å…¥å£</span></li></ul></li><li><p><span>é“¾æ¥</span></p><ul><li><p><span>éªŒè¯(Verify)</span></p><ul><li><p><span>ç›®çš„</span></p><ul><li><span>ç¡®ä¿Classæ–‡ä»¶çš„å­—èŠ‚æµä¸­åŒ…å«ä¿¡æ¯ç¬¦åˆå½“å‰è™šæ‹Ÿæœºè¦æ±‚ï¼Œä¿è¯è¢«åŠ è½½ç±»çš„æ­£ç¡®æ€§ï¼Œä¸ä¼šå±å®³è™šæ‹Ÿæœºè‡ªèº«å®‰å…¨ã€‚</span></li></ul></li><li><p><span>åˆ†ç±»</span></p><ul><li><span>æ–‡ä»¶æ ¼å¼éªŒè¯</span></li><li><span>å…ƒæ•°æ®éªŒè¯</span></li><li><span>å­—èŠ‚ç éªŒè¯</span></li><li><span>ç¬¦å·å¼•ç”¨éªŒè¯</span></li></ul></li></ul></li><li><p><span>å‡†å¤‡(Prepare)</span></p><ul><li><p><span>ç›®çš„</span></p><ul><li><span>ä¸ºç±»å˜é‡åˆ†é…å†…å­˜å¹¶ä¸”è®¾ç½®è¯¥ç±»å˜é‡çš„é»˜è®¤åˆå§‹å€¼ï¼Œå³é›¶å€¼</span></li></ul></li><li><p><span>æ³¨æ„äº‹é¡¹</span></p><ul><li><span>ä¸åŒ…å«ç”¨finalä¿®é¥°çš„staticï¼Œå› ä¸ºfinalåœ¨ç¼–è¯‘çš„æ—¶å€™å°±ä¼šåˆ†é…äº†ï¼Œå‡†å¤‡é˜¶æ®µä¼šæ˜¾å¼åˆå§‹åŒ–ã€‚</span></li><li><span>ä¸ä¼šä¸ºå®ä¾‹å˜é‡åˆ†é…åˆå§‹åŒ–ï¼Œç±»å˜é‡ä¼šåˆ†é…åœ¨æ–¹æ³•åŒºä¸­ï¼Œè€Œå®ä¾‹å˜é‡æ˜¯ä¼šéšç€å¯¹è±¡ä¸€èµ·åˆ†é…åˆ°Javaå †ä¸­ã€‚</span></li></ul></li></ul></li><li><p><span>è§£æ(Resolve)</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>å°†å¸¸é‡æ± å†…çš„ç¬¦å·å¼•ç”¨è½¬æ¢ä¸ºç›´æ¥å¼•ç”¨çš„è¿‡ç¨‹</span></li></ul></li></ul></li></ul></li><li><p><span>åˆå§‹åŒ–</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>åˆå§‹åŒ–é˜¶æ®µå°±æ˜¯æ‰§è¡Œç±»æ„é€ å™¨æ³•</span><clinit><span>ï¼ˆï¼‰çš„è¿‡ç¨‹ã€‚</span></li></ul></li><li><p><span>ä¹Ÿå°±æ˜¯æŒ‰é¡ºåºç»™é™æ€ä»£ç å—ä¸­çš„å˜é‡å’Œé™æ€å˜é‡(ç±»å˜é‡)èµ‹äºˆçœŸå®å€¼çš„è¿‡ç¨‹.</span></p></li></ul></li></ul></li><li><p><span>ç±»åŠ è½½å™¨</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>å°†classæ–‡ä»¶åŠ è½½åˆ°JVMä¸­</span></li></ul></li><li><p><span>åˆ†ç±»</span></p><ul><li><p><span>å¯åŠ¨ç±»åŠ è½½å™¨ï¼ˆå¼•å¯¼ç±»åŠ è½½å™¨ï¼ŒBootstrap ClassLoaderï¼‰</span></p><ul><li><span>åŠ è½½Javaçš„æ ¸å¿ƒåº“ï¼Œæä¾›JVMè‡ªèº«éœ€è¦çš„ç±»ã€‚</span></li></ul></li><li><p><span>æ‰©å±•ç±»åŠ è½½å™¨ï¼ˆExtension ClassLoaderï¼‰</span></p><ul><li><span>æŒ‡å®šçš„ç›®å½•ä¸­åŠ è½½ç±»åº“ï¼Œæˆ–ä»JDKçš„å®‰è£…ç›®å½•çš„jre/1ib/extå­ç›®å½•ï¼ˆæ‰©å±•ç›®å½•ï¼‰ä¸‹åŠ è½½ç±»åº“ã€‚</span></li></ul></li><li><p><span>åº”ç”¨ç¨‹åºç±»åŠ è½½å™¨ï¼ˆç³»ç»Ÿç±»åŠ è½½å™¨ï¼ŒAppClassLoaderï¼‰</span></p><ul><li><span>ç¨‹åºä¸­é»˜è®¤çš„ç±»åŠ è½½å™¨</span></li><li><span>è´Ÿè´£åŠ è½½ç¯å¢ƒå˜é‡classpathæˆ–ç³»ç»Ÿå±æ€§java.class.pathæŒ‡å®šè·¯å¾„ä¸‹çš„ç±»åº“</span></li></ul></li><li><p><span>ç”¨æˆ·è‡ªå®šä¹‰ç±»åŠ è½½å™¨</span></p></li></ul></li></ul></li><li><p><span>åŒäº²å§”æ´¾æœºåˆ¶</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>Javaè™šæ‹Ÿæœºå¯¹classæ–‡ä»¶é‡‡ç”¨çš„æ˜¯æŒ‰éœ€åŠ è½½ï¼ŒåŠ è½½æŸä¸ªç±»çš„classæ–‡ä»¶æ—¶ï¼ŒJavaè™šæ‹Ÿæœºé‡‡ç”¨çš„æ˜¯åŒäº²å§”æ´¾æ¨¡å¼</span></li></ul></li><li><p><span>å·¥ä½œåŸç†</span></p><ul><li><span>1ã€å¦‚æœä¸€ä¸ªç±»åŠ è½½å™¨æ”¶åˆ°äº†ç±»åŠ è½½è¯·æ±‚ï¼Œå®ƒå¹¶ä¸ä¼šè‡ªå·±å…ˆå»åŠ è½½ï¼Œè€Œæ˜¯æŠŠè¿™ä¸ªè¯·æ±‚å§”æ‰˜ç»™çˆ¶ç±»çš„åŠ è½½å™¨å»æ‰§è¡Œï¼›</span></li><li><span>2ã€å¦‚æœçˆ¶ç±»åŠ è½½å™¨è¿˜å­˜åœ¨å…¶çˆ¶ç±»åŠ è½½å™¨ï¼Œåˆ™è¿›ä¸€æ­¥å‘ä¸Šå§”æ‰˜ï¼Œä¾æ¬¡é€’å½’ï¼Œè¯·æ±‚æœ€ç»ˆå°†åˆ°è¾¾é¡¶å±‚çš„å¯åŠ¨ç±»åŠ è½½å™¨ï¼›</span></li><li><span>3ã€å¦‚æœçˆ¶ç±»åŠ è½½å™¨å¯ä»¥å®Œæˆç±»åŠ è½½ä»»åŠ¡ï¼Œå°±æˆåŠŸè¿”å›ï¼Œå€˜è‹¥çˆ¶ç±»åŠ è½½å™¨æ— æ³•å®Œæˆæ­¤åŠ è½½ä»»åŠ¡ï¼Œå­åŠ è½½å™¨æ‰ä¼šå°è¯•è‡ªå·±å»åŠ è½½ã€‚</span></li></ul></li><li><p><span>ä¼˜åŠ¿</span></p><ul><li><p><span>é¿å…ç±»çš„é‡å¤åŠ è½½</span></p></li><li><p><span>ä¿æŠ¤ç¨‹åºå®‰å…¨ï¼Œé˜²æ­¢æ ¸å¿ƒAPIè¢«éšæ„ä¿®æ”¹</span></p><ul><li><span>è‡ªå®šä¹‰Stringç±»</span></li></ul></li></ul></li></ul></li><li><p><span>æ²™ç®±å®‰å…¨æœºåˆ¶</span></p><ul><li><span>å°±æ˜¯å°†Javaä»£ç é™å®šåœ¨è™šæ‹Ÿæœºï¼ˆJVMï¼‰ç‰¹å®šçš„è¿è¡ŒèŒƒå›´ä¸­ï¼Œå¹¶ä¸”ä¸¥æ ¼é™åˆ¶ä»£ç å¯¹æœ¬åœ°ç³»ç»Ÿèµ„æºè®¿é—®ã€‚é€šè¿‡è¿™æ ·çš„æªæ–½æ¥ä¿è¯å¯¹ä»£ç çš„æœ‰é™éš”ç¦»ï¼Œé˜²æ­¢å¯¹æœ¬åœ°ç³»ç»Ÿé€ æˆç ´å</span></li><li><span>è‡ªå®šä¹‰stringç±»ï¼Œä½†æ˜¯åœ¨åŠ è½½è‡ªå®šä¹‰Stringç±»çš„æ—¶å€™ä¼šç‡å…ˆä½¿ç”¨å¼•å¯¼ç±»åŠ è½½å™¨åŠ è½½ï¼Œè€Œå¼•å¯¼ç±»åŠ è½½å™¨åœ¨åŠ è½½çš„è¿‡ç¨‹ä¸­ä¼šå…ˆåŠ è½½jdkè‡ªå¸¦çš„æ–‡ä»¶ï¼ˆrt.jaråŒ…ä¸­java\lang\String.classï¼‰ï¼ŒæŠ¥é”™ä¿¡æ¯è¯´æ²¡æœ‰mainæ–¹æ³•ï¼Œå°±æ˜¯å› ä¸ºåŠ è½½çš„æ˜¯rt.jaråŒ…ä¸­çš„stringç±»ã€‚</span></li></ul></li><li><p><span>ä¸€ä¸ªæœ‰æ•ˆçš„å­—èŠ‚ç æ–‡ä»¶ä¸­é™¤äº†åŒ…å«ç±»çš„ç‰ˆæœ¬ä¿¡æ¯ã€å­—æ®µã€æ–¹æ³•ä»¥åŠæ¥å£ç­‰æè¿°ç¬¦ä¿¡æ¯å¤–ï¼Œè¿˜åŒ…å«ä¸€é¡¹ä¿¡æ¯å°±æ˜¯å¸¸é‡æ± è¡¨ï¼ˆConstant Pool Tableï¼‰ï¼ŒåŒ…æ‹¬å„ç§å­—é¢é‡å’Œå¯¹ç±»å‹ã€åŸŸå’Œæ–¹æ³•çš„ç¬¦å·å¼•ç”¨ã€‚</span></p></li></ul><h3 id='ç¨‹åºè®¡æ•°å™¨pc'><span>ç¨‹åºè®¡æ•°å™¨(PC)</span></h3><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>PCå¯„å­˜å™¨ç”¨æ¥å­˜å‚¨æŒ‡å‘ä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€ï¼Œä¹Ÿå³å°†è¦æ‰§è¡Œçš„æŒ‡ä»¤ä»£ç ã€‚ç”±æ‰§è¡Œå¼•æ“è¯»å–ä¸‹ä¸€æ¡æŒ‡ä»¤ã€‚</span></li></ul></li><li><p><span>åŸç†</span></p><ul><li><span>PCå­˜æ”¾çš„æ˜¯ä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€ï¼Œæ‰§è¡Œå¼•æ“ä»pcä¸­å–å‡ºæŒ‡ä»¤æ‰§è¡Œåï¼ŒPC+1,çœ‹èµ·æ¥pcåƒæ˜¯å­˜æ”¾å½“å‰çº¿ç¨‹æ‰§è¡Œçš„ä½ç½®ä¸€æ ·(æ‰§è¡Œå¼•æ“è¯»å–åæ‰§è¡Œæ‰+1)ã€‚</span></li></ul></li><li><p><span>ä¸ºä»€ä¹ˆPCå¯„å­˜å™¨å­˜å‚¨å­—èŠ‚ç æŒ‡ä»¤åœ°å€ï¼Ÿ</span></p><ul><li><span>JVMçš„å­—èŠ‚ç è§£é‡Šå™¨å°±éœ€è¦é€šè¿‡æ”¹å˜PCå¯„å­˜å™¨çš„å€¼æ¥æ˜ç¡®ä¸‹ä¸€æ¡åº”è¯¥æ‰§è¡Œä»€ä¹ˆæ ·çš„å­—èŠ‚ç æŒ‡ä»¤ã€‚</span></li></ul></li><li><p><span>ä¸ºä»€ä¹ˆPCå¯„å­˜å™¨è®°å½•å½“å‰çº¿ç¨‹çš„æ‰§è¡Œåœ°å€ï¼Ÿ</span></p><ul><li><span>å› ä¸ºCPUéœ€è¦ä¸åœçš„åˆ‡æ¢å„ä¸ªçº¿ç¨‹ï¼Œè¿™æ—¶å€™åˆ‡æ¢å›æ¥ä»¥åï¼Œå°±å¾—çŸ¥é“æ¥ç€ä»å“ªå¼€å§‹ç»§ç»­æ‰§è¡Œã€‚</span></li></ul></li><li><p><span>PCå¯„å­˜å™¨ä¸ºä»€ä¹ˆè¢«è®¾å®šä¸ºç§æœ‰çš„ï¼Ÿ</span></p><ul><li><span>CPUä¼šä¸åœåœ°åšä»»åŠ¡åˆ‡æ¢ï¼Œä¸ºäº†èƒ½å¤Ÿå‡†ç¡®åœ°è®°å½•å„ä¸ªçº¿ç¨‹æ­£åœ¨æ‰§è¡Œçš„å½“å‰å­—èŠ‚ç æŒ‡ä»¤åœ°å€ï¼Œæ¯ä¸€ä¸ªçº¿ç¨‹éƒ½åˆ†é…ä¸€ä¸ªPCå¯„å­˜å™¨ã€‚</span></li></ul></li></ul><h3 id='è™šæ‹Ÿæœºæ ˆ'><span>è™šæ‹Ÿæœºæ ˆ</span></h3><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>æ¯ä¸ªçº¿ç¨‹åœ¨åˆ›å»ºæ—¶éƒ½ä¼šåˆ›å»ºä¸€ä¸ªè™šæ‹Ÿæœºæ ˆï¼Œå…¶å†…éƒ¨ä¿å­˜ä¸€ä¸ªä¸ªçš„æ ˆå¸§ï¼ˆStack Frameï¼‰ï¼Œå¯¹åº”ç€ä¸€æ¬¡æ¬¡çš„Javaæ–¹æ³•è°ƒç”¨</span></li><li><span>ä¸»ç®¡Javaç¨‹åºçš„è¿è¡Œï¼Œå®ƒä¿å­˜æ–¹æ³•çš„å±€éƒ¨å˜é‡ã€éƒ¨åˆ†ç»“æœï¼Œå¹¶å‚ä¸æ–¹æ³•çš„è°ƒç”¨å’Œè¿”å›ã€‚</span></li></ul></li><li><p><span>æ ˆå¸§</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>è™šæ‹Ÿæœºæ ˆçš„å­˜å‚¨å•ä½</span></li><li><span>æ¯ä¸ªæ–¹æ³•å¯¹åº”ä¸€ä¸ªæ ˆå¸§</span></li><li><span>æ˜¯ä¸€ä¸ªå†…å­˜åŒºå—ï¼Œæ˜¯ä¸€ä¸ªæ•°æ®é›†ï¼Œç»´ç³»ç€æ–¹æ³•æ‰§è¡Œè¿‡ç¨‹ä¸­çš„å„ç§æ•°æ®ä¿¡æ¯</span></li><li><span>ä¿å­˜æŒ‡å‘å¯¹è±¡æˆ–æ•°ç»„åœ¨å †ä¸­ä½ç½®çš„å¼•ç”¨</span></li></ul></li><li><p><span>ç»“æ„</span></p><ul><li><p><span>å±€éƒ¨å˜é‡è¡¨</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>ä¸€ä¸ªæ•°å­—æ•°ç»„ï¼Œä¸»è¦ç”¨äºå­˜å‚¨æ–¹æ³•å‚æ•°å’Œå®šä¹‰åœ¨æ–¹æ³•ä½“å†…çš„å±€éƒ¨å˜é‡</span></li><li><span>å±€éƒ¨å˜é‡è¡¨æ‰€éœ€çš„å®¹é‡å¤§å°æ˜¯åœ¨ç¼–è¯‘æœŸç¡®å®šä¸‹æ¥çš„</span></li></ul></li><li><p><span>å˜é‡æ§½(Slot)</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>å±€éƒ¨å˜é‡è¡¨çš„å­˜å‚¨å•å…ƒ</span></li></ul></li><li><p><span>4KB</span></p></li></ul></li><li><p><span>é‡å¤åˆ©ç”¨</span></p><ul><li><span>Slotå¯ä»¥é‡å¤åˆ©ç”¨ï¼Œå¦‚æœä¸€ä¸ªå±€éƒ¨å˜é‡è¶…è¿‡äº†ä½œç”¨åŸŸï¼Œé‚£ä¹ˆåœ¨å…¶ä½œç”¨åŸŸåæ–°ç”³æ˜çš„å±€éƒ¨å˜é‡å¯èƒ½ä¼šå¤ç”¨è¿‡æœŸå±€éƒ¨å˜é‡çš„æ§½ä½ï¼ŒèŠ‚çœèµ„æºã€‚</span></li><li><span>{ int a = 1; }</span>
<span>int b = 2;   // bå¯èƒ½ä¼šå¤ç”¨açš„æ§½ä½</span></li></ul></li></ul></li><li><p><span>æ“ä½œæ•°æ ˆ</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>åœ¨æ–¹æ³•æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œæ ¹æ®å­—èŠ‚ç æŒ‡ä»¤ï¼Œå¾€æ ˆä¸­å†™å…¥æ•°æ®æˆ–æå–æ•°æ®ï¼Œå³å…¥æ ˆï¼ˆpushï¼‰å’Œ å‡ºæ ˆï¼ˆpopï¼‰</span></li></ul></li><li><p><span>ä½œç”¨</span></p><ul><li><span>ä¸»è¦ç”¨äºä¿å­˜è®¡ç®—è¿‡ç¨‹çš„ä¸­é—´ç»“æœï¼ŒåŒæ—¶ä½œä¸ºè®¡ç®—è¿‡ç¨‹ä¸­å˜é‡ä¸´æ—¶çš„å­˜å‚¨ç©ºé—´</span></li></ul></li></ul></li><li><p><span>åŠ¨æ€é“¾æ¥</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>æ ˆå¸§å†…éƒ¨ä¸€ä¸ªæŒ‡å‘è¿è¡Œæ—¶å¸¸é‡æ± ä¸­è¯¥æ ˆå¸§æ‰€å±æ–¹æ³•çš„å¼•ç”¨</span></li></ul></li><li><p><span>ä½œç”¨</span></p><ul><li><span>å°†ç¬¦å·å¼•ç”¨è½¬æ¢ä¸ºè°ƒç”¨æ–¹æ³•ç›´æ¥å¼•ç”¨</span></li></ul></li></ul></li><li><p><span>æ–¹æ³•è¿”å›åœ°å€</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>å­˜æ”¾è°ƒç”¨è¯¥æ–¹æ³•çš„pcå¯„å­˜å™¨çš„å€¼ã€‚</span></li></ul></li><li><p><span>è¿”å›å€¼</span></p><ul><li><p><span>æ­£å¸¸é€€å‡º</span></p><ul><li><span>è°ƒç”¨è€…çš„pcè®¡æ•°å™¨çš„å€¼ä½œä¸ºè¿”å›åœ°å€ï¼Œå³è°ƒç”¨è¯¥æ–¹æ³•çš„æŒ‡ä»¤çš„ä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€ã€‚</span></li></ul></li><li><p><span>å¼‚å¸¸é€€å‡º</span></p><ul><li><span>è¿”å›åœ°å€æ˜¯è¦é€šè¿‡å¼‚å¸¸è¡¨æ¥ç¡®å®šï¼Œæ ˆå¸§ä¸­ä¸€èˆ¬ä¸ä¼šä¿å­˜è¿™éƒ¨åˆ†ä¿¡æ¯</span></li></ul></li></ul></li></ul></li></ul></li></ul></li><li><p><span>æ–¹æ³•è°ƒç”¨</span></p><ul><li><p><span>å°†ç¬¦å·å¼•ç”¨è½¬æ¢ä¸ºè°ƒç”¨æ–¹æ³•çš„ç›´æ¥å¼•ç”¨ä¸æ–¹æ³•çš„ç»‘å®šæœºåˆ¶ç›¸å…³</span></p></li><li><p><span>é“¾æ¥</span></p><ul><li><p><span>é™æ€é“¾æ¥</span></p><ul><li><span>å½“ä¸€ä¸ªå­—èŠ‚ç æ–‡ä»¶è¢«è£…è½½è¿›JVMå†…éƒ¨æ—¶ï¼Œå¦‚æœè¢«è°ƒç”¨çš„ç›®æ ‡æ–¹æ³•åœ¨ç¼–è¯‘æœŸå¯çŸ¥ï¼Œä¸”è¿è¡ŒæœŸä¿æŒä¸å˜</span></li></ul></li><li><p><span>åŠ¨æ€é“¾æ¥</span></p><ul><li><span>å¦‚æœè¢«è°ƒç”¨çš„æ–¹æ³•åœ¨ç¼–è¯‘æœŸæ— æ³•è¢«ç¡®å®šä¸‹æ¥ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåªèƒ½å¤Ÿåœ¨ç¨‹åºè¿è¡ŒæœŸå°†è°ƒç”¨çš„æ–¹æ³•çš„ç¬¦å·è½¬æ¢ä¸ºç›´æ¥å¼•ç”¨</span></li></ul></li></ul></li><li><p><span>ç»‘å®šæœºåˆ¶</span></p><ul><li><span>æ—©æœŸç»‘å®š</span></li><li><span>æ™šæœŸç»‘å®š</span></li></ul></li></ul></li></ul><h3 id='æœ¬åœ°æ–¹æ³•æ¥å£'><span>æœ¬åœ°æ–¹æ³•æ¥å£</span></h3><ul><li><p><span>æœ¬åœ°æ–¹æ³•</span></p><ul><li><span>ä¸€ä¸ªNative Methodtæ˜¯ä¸€ä¸ªJavaè°ƒç”¨éJavaä»£ç çš„æ¥å›—ã€‚</span></li></ul></li><li><p><span>ä½œç”¨</span></p><ul><li><span>æœ¬åœ°æ¥å£çš„ä½œç”¨æ˜¯èåˆä¸åŒçš„ç¼–ç¨‹è¯­è¨€ä¸ºJavaæ‰€ç”¨ï¼Œå®ƒçš„åˆè¡·æ˜¯èåˆC/C++ç¨‹åº</span></li></ul></li><li><p><span>ä¸ºä»€ä¹ˆä½¿ç”¨Native Methodï¼Ÿ</span></p><ul><li><p><span>ä¸Javaç¯å¢ƒå¤–çš„äº¤äº’</span></p><ul><li><span>éœ€è¦ä¸ä¸€äº›åº•å±‚ç³»ç»Ÿï¼Œå¦‚æ“ä½œç³»ç»Ÿæˆ–æŸäº›ç¡¬ä»¶äº¤æ¢ä¿¡æ¯</span></li></ul></li><li><p><span>ä¸æ“ä½œç³»ç»Ÿçš„äº¤äº’</span></p><ul><li><span>ä¾èµ–äºä¸€åº•å±‚ç³»ç»Ÿçš„æ”¯æŒ</span></li></ul></li></ul></li></ul><h3 id='æœ¬åœ°æ–¹æ³•æ ˆ'><span>æœ¬åœ°æ–¹æ³•æ ˆ</span></h3><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>ç”¨äºç®¡ç†æœ¬åœ°æ–¹æ³•çš„è°ƒç”¨</span></li><li><span>Cè¯­è¨€å®ç°</span></li><li><span>å…è®¸è¢«å®ç°æˆå›ºå®šæˆ–è€…æ˜¯å¯åŠ¨æ€æ‰©å±•çš„å†…å­˜å¤§å°ï¼ˆä¸è™šæ‹Ÿæœºæ ˆå†…å­˜æº¢å‡ºç›¸åŒï¼‰</span></li></ul></li><li><p><span>è¿‡ç¨‹</span></p><ul><li><span>Native Method Stackä¸­ç™»è®°nativeæ–¹æ³•ï¼Œåœ¨Execution Engine æ‰§è¡Œæ—¶åŠ è½½æœ¬åœ°æ–¹æ³•åº“ã€‚</span></li></ul></li></ul><h3 id='å †'><span>å †</span></h3><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>(å‡ ä¹)æ‰€æœ‰çš„å¯¹è±¡å®ä¾‹ä»¥åŠæ•°ç»„éƒ½åº”å½“åœ¨è¿è¡Œæ—¶åˆ†é…åœ¨å †ä¸Š</span></li><li><span>æ˜¯JVMç®¡ç†çš„æœ€å¤§ä¸€å—å†…å­˜ç©ºé—´</span></li><li><span>å †å¯ä»¥å¤„äºç‰©ç†ä¸Šä¸è¿ç»­çš„å†…å­˜ç©ºé—´ä¸­ï¼Œä½†åœ¨é€»è¾‘ä¸Šå®ƒåº”è¯¥è¢«è§†ä¸ºè¿ç»­çš„</span></li><li><span>JVMå¯åŠ¨æ—¶åˆ›å»ºï¼Œç©ºé—´å¤§å°å·²ç¡®è®¤</span></li></ul></li><li><p><span>å†…éƒ¨ç»“æ„</span></p><ul><li><p><span>æ–°ç”Ÿä»£</span></p><ul><li><span>Eden(ä¼Šç”¸å›­)åŒº</span></li><li><span>SurvivoråŒº</span></li></ul></li><li><p><span>è€å¹´ä»£</span></p></li><li><p><span>å…ƒç©ºé—´</span></p></li></ul></li><li><p><span>å¯¹è±¡åˆ†é…è¿‡ç¨‹</span></p></li><li><p><span>GCç±»å‹</span></p><ul><li><p><span>éƒ¨åˆ†æ”¶é›†ï¼ˆPartial GCï¼‰</span></p><ul><li><p><span>æ–°ç”Ÿä»£æ”¶é›†ï¼ˆMinorGC/YoungGCï¼‰ï¼šåªæ˜¯æ–°ç”Ÿä»£çš„åƒåœ¾æ”¶é›†</span></p></li><li><p><span>è€å¹´ä»£æ”¶é›†ï¼ˆMajorGC/o1dGCï¼‰ï¼šåªæ˜¯è€å¹´ä»£çš„åœ¾æ”¶é›†ã€‚</span></p><ul><li><span>CMS GCç‹¬æœ‰</span></li></ul></li><li><p><span>æ··åˆæ”¶é›†ï¼ˆMixedGCï¼‰ï¼šæ”¶é›†æ•´ä¸ªæ–°ç”Ÿä»£ä»¥åŠéƒ¨åˆ†è€å¹´ä»£çš„åƒåœ¾æ”¶é›†</span></p><ul><li><span>G1 GCç‹¬æœ‰</span></li></ul></li></ul></li><li><p><span>æ•´å †æ”¶é›†ï¼ˆFullGCï¼‰</span></p><ul><li><span>æ”¶é›†æ•´ä¸ªjavaå †å’Œæ–¹æ³•åŒºçš„åƒåœ¾æ”¶é›†ã€‚</span></li></ul></li></ul></li><li><p><span>å­ä¸»é¢˜ 5</span></p><ul><li><p><span>Minor GC</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>å‘ç”Ÿåœ¨æ–°ç”Ÿä»£çš„GC</span></li></ul></li><li><p><span>è§¦å‘æœºåˆ¶</span></p><ul><li><span>1ã€å¹´è½»ä»£ç©ºé—´ä¸è¶³æ—¶ï¼Œå°±ä¼šè§¦å‘MinorGCï¼Œè¿™é‡Œçš„å¹´è½»ä»£æ»¡æŒ‡çš„æ˜¯Edenä»£æ»¡ï¼ŒSurvivoræ»¡ä¸ä¼šå¼•å‘GCã€‚ï¼ˆæ¯æ¬¡Minor GCä¼šæ¸…ç†å¹´è½»ä»£çš„å†…å­˜ï¼‰ã€‚</span></li><li><span>2ã€ä¼šè§¦å‘STW</span></li></ul></li></ul></li><li><p><span>Major GC</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>å‘ç”Ÿåœ¨è€å¹´ä»£çš„GCï¼Œå¯¹è±¡ä»è€å¹´ä»£æ¶ˆå¤±</span></li></ul></li><li><p><span>è§¦å‘æœºåˆ¶</span></p><ul><li><span>è€å¹´ä»£ç©ºé—´ä¸è¶³æ—¶ï¼Œä¼šå…ˆå°è¯•è§¦å‘MinorGcã€‚å¦‚æœä¹‹åç©ºé—´è¿˜ä¸è¶³ï¼Œåˆ™è§¦å‘Major GCã€‚</span></li><li><span>å‘ç”Ÿä¸€æ¬¡Major GCï¼Œè‡³å°‘æœ‰ä¸€æ¬¡YGCï¼ŒMajorGCé€Ÿåº¦æ¯”YGCæ…¢å¾ˆå¤š</span></li><li><span>å¦‚æœMajor GCåï¼Œå†…å­˜è¿˜ä¸è¶³ï¼Œå°±æŠ¥OOMäº†</span></li></ul></li></ul></li><li><p><span>Full GC</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>æ”¶é›†æ•´ä¸ªjavaå †å’Œæ–¹æ³•åŒºçš„åƒåœ¾æ”¶é›†ã€‚</span></li></ul></li><li><p><span>è§¦å‘æœºåˆ¶</span></p><ul><li><span>1ã€è°ƒç”¨System.gcï¼ˆï¼‰æ—¶ï¼Œç³»ç»Ÿå»ºè®®æ‰§è¡ŒFu11GCï¼Œä½†æ˜¯ä¸å¿…ç„¶æ‰§è¡Œ</span></li><li><span>2ã€è€å¹´ä»£ç©ºé—´ä¸è¶³</span></li><li><span>3ã€æ–¹æ³•åŒºç©ºé—´ä¸è¶³</span></li><li><span>4ã€é€šè¿‡Minor GCåè¿›å…¥è€å¹´ä»£çš„å¹³å‡å¤§å°å¤§äºè€å¹´ä»£çš„å¯ç”¨å†…å­˜</span></li><li><span>5ã€EdenåŒºï¼ŒfromåŒºå‘toåŒºå¤åˆ¶æ—¶ï¼Œå¯¹è±¡å¤§å°å¤§äºtoåŒºçš„å¯ç”¨å†…å­˜ï¼ŒæŠŠå¯¹è±¡è½¬å­˜åˆ°è€å¹´ä»£æ—¶è€å¹´ä»£çš„å¯ç”¨å†…å­˜å¤§å°å°äºè¯¥å¯¹è±¡å¤§å°ã€‚</span></li></ul></li></ul></li></ul></li><li><p><span>å†…å­˜åˆ†é…ç­–ç•¥(å¯¹è±¡æ™‹å‡è§„åˆ™)</span></p><ul><li><span>å¦‚æœå¯¹è±¡åœ¨Edenå‡ºç”Ÿå¹¶ç»è¿‡ç¬¬ä¸€æ¬¡Minor GCåä»ç„¶å­˜æ´»ï¼Œå¹¶ä¸”èƒ½è¢«Survivorå®¹çº³çš„è¯ï¼Œå°†è¢«ç§»åŠ¨åˆ°survivorç©ºé—´ä¸­ï¼Œå¹¶å°†å¯¹è±¡å¹´é¾„è®¾ä¸º1ã€‚å¯¹è±¡åœ¨survivoråŒºä¸­æ¯ç†¬è¿‡ä¸€æ¬¡MinorGCï¼Œå¹´é¾„å°±å¢åŠ 1å²ã€‚å½“å®ƒçš„å¹´é¾„å¢åŠ åˆ°ä¸€å®šç¨‹åº¦ï¼ˆé»˜è®¤ä¸º15å²ï¼Œå…¶å®æ¯ä¸ªJVMã€æ¯ä¸ªGCéƒ½æœ‰æ‰€ä¸åŒï¼‰æ—¶ï¼Œå°±ä¼šè¢«æ™‹å‡åˆ°è€å¹´ä»£ã€‚</span></li><li><span>å¯¹è±¡æ™‹å‡è€å¹´ä»£çš„å¹´é¾„é˜€å€¼ï¼Œå¯ä»¥é€šè¿‡é€‰é¡¹-xx:MaxTenuringThresholdæ¥è®¾ç½®</span></li></ul></li><li><p><span>TLAB(Thread Local Allocation Buffer)</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>æ¯ä¸ªçº¿ç¨‹åˆ†é…çš„ä¸€ä¸ªç§æœ‰ç¼“å­˜åŒºåŸŸï¼Œå®ƒåŒ…å«åœ¨Edenç©ºé—´å†…</span></li></ul></li><li><p><span>æœ¬è´¨</span></p><ul><li><span>TLABçš„æœ¬è´¨å…¶å®æ˜¯ä¸‰ä¸ªæŒ‡é’ˆç®¡ç†çš„åŒºåŸŸï¼šstartï¼Œtop å’Œ endï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½ä¼šä»Edenåˆ†é…ä¸€å—ç©ºé—´ï¼Œ</span></li><li><span>ä¾‹å¦‚è¯´100KBï¼Œä½œä¸ºè‡ªå·±çš„TLABï¼Œå…¶ä¸­ start å’Œ end æ˜¯å ä½ç”¨çš„ï¼Œæ ‡è¯†å‡º eden é‡Œè¢«è¿™ä¸ª TLAB æ‰€ç®¡ç†çš„åŒºåŸŸï¼Œå¡ä½edené‡Œçš„ä¸€å—ç©ºé—´ä¸è®©å…¶å®ƒçº¿ç¨‹æ¥è¿™é‡Œåˆ†é…ã€‚</span></li><li><span>æŒ‡é’ˆç¢°æ’</span></li></ul></li></ul></li><li><p><span>é€ƒé€¸åˆ†æ</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>åˆ†æå‡ºä¸€ä¸ªæ–°çš„å¯¹è±¡çš„å¼•ç”¨çš„ä½¿ç”¨èŒƒå›´ä»è€Œå†³å®šæ˜¯å¦è¦å°†è¿™ä¸ªå¯¹è±¡åˆ†é…åˆ°å †ä¸Šã€‚</span></li><li><span>å½“ä¸€ä¸ªå¯¹è±¡åœ¨æ–¹æ³•ä¸­è¢«å®šä¹‰åï¼Œå¯¹è±¡åªåœ¨æ–¹æ³•å†…éƒ¨ä½¿ç”¨ï¼Œåˆ™è®¤ä¸ºæ²¡æœ‰å‘ç”Ÿé€ƒé€¸</span></li><li><span>å½“ä¸€ä¸ªå¯¹è±¡åœ¨æ–¹æ³•ä¸­è¢«å®šä¹‰åï¼Œå®ƒè¢«å¤–éƒ¨æ–¹æ³•æ‰€å¼•ç”¨ï¼Œåˆ™è®¤ä¸ºå‘ç”Ÿé€ƒé€¸ã€‚ä¾‹å¦‚ä½œä¸ºè°ƒç”¨å‚æ•°ä¼ é€’åˆ°å…¶ä»–åœ°æ–¹ä¸­ã€‚</span></li></ul></li><li><p><span>ä¼˜åŒ–</span></p><ul><li><p><span>æ ˆä¸Šåˆ†é…</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>JITç¼–è¯‘å™¨åœ¨ç¼–è¯‘æœŸé—´æ ¹æ®é€ƒé€¸åˆ†æçš„ç»“æœï¼Œå‘ç°å¦‚æœä¸€ä¸ªå¯¹è±¡å¹¶æ²¡æœ‰é€ƒé€¸å‡ºæ–¹æ³•çš„è¯ï¼Œå°±å¯èƒ½è¢«ä¼˜åŒ–æˆæ ˆä¸Šåˆ†é…ã€‚åˆ†é…å®Œæˆåï¼Œç»§ç»­åœ¨è°ƒç”¨æ ˆå†…æ‰§è¡Œï¼Œæœ€åçº¿ç¨‹ç»“æŸï¼Œæ ˆç©ºé—´è¢«å›æ”¶ï¼Œå±€éƒ¨å˜é‡å¯¹è±¡ä¹Ÿè¢«å›æ”¶ã€‚è¿™æ ·å°±æ— é¡»è¿›è¡Œåƒåœ¾å›æ”¶äº†ã€‚</span></li></ul></li><li><p><span>åœºæ™¯</span></p><ul><li><span>æˆå‘˜å˜é‡èµ‹å€¼ã€æ–¹æ³•è¿”å›å€¼ã€å®ä¾‹å¼•ç”¨ä¼ é€’</span></li></ul></li></ul></li><li><p><span>åŒæ­¥çœç•¥(é”æ¶ˆé™¤)</span></p><ul><li><span>åŠ¨æ€ç¼–è¯‘åŒæ­¥å—çš„æ—¶å€™ï¼ŒJITç¼–è¯‘å™¨å¯ä»¥å€ŸåŠ©é€ƒé€¸åˆ†ææ¥åˆ¤æ–­åŒæ­¥å—æ‰€ä½¿ç”¨çš„é”å¯¹è±¡æ˜¯å¦åªèƒ½å¤Ÿè¢«ä¸€ä¸ªçº¿ç¨‹è®¿é—®è€Œæ²¡æœ‰è¢«å‘å¸ƒåˆ°å…¶ä»–çº¿ç¨‹ã€‚å¦‚æœæ²¡æœ‰ï¼Œé‚£ä¹ˆJITç¼–è¯‘å™¨åœ¨ç¼–è¯‘è¿™ä¸ªåŒæ­¥å—çš„æ—¶å€™å°±ä¼šå–æ¶ˆå¯¹è¿™éƒ¨åˆ†ä»£ç çš„åŒæ­¥ã€‚</span></li><li><span>åŒæ­¥æ˜¯ä¿è¯çº¿ç¨‹å®‰å…¨æ‰§è¡Œçš„ä¸€ç§ç­–ç•¥</span></li></ul></li><li><p><span>æ ‡é‡æ›¿æ¢(åˆ†ç¦»å¯¹è±¡)</span></p><ul><li><p><span>æ ‡é‡</span></p><ul><li><span>ä¸€ä¸ªæ— æ³•å†åˆ†è§£æˆæ›´å°çš„æ•°æ®çš„æ•°æ®ã€‚Javaä¸­çš„åŸå§‹æ•°æ®ç±»å‹å°±æ˜¯æ ‡é‡ã€‚</span></li></ul></li><li><p><span>èšåˆé‡</span></p><ul><li><span>å¯ä»¥åˆ†è§£çš„æ•°æ®ï¼ŒJavaä¸­çš„å¯¹è±¡å°±æ˜¯èšåˆé‡</span></li></ul></li><li><p><span>åœ¨JITé˜¶æ®µï¼Œå¦‚æœç»è¿‡é€ƒé€¸åˆ†æï¼Œå‘ç°ä¸€ä¸ªå¯¹è±¡ä¸ä¼šè¢«å¤–ç•Œè®¿é—®çš„è¯ï¼Œé‚£ä¹ˆç»è¿‡JITä¼˜åŒ–ï¼Œå°±ä¼šæŠŠè¿™ä¸ªå¯¹è±¡æ‹†è§£æˆè‹¥å¹²ä¸ªå…¶ä¸­åŒ…å«çš„è‹¥å¹²ä¸ªæˆå‘˜å˜é‡æ¥ä»£æ›¿ã€‚è¿™ä¸ªè¿‡ç¨‹å°±æ˜¯æ ‡é‡æ›¿æ¢ã€‚</span></p></li></ul></li></ul></li></ul></li></ul><h3 id='æ–¹æ³•åŒºå…ƒç©ºé—´'><span>æ–¹æ³•åŒº(å…ƒç©ºé—´)</span></h3><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>çœ‹ä½œæ˜¯ä¸€å—ç‹¬ç«‹äºJavaå †çš„å†…å­˜ç©ºé—´</span></li><li><span>å¤§å°å†³å®šäº†ç³»ç»Ÿå¯ä»¥ä¿å­˜å¤šå°‘ä¸ªç±»</span></li><li><span>æ–¹æ³•åŒºä¸»è¦å­˜æ”¾çš„æ˜¯ Classï¼Œè€Œå †ä¸­ä¸»è¦å­˜æ”¾çš„æ˜¯ å®ä¾‹åŒ–çš„å¯¹è±¡</span></li><li><span>JVMå¯åŠ¨æ—¶åˆ›å»ºï¼Œå†…å­˜ç‰©ç†ä¸è¿ç»­ï¼Œé€»è¾‘è¿ç»­</span></li></ul></li><li><p><span>å­˜å‚¨å†…å®¹</span></p><ul><li><p><span>ç±»å‹ä¿¡æ¯</span></p><ul><li><span>å®Œæ•´æœ‰æ•ˆåç§°ï¼ˆå…¨å=åŒ…å.ç±»åï¼‰</span></li><li><span>ç›´æ¥çˆ¶ç±»çš„å®Œæ•´æœ‰æ•ˆå</span></li><li><span>ä¿®é¥°ç¬¦ï¼ˆpublicï¼Œabstractï¼Œfinalçš„æŸä¸ªå­é›†ï¼‰</span></li><li><span>ç›´æ¥æ¥å£çš„ä¸€ä¸ªæœ‰åºåˆ—è¡¨</span></li></ul></li><li><p><span>åŸŸ(Filed)ä¿¡æ¯</span></p><ul><li><span>åŸŸåç§°ã€åŸŸç±»å‹ã€åŸŸä¿®é¥°ç¬¦ï¼ˆpublicï¼Œprivateï¼Œprotectedï¼Œstaticï¼Œfinalï¼Œvolatileï¼Œtransientçš„æŸä¸ªå­é›†ï¼‰</span></li></ul></li><li><p><span>æ–¹æ³•ï¼ˆMethodï¼‰ä¿¡æ¯</span></p><ul><li><span>æ‰€æœ‰æ–¹æ³•çš„æ–¹æ³•åç§°ã€è¿”å›ç±»å‹ã€å‚æ•°çš„æ•°é‡å’Œç±»å‹ã€ä¿®é¥°ç¬¦ã€å­—èŠ‚ç ï¼ˆbytecodesï¼‰ã€æ“ä½œæ•°æ ˆã€å±€éƒ¨å˜é‡è¡¨åŠå¤§å°ï¼ˆabstractå’Œnativeæ–¹æ³•é™¤å¤–ï¼‰ã€å¼‚å¸¸è¡¨ï¼ˆabstractå’Œnativeæ–¹æ³•é™¤å¤–ï¼‰</span></li></ul></li><li><p><span>é™æ€å˜é‡</span></p></li><li><p><span>å…¨å±€å˜é‡</span></p><ul><li><span>static final è¿›è¡Œä¿®é¥°</span></li></ul></li><li><p><span>JITä»£ç ç¼“å­˜</span></p></li><li><p><span>è¿è¡Œæ—¶å¸¸é‡æ± </span></p></li></ul></li><li><p><span>å¸¸é‡æ± </span></p><ul><li><span>Classæ–‡ä»¶çš„ä¸€éƒ¨åˆ†ï¼ŒåŒ…æ‹¬å„ç§å­—é¢é‡(æ•°å€¼é‡å’Œå­—ç¬¦ä¸²å€¼)å’Œå¯¹ç±»å‹ã€åŸŸå’Œæ–¹æ³•çš„ç¬¦å·å¼•ç”¨ã€‚</span></li><li><span>å¸¸é‡æ± ã€å¯ä»¥çœ‹åšæ˜¯ä¸€å¼ è¡¨ï¼Œè™šæ‹ŸæœºæŒ‡ä»¤æ ¹æ®è¿™å¼ å¸¸é‡è¡¨æ‰¾åˆ°è¦æ‰§è¡Œçš„ç±»åã€æ–¹æ³•åã€å‚æ•°ç±»å‹ã€å­—é¢é‡ç­‰ç±»å‹ã€‚</span></li></ul></li><li><p><span>è¿è¡Œæ—¶å¸¸é‡æ± </span></p><ul><li><span>æ–¹æ³•åŒºçš„ä¸€éƒ¨åˆ†</span></li><li><span>åŒ…å«å¤šç§ä¸åŒçš„å¸¸é‡ï¼ŒåŒ…æ‹¬ç¼–è¯‘æœŸå°±å·²ç»æ˜ç¡®çš„æ•°å€¼å­—é¢é‡ï¼Œä¹ŸåŒ…æ‹¬åˆ°è¿è¡ŒæœŸè§£æåæ‰èƒ½å¤Ÿè·å¾—çš„æ–¹æ³•æˆ–è€…å­—æ®µå¼•ç”¨ã€‚æ­¤æ—¶ä¸å†æ˜¯å¸¸é‡æ± ä¸­çš„ç¬¦å·åœ°å€äº†ï¼Œè¿™é‡Œæ¢ä¸ºçœŸå®åœ°å€</span></li></ul></li><li><p><span>æ–¹æ³•åŒºçš„åƒåœ¾æ”¶é›†ä¸»è¦å›æ”¶ä¸¤éƒ¨åˆ†å†…å®¹ï¼šå¸¸é‡æ± ä¸­åºŸå¼ƒçš„å¸¸é‡å’Œä¸å†ä½¿ç”¨çš„ç±»å‹</span></p></li></ul><h3 id='å¯¹è±¡çš„å®ä¾‹åŒ–'><span>å¯¹è±¡çš„å®ä¾‹åŒ–</span></h3><ul><li><p><span>åˆ›å»ºå¯¹è±¡çš„æ–¹å¼</span></p><ul><li><span>1ã€newï¼šæœ€å¸¸è§çš„æ–¹å¼ã€å•ä¾‹ç±»ä¸­è°ƒç”¨getInstanceçš„é™æ€ç±»æ–¹æ³•ï¼ŒXXXFactoryçš„é™æ€æ–¹æ³•</span></li><li><span>2ã€Classçš„newInstanceæ–¹æ³•ï¼šåœ¨JDK9é‡Œé¢è¢«æ ‡è®°ä¸ºè¿‡æ—¶çš„æ–¹æ³•ï¼Œå› ä¸ºåªèƒ½è°ƒç”¨ç©ºå‚æ„é€ å™¨</span></li><li><span>3ã€Constructorçš„newInstance(XXX)ï¼šåå°„çš„æ–¹å¼ï¼Œå¯ä»¥è°ƒç”¨ç©ºå‚çš„ï¼Œæˆ–è€…å¸¦å‚çš„æ„é€ å™¨</span></li><li><span>4ã€ä½¿ç”¨clone()ï¼šä¸è°ƒç”¨ä»»ä½•çš„æ„é€ å™¨ï¼Œè¦æ±‚å½“å‰çš„ç±»éœ€è¦å®ç°Cloneableæ¥å£ä¸­çš„cloneæ¥å£</span></li><li><span>5ã€ä½¿ç”¨åºåˆ—åŒ–ï¼šåºåˆ—åŒ–ä¸€èˆ¬ç”¨äºSocketçš„ç½‘ç»œä¼ è¾“</span></li><li><span>6ã€ç¬¬ä¸‰æ–¹åº“ Objenesis</span></li></ul></li><li><p><span>åˆ›å»ºå¯¹è±¡çš„æ­¥éª¤</span></p><ul><li><p><span>1ã€åˆ¤æ–­å¯¹è±¡å¯¹åº”çš„ç±»æ˜¯å¦åŠ è½½ã€é“¾æ¥ã€åˆå§‹åŒ–</span></p><ul><li><span>é¦–å…ˆå»æ£€æŸ¥è¿™ä¸ªæŒ‡ä»¤çš„å‚æ•°èƒ½å¦åœ¨Metaspaceçš„å¸¸é‡æ± ä¸­å®šä½åˆ°ä¸€ä¸ªç±»çš„ç¬¦å·å¼•ç”¨ï¼Œå¹¶ä¸”æ£€æŸ¥è¿™ä¸ªç¬¦å·å¼•ç”¨ä»£è¡¨çš„ç±»æ˜¯å¦å·²ç»è¢«åŠ è½½ï¼Œè§£æå’Œåˆå§‹åŒ–ã€‚</span></li><li><span>å¦‚æœæ²¡æœ‰ï¼Œé‚£ä¹ˆåœ¨åŒäº²å§”æ´¾æ¨¡å¼ä¸‹ï¼Œä½¿ç”¨å½“å‰ç±»åŠ è½½å™¨åŠ è½½å¯¹åº”.classæ–‡ä»¶ï¼Œæ‰¾åˆ°è¿›è¡Œç±»åŠ è½½ï¼Œç”ŸæˆClasså¯¹è±¡ï¼›æ²¡æœ‰æ‰¾æŠ›å‡ºClassNoyFoundExceptionå¼‚å¸¸ã€‚</span></li></ul></li><li><p><span>2ã€ä¸ºå¯¹è±¡åˆ†é…å†…å­˜</span></p><ul><li><p><span>é¦–å…ˆè®¡ç®—å¯¹è±¡å ç”¨ç©ºé—´çš„å¤§å°ï¼Œæ¥ç€åœ¨å †ä¸­åˆ’åˆ†ä¸€å—å†…å­˜ç»™æ–°å¯¹è±¡ã€‚å¦‚æœå®ä¾‹æˆå‘˜å˜é‡æ˜¯å¼•ç”¨å˜é‡ï¼Œä»…åˆ†é…å¼•ç”¨å˜é‡ç©ºé—´(4KB)ã€‚</span></p></li><li><p><span>å†…å­˜è§„æ•´</span></p><ul><li><span>æŒ‡é’ˆç¢°æ’</span></li></ul></li><li><p><span>å†…å­˜ä¸è§„æ•´</span></p><ul><li><span>è™šæ‹Ÿè¡¨éœ€è¦ç»´æŠ¤ä¸€ä¸ªåˆ—è¡¨ï¼Œç©ºé—²åˆ—è¡¨åˆ†é…</span></li></ul></li></ul></li><li><p><span>3ã€å¤„ç†å¹¶å‘é—®é¢˜</span></p><ul><li><span>é‡‡ç”¨CASé…ä¸Šå¤±è´¥é‡è¯•ä¿è¯æ›´æ–°çš„åŸå­æ€§</span></li><li><span>åœ¨EdenåŒºç»™æ¯ä¸ªçº¿ç¨‹åˆ†é…ä¸€å—åŒºåŸŸ</span></li></ul></li><li><p><span>4ã€åˆå§‹åŒ–åˆ†é…åˆ°çš„å†…å­˜</span></p><ul><li><span>å±æ€§çš„é»˜è®¤åˆå§‹åŒ–</span></li><li><span>æ˜¾ç¤ºåˆå§‹åŒ–</span></li><li><span>ä»£ç å—ä¸­çš„åˆå§‹åŒ–</span></li><li><span>æ„é€ å™¨åˆå§‹åŒ–</span></li><li><span>æ‰€æœ‰å±æ€§è®¾ç½®é»˜è®¤å€¼ï¼Œä¿è¯å¯¹è±¡å®ä¾‹å­—æ®µåœ¨ä¸èµ‹å€¼å¯ä»¥ç›´æ¥ä½¿ç”¨</span></li></ul></li><li><p><span>5ã€è®¾ç½®å¯¹è±¡çš„å¯¹è±¡å¤´</span></p><ul><li><span>å°†å¯¹è±¡çš„æ‰€å±ç±»ï¼ˆå³ç±»çš„å…ƒæ•°æ®ä¿¡æ¯ï¼‰ã€å¯¹è±¡çš„HashCodeå’Œå¯¹è±¡çš„GCä¿¡æ¯(gcåˆ†ä»£å¹´é¾„)ã€é”ä¿¡æ¯(åå‘é”)ç­‰æ•°æ®å­˜å‚¨åœ¨å¯¹è±¡çš„å¯¹è±¡å¤´ä¸­ã€‚</span></li></ul></li><li><p><span>6ã€æ‰§è¡Œinitæ–¹æ³•è¿›è¡Œåˆå§‹åŒ–</span></p><ul><li><span>åˆå§‹åŒ–æˆå‘˜å˜é‡ï¼Œæ‰§è¡Œå®ä¾‹åŒ–ä»£ç å—ï¼Œè°ƒç”¨ç±»çš„æ„é€ æ–¹æ³•ï¼Œå¹¶æŠŠå †å†…å¯¹è±¡çš„é¦–åœ°å€èµ‹å€¼ç»™å¼•ç”¨å˜é‡</span></li></ul></li></ul></li><li><p><span>å¯¹è±¡çš„å®ä¾‹åŒ–è¿‡ç¨‹</span></p><ul><li><span>1ã€åŠ è½½ç±»å…ƒä¿¡æ¯</span></li><li><span>2ã€ä¸ºå¯¹è±¡åˆ†é…å†…å­˜</span></li><li><span>3ã€å¤„ç†å¹¶å‘é—®é¢˜</span></li><li><span>4ã€å±æ€§çš„é»˜è®¤åˆå§‹åŒ–ï¼ˆé›¶å€¼åˆå§‹åŒ–ï¼‰</span></li><li><span>5ã€è®¾ç½®å¯¹è±¡å¤´ä¿¡æ¯</span></li><li><span>6ã€å±æ€§çš„æ˜¾ç¤ºåˆå§‹åŒ–ã€ä»£ç å—ä¸­åˆå§‹åŒ–ã€æ„é€ å™¨ä¸­åˆå§‹åŒ–</span></li></ul></li><li><p><span>å¯¹è±¡çš„å†…å­˜å¸ƒå±€</span></p><ul><li><p><span>å¯¹è±¡å¤´</span></p><ul><li><p><span>è¿è¡Œæ—¶å…ƒæ•°æ®(Mark Word)</span></p><ul><li><p><span>å“ˆå¸Œå€¼ï¼ˆHashCodeï¼‰</span></p></li><li><p><span>GCåˆ†ä»£å¹´é¾„</span></p></li><li><p><span>é”çŠ¶æ€æ ‡å¿—</span></p><ul><li><span>è½»é‡çº§é”å®šã€é‡é‡çº§é”å®šã€GCæ ‡è®°ã€å¯åå‘</span></li></ul></li><li><p><span>çº¿ç¨‹æŒæœ‰çš„é”</span></p></li><li><p><span>åå‘çº¿ç¨‹ID</span></p></li><li><p><span>åå‘æ—¶é—´æˆ³</span></p></li></ul></li><li><p><span>ç±»å‹æŒ‡é’ˆ</span></p><ul><li><span>æŒ‡å‘ç±»å…ƒæ•°æ®InstanceClassï¼Œç¡®å®šè¯¥å¯¹è±¡æ‰€å±çš„ç±»å‹ã€‚æŒ‡å‘çš„å…¶å®æ˜¯æ–¹æ³•åŒºä¸­å­˜æ”¾çš„ç±»å…ƒä¿¡æ¯</span></li></ul></li></ul></li><li><p><span>å®ä¾‹æ•°æ®</span></p><ul><li><span>å¯¹è±¡çœŸæ­£å­˜å‚¨çš„æœ‰æ•ˆä¿¡æ¯ï¼ŒåŒ…æ‹¬ç¨‹åºä»£ç ä¸­å®šä¹‰çš„å„ç§ç±»å‹çš„å­—æ®µï¼ˆåŒ…æ‹¬ä»çˆ¶ç±»ç»§æ‰¿çš„å’Œæœ¬èº«çš„)</span></li></ul></li><li><p><span>å¯¹é½å¡«å……</span></p><ul><li><span>éå¿…é¡»ï¼Œå ä½ç¬¦ä½œç”¨</span></li></ul></li></ul></li><li><p><span>å¯¹è±¡çš„è®¿é—®å®šä½</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>JVMæ˜¯å¦‚ä½•é€šè¿‡æ ˆå¸§ä¸­çš„å¯¹è±¡å¼•ç”¨è®¿é—®åˆ°å…¶å†…éƒ¨çš„å¯¹è±¡å®ä¾‹å‘¢ï¼Ÿ</span></li></ul></li><li><p><span>æ–¹å¼</span></p><ul><li><p><span>å¥æŸ„è®¿é—®</span></p><ul><li><span>æ ˆçš„å±€éƒ¨å˜é‡è¡¨ä¸­ï¼Œè®°å½•çš„å¯¹è±¡çš„å¼•ç”¨ï¼Œç„¶ååœ¨å †ç©ºé—´ä¸­å¼€è¾Ÿäº†ä¸€å—ç©ºé—´ï¼Œä¹Ÿå°±æ˜¯å¥æŸ„æ± ï¼Œé€šè¿‡å¥æŸ„æ± çš„æŒ‡é’ˆè®¿é—®å¯¹è±¡ç±»å‹æ•°æ®ã€å®ä¾‹æ•°æ®ã€‚</span></li></ul></li><li><p><span>ç›´æ¥æŒ‡é’ˆ</span></p><ul><li><span>ç›´æ¥æŒ‡é’ˆæ˜¯å±€éƒ¨å˜é‡è¡¨ä¸­çš„å¼•ç”¨ï¼Œç›´æ¥æŒ‡å‘å †ä¸­çš„å®ä¾‹ï¼Œåœ¨å¯¹è±¡å®ä¾‹ä¸­æœ‰ç±»å‹æŒ‡é’ˆï¼ŒæŒ‡å‘çš„æ˜¯æ–¹æ³•åŒºä¸­çš„å¯¹è±¡ç±»å‹æ•°æ®</span></li></ul></li></ul></li></ul></li><li><p><span>æŒ‡é’ˆç¢°æ’</span></p><ul><li><span>æ‰€æœ‰ç”¨è¿‡çš„å†…å­˜åœ¨ä¸€è¾¹ï¼Œç©ºé—²çš„å†…å­˜æ”¾å¦å¤–ä¸€è¾¹ï¼Œä¸­é—´æ”¾ç€ä¸€ä¸ªæŒ‡é’ˆä½œä¸ºåˆ†ç•Œç‚¹çš„æŒ‡ç¤ºå™¨ï¼Œåˆ†é…å†…å­˜å°±ä»…ä»…æ˜¯æŠŠæŒ‡é’ˆæŒ‡å‘ç©ºé—²é‚£è¾¹æŒªåŠ¨ä¸€æ®µä¸å¯¹è±¡å¤§å°ç›¸ç­‰çš„è·ç¦»ã€‚</span></li><li><span>ä½¿ç”¨å‹ç¼©ç®—æ³•çš„åƒåœ¾å›æ”¶å™¨ä½¿ç”¨</span></li></ul></li><li><p><span>ç©ºé—²åˆ†åŒºåˆ—è¡¨</span></p><ul><li><span>ä¸€ä¸ªåˆ—è¡¨ï¼Œè®°å½•å“ªäº›å†…å­˜å—æ˜¯å¯ç”¨çš„ï¼Œå†åˆ†é…çš„æ—¶å€™ä»åˆ—è¡¨ä¸­æ‰¾åˆ°ä¸€å—è¶³å¤Ÿå¤§çš„ç©ºé—´åˆ’åˆ†ç»™å¯¹è±¡å®ä¾‹ï¼Œå¹¶æ›´æ–°åˆ—è¡¨ä¸Šçš„å†…å®¹ã€‚</span></li></ul></li></ul><h3 id='æ‰§è¡Œå¼•æ“'><span>æ‰§è¡Œå¼•æ“</span></h3><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>å°†å­—èŠ‚ç æŒ‡ä»¤è§£é‡Š/ç¼–è¯‘ä¸ºå¯¹åº”å¹³å°ä¸Šçš„æœ¬åœ°æœºå™¨æŒ‡ä»¤</span></li><li><span>åŒ…æ‹¬ è§£é‡Šå™¨ã€åŠæ—¶ç¼–è¯‘å™¨ã€åƒåœ¾å›æ”¶å™¨</span></li><li><span>å……å½“äº†å°†é«˜çº§è¯­è¨€ç¿»è¯‘ä¸ºæœºå™¨è¯­è¨€çš„è¯‘è€…</span></li><li><span>æ‰€æœ‰çš„Javaè™šæ‹Ÿæœºçš„æ‰§è¡Œå¼•æ“è¾“å…¥ï¼Œè¾“å‡ºéƒ½æ˜¯ä¸€è‡´çš„ï¼šè¾“å…¥çš„æ˜¯å­—èŠ‚ç äºŒè¿›åˆ¶æµï¼Œå¤„ç†è¿‡ç¨‹æ˜¯å­—èŠ‚ç è§£ææ‰§è¡Œçš„ç­‰æ•ˆè¿‡ç¨‹ï¼Œè¾“å‡ºçš„æ˜¯æ‰§è¡Œè¿‡ç¨‹ã€‚</span></li></ul></li><li><p><span>å·¥ä½œæµç¨‹</span></p><ul><li><span>æ‰§è¡Œå¼•æ“å–å‡ºPCå¯„å­˜å™¨ä¸­çš„æ‰§è¡Œçš„æŒ‡ä»¤åœ°å€ï¼Œæ‰§è¡Œå¯¹åº”çš„å­—èŠ‚ç </span></li><li><span>æ¯å½“æ‰§è¡Œå®Œä¸€é¡¹æŒ‡ä»¤æ“ä½œåï¼ŒPCå¯„å­˜å™¨å°±ä¼šæ›´æ–°ä¸‹ä¸€æ¡éœ€è¦è¢«æ‰§è¡Œçš„æŒ‡ä»¤åœ°å€ã€‚</span></li><li><span>æ–¹æ³•åœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œæ‰§è¡Œå¼•æ“æœ‰å¯èƒ½ä¼šé€šè¿‡å­˜å‚¨åœ¨å±€éƒ¨å˜é‡è¡¨ä¸­(æ ˆå¸§ä¸­æ“ä½œæ•°æ ˆ)çš„å¯¹è±¡å¼•ç”¨å‡†ç¡®å®šä½åˆ°å­˜å‚¨åœ¨Javaå †åŒºä¸­çš„å¯¹è±¡å®ä¾‹ä¿¡æ¯ï¼Œä»¥åŠé€šè¿‡å¯¹è±¡å¤´ä¸­çš„å…ƒæ•°æ®æŒ‡é’ˆå®šä½åˆ°ç›®æ ‡å¯¹è±¡çš„ç±»å‹ä¿¡æ¯ã€‚</span></li></ul></li><li><p><span>å­—èŠ‚ç </span></p><ul><li><span>å­—èŠ‚ç æ˜¯ä¸€ç§ä¸­é—´çŠ¶æ€ï¼ˆä¸­é—´ç ï¼‰çš„äºŒè¿›åˆ¶ä»£ç ï¼ˆæ–‡ä»¶ï¼‰ï¼Œå®ƒæ¯”æœºå™¨ç æ›´æŠ½è±¡ï¼Œéœ€è¦ç›´è¯‘å™¨è½¬è¯‘åæ‰èƒ½æˆä¸ºæœºå™¨ç </span></li><li><span>ä¸ºäº†å®ç°ç‰¹å®šè½¯ä»¶è¿è¡Œå’Œè½¯ä»¶ç¯å¢ƒã€ä¸ç¡¬ä»¶ç¯å¢ƒæ— å…³</span></li><li><span>é€šè¿‡ç¼–è¯‘å™¨å’Œè™šæ‹Ÿæœºå™¨ã€‚ç¼–è¯‘å™¨å°†æºç ç¼–è¯‘æˆå­—èŠ‚ç ï¼Œç‰¹å®šå¹³å°ä¸Šçš„è™šæ‹Ÿæœºå™¨å°†å­—èŠ‚ç è½¬è¯‘ä¸ºå¯ä»¥ç›´æ¥æ‰§è¡Œçš„æŒ‡ä»¤ã€‚</span></li></ul></li><li><p><span>è§£é‡Šå™¨</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>Javaè™šæ‹Ÿæœºå¯åŠ¨æ—¶ä¼šæ ¹æ®é¢„å®šä¹‰çš„è§„èŒƒå¯¹å­—èŠ‚ç é‡‡ç”¨é€è¡Œè§£é‡Šçš„æ–¹å¼æ‰§è¡Œï¼Œå°†æ¯æ¡å­—èŠ‚ç æ–‡ä»¶ä¸­çš„å†…å®¹â€œç¿»è¯‘â€ä¸ºå¯¹åº”å¹³å°çš„æœ¬åœ°æœºå™¨æŒ‡ä»¤æ‰§è¡Œã€‚</span></li><li><span>å½“ä¸€æ¡å­—èŠ‚ç æŒ‡ä»¤è¢«è§£é‡Šæ‰§è¡Œå®Œæˆåï¼Œæ¥ç€å†æ ¹æ®PCå¯„å­˜å™¨ä¸­è®°å½•çš„ä¸‹ä¸€æ¡éœ€è¦è¢«æ‰§è¡Œçš„å­—èŠ‚ç æŒ‡ä»¤æ‰§è¡Œè§£é‡Šæ“ä½œã€‚</span></li></ul></li><li><p><span>æ„æˆ</span></p><ul><li><span>Interpreteræ¨¡å—ï¼šå®ç°äº†è§£é‡Šå™¨çš„æ ¸å¿ƒåŠŸèƒ½</span></li><li><span>Codeæ¨¡å—ï¼šç”¨äºç®¡ç†HotSpot VMåœ¨è¿è¡Œæ—¶ç”Ÿæˆçš„æœ¬åœ°æœºå™¨æŒ‡ä»¤</span></li></ul></li><li><p><span>æµç¨‹</span></p><ul><li><span>å°†æºä»£ç ç¼–è¯‘æˆå­—èŠ‚ç æ–‡ä»¶ï¼Œç„¶ååœ¨è¿è¡Œæ—¶é€šè¿‡è§£é‡Šå™¨å°†å­—èŠ‚ç æ–‡ä»¶è½¬ä¸ºæœºå™¨ç æ‰§è¡Œ</span></li></ul></li></ul></li><li><p><span>JITç¼–è¯‘å™¨</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>JITï¼ˆJust In Time Compilerï¼‰ç¼–è¯‘å™¨ï¼šå°±æ˜¯è™šæ‹Ÿæœºå°†æºä»£ç ç›´æ¥ç¼–è¯‘æˆå’Œæœ¬åœ°æœºå™¨å¹³å°ç›¸å…³çš„æœºå™¨è¯­è¨€</span></li></ul></li><li><p><span>åˆ†ç±»</span></p><ul><li><p><span>-clientï¼šæŒ‡å®šJavaè™šæ‹Ÿæœºè¿è¡Œåœ¨Clientæ¨¡å¼ä¸‹ï¼Œå¹¶ä½¿ç”¨C1ç¼–è¯‘å™¨</span></p><ul><li><span>C1ç¼–è¯‘å™¨ä¼šå¯¹å­—èŠ‚ç è¿›è¡Œç®€å•å’Œå¯é çš„ä¼˜åŒ–ï¼Œè€—æ—¶çŸ­</span></li></ul></li><li><p><span>-serverï¼šæŒ‡å®šJavaè™šæ‹Ÿæœºè¿è¡Œåœ¨serveræ¨¡å¼ä¸‹ï¼Œå¹¶ä½¿ç”¨C2ç¼–è¯‘å™¨ã€‚</span></p><ul><li><span>C2è¿›è¡Œè€—æ—¶è¾ƒé•¿çš„ä¼˜åŒ–ï¼Œä»¥åŠæ¿€è¿›ä¼˜åŒ–</span></li></ul></li></ul></li><li><p><span>æµç¨‹</span></p><ul><li><span>ä½¿ç”¨å³æ—¶ç¼–è¯‘æŠ€æœ¯ï¼ˆJITï¼ŒJust In Timeï¼‰å°†å­—èŠ‚ç (æ–¹æ³•)ç¼–è¯‘æˆæœºå™¨ç åå†æ‰§è¡Œ</span></li></ul></li><li><p><span>C1 å’Œ C2ç¼–è¯‘å™¨ä¸åŒçš„ä¼˜åŒ–ç­–ç•¥</span></p><ul><li><p><span>c1</span></p><ul><li><span>æ–¹æ³•å†…è”ï¼šå°†å¼•ç”¨çš„å‡½æ•°ä»£ç ç¼–è¯‘åˆ°å¼•ç”¨ç‚¹å¤„ï¼Œè¿™æ ·å¯ä»¥å‡å°‘æ ˆå¸§çš„ç”Ÿæˆï¼Œå‡å°‘å‚æ•°ä¼ é€’ä»¥åŠè·³è½¬è¿‡ç¨‹</span></li><li><span>å»è™šæ‹ŸåŒ–ï¼šå¯¹å”¯ä¸€çš„å®ç°æ¨Šè¿›è¡Œå†…è”</span></li><li><span>å†—ä½™æ¶ˆé™¤ï¼šåœ¨è¿è¡ŒæœŸé—´æŠŠä¸€äº›ä¸ä¼šæ‰§è¡Œçš„ä»£ç æŠ˜å æ‰</span></li></ul></li><li><p><span>c2</span></p><ul><li><span>æ ‡é‡æ›¿æ¢ï¼šç”¨æ ‡é‡å€¼ä»£æ›¿èšåˆå¯¹è±¡çš„å±æ€§å€¼</span></li><li><span>æ ˆä¸Šåˆ†é…ï¼šå¯¹äºæœªé€ƒé€¸çš„å¯¹è±¡åˆ†é…å¯¹è±¡åœ¨æ ˆè€Œä¸æ˜¯å †</span></li><li><span>åŒæ­¥æ¶ˆé™¤ï¼šæ¸…é™¤åŒæ­¥æ“ä½œï¼Œé€šå¸¸æŒ‡synchronized</span></li></ul></li></ul></li></ul></li><li><p><span>HotSpot JVMæ‰§è¡Œæ–¹å¼</span></p><ul><li><span>1ã€å½“è™šæ‹Ÿæœºå¯åŠ¨çš„æ—¶å€™ï¼Œè§£é‡Šå™¨å¯ä»¥é¦–å…ˆå‘æŒ¥ä½œç”¨ï¼Œè€Œä¸å¿…ç­‰å¾…å³æ—¶ç¼–è¯‘å™¨å…¨éƒ¨ç¼–è¯‘å®Œæˆå†æ‰§è¡Œï¼Œè¿™æ ·å¯ä»¥çœå»è®¸å¤šä¸å¿…è¦çš„ç¼–è¯‘æ—¶é—´ã€‚</span></li><li><span>2ã€å¹¶ä¸”éšç€ç¨‹åºè¿è¡Œæ—¶é—´çš„æ¨ç§»ï¼Œå³æ—¶ç¼–è¯‘å™¨é€æ¸å‘æŒ¥ä½œç”¨ï¼Œæ ¹æ®çƒ­ç‚¹æ¢æµ‹åŠŸèƒ½ï¼Œå°†æœ‰ä»·å€¼çš„å­—èŠ‚ç ç¼–è¯‘ä¸ºæœ¬åœ°æœºå™¨æŒ‡ä»¤ï¼Œä»¥æ¢å–æ›´é«˜çš„ç¨‹åºæ‰§è¡Œæ•ˆç‡ã€‚</span></li></ul></li><li><p><span>çƒ­ç‚¹æ¢æµ‹æŠ€æœ¯</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>ä¸€ä¸ªè¢«å¤šæ¬¡è°ƒç”¨çš„æ–¹æ³•ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªæ–¹æ³•ä½“å†…éƒ¨å¾ªç¯æ¬¡æ•°è¾ƒå¤šçš„å¾ªç¯ä½“éƒ½å¯ä»¥è¢«ç§°ä¹‹ä¸ºâ€œçƒ­ç‚¹ä»£ç â€ï¼Œå› æ­¤éƒ½å¯ä»¥é€šè¿‡JITç¼–è¯‘å™¨ç¼–è¯‘ä¸ºæœ¬åœ°æœºå™¨æŒ‡ä»¤</span></li></ul></li><li><p><span>åŸºäºè®¡æ•°å™¨çš„çƒ­ç‚¹æ¢æµ‹</span></p><ul><li><p><span>æ–¹æ³•è°ƒç”¨è®¡æ•°å™¨</span></p><ul><li><p><span>ä½œç”¨</span></p><ul><li><span>ç»Ÿè®¡æ–¹æ³•çš„è°ƒç”¨æ¬¡æ•°</span></li></ul></li><li><p><span>å…·ä½“æµç¨‹</span></p><ul><li><span>1ã€å½“ä¸€ä¸ªæ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œä¼šå…ˆæ£€æŸ¥è¯¥æ–¹æ³•æ˜¯å¦å­˜åœ¨è¢«JITç¼–è¯‘è¿‡çš„ç‰ˆæœ¬ï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™ä¼˜å…ˆä½¿ç”¨ç¼–è¯‘åçš„æœ¬åœ°ä»£ç æ¥æ‰§è¡Œã€‚</span></li><li><span>2ã€å¦‚æœä¸å­˜åœ¨å·²è¢«ç¼–è¯‘è¿‡çš„ç‰ˆæœ¬ï¼Œåˆ™å°†æ­¤æ–¹æ³•çš„è°ƒç”¨è®¡æ•°å™¨å€¼åŠ 1ï¼Œç„¶ååˆ¤æ–­æ–¹æ³•è°ƒç”¨è®¡æ•°å™¨ä¸å›è¾¹è®¡æ•°å™¨å€¼ä¹‹å’Œæ˜¯å¦è¶…è¿‡æ–¹æ³•è°ƒç”¨è®¡æ•°å™¨çš„é˜€å€¼ã€‚</span></li><li><span>3ã€å¦‚æœå·²è¶…è¿‡é˜ˆå€¼ï¼Œé‚£ä¹ˆå°†ä¼šå‘å³æ—¶ç¼–è¯‘å™¨æäº¤ä¸€ä¸ªè¯¥æ–¹æ³•çš„ä»£ç ç¼–è¯‘è¯·æ±‚ã€‚</span></li></ul></li></ul></li><li><p><span>å›è¾¹è®¡æ•°å™¨</span></p><ul><li><p><span>ä½œç”¨</span></p><ul><li><span>ç»Ÿè®¡å¾ªç¯ä½“æ‰§è¡Œçš„å¾ªç¯æ¬¡æ•°</span></li><li><span>ç›®çš„å°±æ˜¯ä¸ºäº†è§¦å‘OSRç¼–è¯‘</span></li></ul></li><li><p><span>å…·ä½“æµç¨‹</span></p><ul><li><span>1ã€é‡åˆ°å›è¾¹æŒ‡ä»¤æ—¶ï¼Œæ£€æŸ¥è¯¥æŒ‡ä»¤æ˜¯å¦å­˜åœ¨è¢«JITç¼–è¯‘è¿‡çš„ç‰ˆæœ¬ï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™ä¼˜å…ˆä½¿ç”¨ç¼–è¯‘åçš„æœ¬åœ°ä»£ç æ¥æ‰§è¡Œ</span></li><li><span>2ã€å¦‚æœä¸å­˜åœ¨å·²è¢«ç¼–è¯‘è¿‡çš„ç‰ˆæœ¬ï¼Œåˆ™å°†æ­¤æ–¹æ³•çš„å›è¾¹è®¡æ•°å™¨è®¡æ•°å™¨å€¼åŠ 1ï¼Œç„¶ååˆ¤æ–­æ–¹æ³•è°ƒç”¨è®¡æ•°å™¨ä¸å›è¾¹è®¡æ•°å™¨å€¼ä¹‹å’Œæ˜¯å¦è¶…è¿‡æ–¹æ³•è°ƒç”¨è®¡æ•°å™¨çš„é˜€å€¼ã€‚</span></li><li><span>3ã€å¦‚æœå·²è¶…è¿‡é˜ˆå€¼ï¼Œé‚£ä¹ˆå°†ä¼šå‘å³æ—¶ç¼–è¯‘å™¨æäº¤ä¸€ä¸ªè¯¥æ–¹æ³•çš„ä»£ç ç¼–è¯‘è¯·æ±‚ã€‚è°ƒæ•´å›è¾¹è®¡æ•°å™¨çš„å€¼ï¼Œè¿›è¡Œè§£é‡Šæ‰§è¡Œï¼›åä¹‹ç›´æ¥è§£é‡Šæ‰§è¡Œã€‚</span></li></ul></li></ul></li></ul></li><li><p><span>çƒ­ç‚¹è¡°å‡</span></p><ul><li><span>å¦‚æœä¸åšä»»ä½•è®¾ç½®ï¼Œï¼Œæ–¹æ³•è°ƒç”¨è®¡æ•°å™¨ç»Ÿè®¡çš„å¹¶ä¸æ˜¯æ–¹æ³•è¢«è°ƒç”¨çš„ç»å¯¹æ¬¡æ•°ï¼Œè€Œæ˜¯ä¸€ä¸ªç›¸å¯¹çš„æ‰§è¡Œé¢‘ç‡ï¼Œå³ä¸€æ®µæ—¶é—´ä¹‹å†…æ–¹æ³•è¢«è°ƒç”¨çš„æ¬¡æ•°ã€‚</span></li><li><span>å½“è¶…è¿‡ä¸€å®šçš„æ—¶é—´é™åº¦ï¼Œå¦‚æœæ–¹æ³•çš„è°ƒç”¨æ¬¡æ•°ä»ç„¶ä¸è¶³ä»¥è®©å®ƒæäº¤ç»™å³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘ï¼Œé‚£è¿™ä¸ªæ–¹æ³•çš„è°ƒç”¨è®¡æ•°å™¨å°±ä¼šè¢«å‡å°‘ä¸€åŠã€‚</span></li><li><span>-XX:-UseCounterDecay æ¥å…³é—­çƒ­åº¦è¡°å‡</span></li><li><span>-XX:CounterHalfLifeTimeå‚æ•°è®¾ç½®åŠè¡°å‘¨æœŸçš„æ—¶é—´ï¼Œå•ä½æ˜¯ç§’</span></li></ul></li><li><p><span>å›è¾¹æŒ‡ä»¤</span></p><ul><li><span>å­—èŠ‚ç ä¸­é‡åˆ°æ§åˆ¶æµå‘åè·³è½¬çš„æŒ‡ä»¤</span></li></ul></li><li><p><span>OSR(æ ˆä¸Šæ›¿æ¢)</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>æ–¹æ³•ç¼–è¯‘ä¸ºæœ¬åœ°æœºå™¨æŒ‡ä»¤ï¼Œå­˜å‚¨åœ¨æ–¹æ³•åŒºä¸­</span></li><li><span>åœ¨ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­ï¼ŒåŠ¨æ€åœ°æ›¿æ¢æ‰ Java æ–¹æ³•æ ˆæ¡¢ï¼Œä»è€Œä½¿å¾—ç¨‹åºèƒ½å¤Ÿåœ¨éæ–¹æ³•å…¥å£å¤„è¿›è¡Œè§£é‡Šæ‰§è¡Œå’Œç¼–è¯‘åçš„ä»£ç ä¹‹é—´çš„åˆ‡æ¢ã€‚</span></li></ul></li></ul></li><li><p><span>æäº¤ä»£ç ç¼–è¯‘è¯·æ±‚ï¼Œç”Ÿæˆç¼–è¯‘åçš„æœºå™¨ç åå¹¶ä¸æ˜¯é©¬ä¸Šæ‰§è¡Œï¼Œè€Œæ˜¯ä¿å­˜åˆ°æ–¹æ³•åŒºï¼Œä¸‹æ¬¡å†æ‰§è¡Œ</span></p></li></ul></li><li><p><span>åˆ†å±‚ç¼–è¯‘ç­–ç•¥</span></p><ul><li><span>ç¨‹åºè§£é‡Šæ‰§è¡Œï¼ˆä¸å¼€å¯æ€§èƒ½ç›‘æ§ï¼‰å¯ä»¥è§¦å‘C1ç¼–è¯‘ï¼Œå°†å­—èŠ‚ç ç¼–è¯‘æˆæœºå™¨ç ï¼Œå¯ä»¥è¿›è¡Œç®€å•ä¼˜åŒ–ï¼Œä¹Ÿå¯ä»¥åŠ ä¸Šæ€§èƒ½ç›‘æ§ï¼ŒC2ç¼–è¯‘ä¼šæ ¹æ®æ€§èƒ½ç›‘æ§ä¿¡æ¯è¿›è¡Œæ¿€è¿›ä¼˜åŒ–ã€‚</span></li></ul></li></ul><h3 id='åƒåœ¾å›æ”¶'><span>åƒåœ¾å›æ”¶</span></h3><ul><li><p><span>æ¦‚è¿°</span></p><ul><li><p><span>åƒåœ¾</span></p><ul><li><span>åœ¨è¿è¡Œç¨‹åºä¸­æ²¡æœ‰ä»»ä½•æŒ‡é’ˆæŒ‡å‘çš„å¯¹è±¡</span></li></ul></li><li><p><span>Javaåƒåœ¾å›æ”¶æœºåˆ¶</span></p><ul><li><span>è‡ªåŠ¨å†…å­˜ç®¡ç†ï¼Œæ— éœ€å¼€å‘äººå‘˜æ‰‹åŠ¨å‚ä¸å†…å­˜çš„åˆ†é…ä¸å›æ”¶ï¼Œè¿™æ ·é™ä½å†…å­˜æ³„æ¼å’Œå†…å­˜æº¢å‡ºçš„é£é™©</span></li><li><span>æ²¡æœ‰åƒåœ¾å›æ”¶å™¨ï¼Œjavaä¹Ÿä¼šå’Œcppä¸€æ ·ï¼Œå„ç§æ‚¬å‚æŒ‡é’ˆï¼Œé‡æŒ‡é’ˆï¼Œæ³„éœ²é—®é¢˜</span></li><li><span>è‡ªåŠ¨å†…å­˜ç®¡ç†æœºåˆ¶ï¼Œå°†ç¨‹åºå‘˜ä»ç¹é‡çš„å†…å­˜ç®¡ç†ä¸­é‡Šæ”¾å‡ºæ¥ï¼Œå¯ä»¥æ›´ä¸“å¿ƒåœ°ä¸“æ³¨äºä¸šåŠ¡å¼€å‘</span></li></ul></li><li><p><span>æ—©æœŸgc</span></p><ul><li><span>ä½¿ç”¨newå…³é”®å­—è¿›è¡Œå†…å­˜ç”³è¯·ï¼Œå¹¶ä½¿ç”¨deleteå…³é”®å­—è¿›è¡Œå†…å­˜é‡Šæ”¾</span></li></ul></li></ul></li><li><p><span>åƒåœ¾å›æ”¶ç®—æ³•</span></p><ul><li><p><span>æ ‡è®°é˜¶æ®µ</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>éœ€è¦åŒºåˆ†å‡ºå†…å­˜ä¸­å“ªäº›æ˜¯å­˜æ´»å¯¹è±¡ï¼Œå“ªäº›æ˜¯å·²ç»æ­»äº¡çš„å¯¹è±¡ã€‚</span></li></ul></li><li><p><span>æ–¹å¼</span></p><ul><li><p><span>å¼•ç”¨è®¡æ•°ç®—æ³•</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>å¯¹æ¯ä¸ªå¯¹è±¡ä¿å­˜ä¸€ä¸ªæ•´å‹çš„å¼•ç”¨è®¡æ•°å™¨å±æ€§ã€‚ç”¨äºè®°å½•å¯¹è±¡è¢«å¼•ç”¨çš„æƒ…å†µ</span></li></ul></li><li><p><span>åŸç†</span></p><ul><li><span>å¯¹äºä¸€ä¸ªå¯¹è±¡Aï¼Œåªè¦æœ‰ä»»ä½•ä¸€ä¸ªå¯¹è±¡å¼•ç”¨äº†Aï¼Œåˆ™Açš„å¼•ç”¨è®¡æ•°å™¨å°±åŠ 1ï¼›å½“å¼•ç”¨å¤±æ•ˆæ—¶ï¼Œå¼•ç”¨è®¡æ•°å™¨å°±å‡1ã€‚åªè¦å¯¹è±¡Açš„å¼•ç”¨è®¡æ•°å™¨çš„å€¼ä¸º0ï¼Œå³è¡¨ç¤ºå¯¹è±¡Aä¸å¯èƒ½å†è¢«ä½¿ç”¨ï¼Œå¯è¿›è¡Œå›æ”¶ã€‚</span></li></ul></li><li><p><span>ä¼˜ç¼ºç‚¹</span></p><ul><li><p><span>ä¼˜ç‚¹</span></p><ul><li><span>å®ç°ç®€å•ï¼Œåƒåœ¾å¯¹è±¡ä¾¿äºè¾¨è¯†ï¼›åˆ¤å®šæ•ˆç‡é«˜ï¼Œå›æ”¶æ²¡æœ‰å»¶è¿Ÿæ€§</span></li></ul></li><li><p><span>ç¼ºç‚¹</span></p><ul><li><span>å®ƒéœ€è¦å•ç‹¬çš„å­—æ®µå­˜å‚¨è®¡æ•°å™¨ï¼Œè¿™æ ·çš„åšæ³•å¢åŠ äº†å­˜å‚¨ç©ºé—´çš„å¼€é”€</span></li><li><span>æ— æ³•è§£å†³å¾ªç¯å¼•ç”¨</span></li></ul></li></ul></li><li><p><span>å¾ªç¯å¼•ç”¨</span></p><ul><li><span>å‡è®¾ä¸¤ä¸ªå¯¹è±¡ç›¸äº’å¼•ç”¨ï¼Œæœ‰ä¸€ä¸ªå¯¹è±¡è¢«ä¸€ä¸ªå¤–éƒ¨å¯¹è±¡å¼•ç”¨ï¼Œå¦‚æœè¿™ä¸ªå¼•ç”¨æ¶ˆå¤±äº†ï¼Œå°±åªæœ‰ä¸¤ä¸ªå¯¹è±¡äº’ç›¸å¼•ç”¨ï¼Œæ— æ³•ä½¿è®¡æ•°å™¨ç½®0</span></li></ul></li></ul></li><li><p><span>å¯è¾¾æ€§åˆ†æç®—æ³•</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>æ ¹å¯¹è±¡é›†åˆï¼ˆGCRootsï¼‰ä¸ºèµ·å§‹ç‚¹ï¼ŒæŒ‰ç…§ä»ä¸Šè‡³ä¸‹çš„æ–¹å¼æœç´¢è¢«æ ¹å¯¹è±¡é›†åˆæ‰€è¿æ¥çš„ç›®æ ‡å¯¹è±¡æ˜¯å¦å¯è¾¾</span></li></ul></li><li><p><span>åŸç†</span></p><ul><li><span>1ã€å†…å­˜ä¸­çš„å­˜æ´»å¯¹è±¡éƒ½ä¼šè¢«æ ¹å¯¹è±¡é›†åˆç›´æ¥æˆ–é—´æ¥è¿æ¥ç€ï¼Œæœç´¢æ‰€èµ°è¿‡çš„è·¯å¾„ç§°ä¸ºå¼•ç”¨é“¾ã€‚</span></li><li><span>2ã€å¦‚æœç›®æ ‡å¯¹è±¡æ²¡æœ‰ä»»ä½•å¼•ç”¨é“¾ç›¸è¿ï¼Œä¸å¯è¾¾ï¼Œä¸ºåƒåœ¾å›æ”¶å¯¹è±¡ã€‚</span></li><li><span>3ã€åªæœ‰èƒ½å¤Ÿè¢«æ ¹å¯¹è±¡é›†åˆç›´æ¥æˆ–è€…é—´æ¥è¿æ¥çš„å¯¹è±¡æ‰æ˜¯å­˜æ´»å¯¹è±¡</span></li></ul></li><li><p><span>GC Roots</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>ä¸€ç»„å¿…é¡»æ´»è·ƒçš„å¼•ç”¨</span></li></ul></li><li><p><span>åˆ†ç±»</span></p><ul><li><p><span>è™šæ‹Ÿæœºæ ˆä¸­å¼•ç”¨çš„å¯¹è±¡</span></p><ul><li><span>å„ä¸ªçº¿ç¨‹è¢«è°ƒç”¨çš„æ–¹æ³•ä¸­ä½¿ç”¨åˆ°çš„å‚æ•°ã€å±€éƒ¨å˜é‡</span></li></ul></li><li><p><span>æ–¹æ³•åŒºä¸­å¸¸é‡å¼•ç”¨çš„å¯¹è±¡</span></p><ul><li><span>å­—ç¬¦ä¸²å¸¸é‡æ± ï¼ˆstring Tableï¼‰é‡Œçš„å¼•ç”¨</span></li></ul></li><li><p><span>æ‰€æœ‰è¢«åŒæ­¥é”synchronizedæŒæœ‰çš„å¯¹è±¡</span></p></li><li><p><span>Javaè™šæ‹Ÿæœºå†…éƒ¨çš„å¼•ç”¨</span></p><ul><li><span>åŸºæœ¬æ•°æ®ç±»å‹å¯¹åº”çš„Classå¯¹è±¡</span></li></ul></li><li><p><span>åæ˜ javaè™šæ‹Ÿæœºå†…éƒ¨æƒ…å†µçš„JMXBeanã€JVMTIä¸­æ³¨å†Œçš„å›è°ƒã€æœ¬åœ°ä»£ç ç¼“å­˜</span></p></li><li><p><span>æœ¬åœ°æ–¹æ³•æ ˆå†…JNIï¼ˆé€šå¸¸è¯´çš„æœ¬åœ°æ–¹æ³•ï¼‰å¼•ç”¨çš„å¯¹è±¡æ–¹æ³•åŒºä¸­ç±»é™æ€å±æ€§å¼•ç”¨çš„å¯¹è±¡</span></p><ul><li><span>Javaç±»çš„å¼•ç”¨ç±»å‹é™æ€å˜é‡</span></li></ul></li></ul></li><li><p><span>æ€»ç»“</span></p><ul><li><span>é™¤äº†å †ç©ºé—´å¤–çš„ä¸€äº›ç»“æ„ï¼Œæ¯”å¦‚ è™šæ‹Ÿæœºæ ˆã€æœ¬åœ°æ–¹æ³•æ ˆã€æ–¹æ³•åŒºã€å­—ç¬¦ä¸²å¸¸é‡æ±  ç­‰åœ°æ–¹å¯¹å †ç©ºé—´è¿›è¡Œå¼•ç”¨çš„ï¼Œéƒ½å¯ä»¥ä½œä¸ºGC Rootsè¿›è¡Œå¯è¾¾æ€§åˆ†æã€‚</span></li></ul></li><li><p><span>å¯¼è‡´STW</span></p><ul><li><span>1ã€åˆ†æå·¥ä½œå¿…é¡»åœ¨ä¸€ä¸ªèƒ½ç¡®ä¿ä¸€è‡´æ€§çš„å¿«ç…§ä¸­è¿›è¡Œ</span></li><li><span>2ã€å¦‚æœå‡ºç°åˆ†æè¿‡ç¨‹ä¸­å¯¹è±¡å¼•ç”¨å…³ç³»è¿˜åœ¨ä¸æ–­å˜åŒ–ï¼Œåˆ™åˆ†æç»“æœçš„å‡†ç¡®æ€§æ— æ³•ä¿è¯</span></li></ul></li></ul></li></ul></li></ul></li></ul></li><li><p><span>finalization(å¯¹è±¡ç»ˆæ­¢)æœºåˆ¶</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>å…è®¸å¼€å‘äººå‘˜æä¾›å¯¹è±¡è¢«é”€æ¯ä¹‹å‰çš„è‡ªå®šä¹‰å¤„ç†é€»è¾‘ã€‚</span></li><li><span>åƒåœ¾å›æ”¶æ­¤å¯¹è±¡ä¹‹å‰ï¼Œæ€»ä¼šå…ˆè°ƒç”¨è¿™ä¸ªå¯¹è±¡çš„finalize()æ–¹æ³•ã€‚</span></li><li><span>finalize() æ–¹æ³•å…è®¸åœ¨å­ç±»ä¸­è¢«é‡å†™ï¼Œç”¨äºåœ¨å¯¹è±¡è¢«å›æ”¶æ—¶è¿›è¡Œèµ„æºé‡Šæ”¾ï¼Œæ¯”å¦‚å…³é—­æ–‡ä»¶ã€å¥—æ¥å­—å’Œæ•°æ®åº“è¿æ¥ç­‰ã€‚</span></li><li><span>finalize()åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡ã€‚</span></li></ul></li><li><p><span>åˆ¤æ–­å¯¹è±¡æ˜¯å¦å›æ”¶è¿‡ç¨‹</span></p><ul><li><p><span>å¦‚æœå¯¹è±¡objAåˆ°GC Rootsæ²¡æœ‰å¼•ç”¨é“¾ï¼Œåˆ™è¿›è¡Œç¬¬ä¸€æ¬¡æ ‡è®°ã€‚</span></p></li><li><p><span>è¿›è¡Œç­›é€‰ï¼Œåˆ¤æ–­æ­¤å¯¹è±¡æ˜¯å¦æœ‰å¿…è¦æ‰§è¡Œfinalize()æ–¹æ³•</span></p><ul><li><p><span>1ã€å¦‚æœå¯¹è±¡objAæ²¡æœ‰é‡å†™finalizeï¼ˆï¼‰æ–¹æ³•ï¼Œæˆ–è€…finalizeï¼ˆï¼‰æ–¹æ³•å·²ç»è¢«è™šæ‹Ÿæœºè°ƒç”¨è¿‡ã€‚</span></p><ul><li><span>å¯¹è±¡ä¸å¯è¾¾</span></li></ul></li><li><p><span>2ã€å¦‚æœå¯¹è±¡objAé‡å†™äº†finalizeï¼ˆï¼‰æ–¹æ³•ï¼Œä¸”è¿˜æœªæ‰§è¡Œè¿‡ï¼Œé‚£ä¹ˆobjAä¼šè¢«æ’å…¥åˆ°F-Queueé˜Ÿåˆ—ä¸­ï¼Œç”±ä¸€ä¸ªè™šæ‹Ÿæœºè‡ªåŠ¨åˆ›å»ºçš„ã€ä½ä¼˜å…ˆçº§çš„Finalizerçº¿ç¨‹è§¦å‘å…¶finalizeï¼ˆï¼‰æ–¹æ³•æ‰§è¡Œã€‚</span></p></li><li><p><span>3ã€å¦‚æœobjAåœ¨finalizeï¼ˆï¼‰æ–¹æ³•ä¸­ä¸å¼•ç”¨é“¾ä¸Šçš„ä»»ä½•ä¸€ä¸ªå¯¹è±¡å»ºç«‹äº†è”ç³»ï¼Œé‚£ä¹ˆåœ¨ç¬¬äºŒæ¬¡æ ‡è®°æ—¶ï¼ŒobjAä¼šè¢«ç§»å‡ºâ€œå³å°†å›æ”¶â€é›†åˆã€‚</span></p><ul><li><span>å¯¹è±¡å¯è¾¾</span></li></ul></li></ul></li></ul></li><li><p><span>ä¸è¦ä¸»åŠ¨è°ƒç”¨æŸä¸ªå¯¹è±¡çš„finalizeæ–¹æ³•,åº”è¯¥äº¤ç»™åƒåœ¾å›æ”¶æœºåˆ¶è°ƒç”¨ï¼Ÿ</span></p><ul><li><p><span>åœ¨finalizeï¼ˆï¼‰æ—¶å¯èƒ½ä¼šå¯¼è‡´å¯¹è±¡å¤æ´»</span></p></li><li><p><span>ä¸€ä¸ªç³Ÿç³•çš„finalizeï¼ˆï¼‰ä¼šä¸¥é‡å½±å“Gcçš„æ€§èƒ½</span></p></li><li><p><span>finalizeï¼ˆï¼‰æ–¹æ³•çš„æ‰§è¡Œæ—¶é—´æ˜¯æ²¡æœ‰ä¿éšœçš„ï¼Œå®ƒå®Œå…¨ç”±Gcçº¿ç¨‹å†³å®š</span></p><ul><li><span>ä¼˜å…ˆçº§æ¯”è¾ƒä½ï¼Œå³ä½¿ä¸»åŠ¨è°ƒç”¨è¯¥æ–¹æ³•ï¼Œä¹Ÿä¸ä¼šå› æ­¤å°±ç›´æ¥è¿›è¡Œå›æ”¶</span></li></ul></li></ul></li></ul></li><li><p><span>æ¸…é™¤é˜¶æ®µ</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>æ‰§è¡Œåƒåœ¾å›æ”¶ï¼Œé‡Šæ”¾æ‰æ— ç”¨å¯¹è±¡æ‰€å ç”¨çš„å†…å­˜ç©ºé—´ï¼Œä»¥ä¾¿æœ‰è¶³å¤Ÿçš„å¯ç”¨å†…å­˜ç©ºé—´ä¸ºæ–°å¯¹è±¡åˆ†é…å†…å­˜ã€‚</span></li></ul></li><li><p><span>æ–¹å¼</span></p><ul><li><p><span>æ ‡è®°ä¸€æ¸…é™¤ç®—æ³•ï¼ˆMark-Sweepï¼‰</span></p><ul><li><p><span>æ‰§è¡Œè¿‡ç¨‹</span></p><ul><li><p><span>å½“å †ä¸­çš„æœ‰æ•ˆå†…å­˜ç©ºé—´ï¼ˆavailable memoryï¼‰è¢«è€—å°½çš„æ—¶å€™ï¼Œå°±ä¼šåœæ­¢æ•´ä¸ªç¨‹åºï¼ˆä¹Ÿè¢«ç§°ä¸ºstop the worldï¼‰</span></p></li><li><p><span>æ ‡è®°</span></p><ul><li><p><span>Collectorä»å¼•ç”¨æ ¹èŠ‚ç‚¹å¼€å§‹éå†ï¼Œæ ‡è®°æ‰€æœ‰è¢«å¼•ç”¨çš„å¯¹è±¡ã€‚ä¸€èˆ¬æ˜¯åœ¨å¯¹è±¡çš„Headerä¸­è®°å½•ä¸ºå¯è¾¾å¯¹è±¡ã€‚</span></p><ul><li><span>æ ‡è®°çš„æ˜¯å¼•ç”¨çš„å¯¹è±¡ï¼Œä¸æ˜¯åƒåœ¾ï¼ï¼</span></li></ul></li></ul></li><li><p><span>æ¸…é™¤</span></p><ul><li><span>Collectorå¯¹å †å†…å­˜ä»å¤´åˆ°å°¾è¿›è¡Œçº¿æ€§çš„éå†ï¼Œå¦‚æœå‘ç°æŸä¸ªå¯¹è±¡åœ¨å…¶Headerä¸­æ²¡æœ‰æ ‡è®°ä¸ºå¯è¾¾å¯¹è±¡ï¼Œåˆ™å°†å…¶å›æ”¶</span></li></ul></li></ul></li><li><p><span>æ¸…é™¤</span></p><ul><li><span>å¹¶ä¸æ˜¯çœŸçš„ç½®ç©ºï¼Œè€Œæ˜¯æŠŠéœ€è¦æ¸…é™¤çš„å¯¹è±¡åœ°å€ä¿å­˜åœ¨ç©ºé—²çš„åœ°å€åˆ—è¡¨é‡Œã€‚</span></li><li><span>ä¸‹æ¬¡æœ‰æ–°å¯¹è±¡éœ€è¦åŠ è½½æ—¶ï¼Œåˆ¤æ–­åƒåœ¾çš„ä½ç½®ç©ºé—´æ˜¯å¦å¤Ÿï¼Œå¦‚æœå¤Ÿï¼Œå°±å­˜æ”¾è¦†ç›–åŸæœ‰çš„åœ°å€ã€‚</span></li></ul></li><li><p><span>ç¼ºç‚¹</span></p><ul><li><span>æ ‡è®°æ¸…é™¤ç®—æ³•çš„æ•ˆç‡ä¸ç®—é«˜</span></li><li><span>åœ¨è¿›è¡ŒGCçš„æ—¶å€™ï¼Œéœ€è¦åœæ­¢æ•´ä¸ªåº”ç”¨ç¨‹åºï¼Œç”¨æˆ·ä½“éªŒè¾ƒå·®</span></li><li><span>è¿™ç§æ–¹å¼æ¸…ç†å‡ºæ¥çš„ç©ºé—²å†…å­˜æ˜¯ä¸è¿ç»­çš„ï¼Œäº§ç”Ÿå†…ç¢ç‰‡ï¼Œéœ€è¦ç»´æŠ¤ä¸€ä¸ªç©ºé—²åˆ—è¡¨ï¼Œäº§ç”Ÿé¢å¤–çš„ç©ºé—´æ¶ˆè€—</span></li></ul></li></ul></li><li><p><span>å¤åˆ¶ç®—æ³•ï¼ˆcopyingï¼‰</span></p><ul><li><p><span>åŸç†</span></p><ul><li><span>å°†æ´»ç€çš„å†…å­˜ç©ºé—´åˆ†ä¸ºä¸¤å—ï¼Œæ¯æ¬¡åªä½¿ç”¨å…¶ä¸­ä¸€å—ï¼Œåœ¨åƒåœ¾å›æ”¶æ—¶å°†æ­£åœ¨ä½¿ç”¨çš„å†…å­˜ä¸­çš„å­˜æ´»(å¯è¾¾)å¯¹è±¡å¤åˆ¶åˆ°æœªè¢«ä½¿ç”¨çš„å†…å­˜å—ä¸­</span></li><li><span>ä¹‹åæ¸…é™¤æ­£åœ¨ä½¿ç”¨çš„å†…å­˜å—ä¸­çš„æ‰€æœ‰å¯¹è±¡ï¼Œäº¤æ¢ä¸¤ä¸ªå†…å­˜çš„è§’è‰²ï¼Œæœ€åå®Œæˆåƒåœ¾å›æ”¶</span></li></ul></li><li><p><span>ä¼˜ç¼ºç‚¹</span></p><ul><li><p><span>ä¼˜ç‚¹</span></p><ul><li><span>æ²¡æœ‰æ ‡è®°å’Œæ¸…é™¤è¿‡ç¨‹ï¼Œå®ç°ç®€å•ï¼Œè¿è¡Œé«˜æ•ˆ</span></li><li><span>å¤åˆ¶è¿‡å»ä»¥åä¿è¯ç©ºé—´çš„è¿ç»­æ€§ï¼Œä¸ä¼šå‡ºç°â€œç¢ç‰‡â€é—®é¢˜</span></li></ul></li><li><p><span>ç¼ºç‚¹</span></p><ul><li><span>éœ€è¦ä¸¤å€çš„å†…å­˜ç©ºé—´ã€‚</span></li><li><span>å¯¹äºG1è¿™ç§åˆ†æ‹†æˆä¸ºå¤§é‡regionçš„GCï¼Œå¤åˆ¶è€Œä¸æ˜¯ç§»åŠ¨ï¼Œæ„å‘³ç€GCéœ€è¦ç»´æŠ¤regionä¹‹é—´å¯¹è±¡å¼•ç”¨å…³ç³»ï¼Œä¸ç®¡æ˜¯å†…å­˜å ç”¨æˆ–è€…æ—¶é—´</span></li></ul></li></ul></li><li><p><span>åœºæ™¯</span></p><ul><li><span>å¤åˆ¶ç®—æ³•éœ€è¦å¤åˆ¶çš„å­˜æ´»å¯¹è±¡æ•°é‡å¹¶ä¸ä¼šå¤ªå¤§ï¼Œæˆ–è€…è¯´éå¸¸ä½æ‰è¡Œï¼ˆè€å¹´ä»£å¤§é‡çš„å¯¹è±¡å­˜æ´»ï¼Œé‚£ä¹ˆå¤åˆ¶çš„å¯¹è±¡å°†ä¼šæœ‰å¾ˆå¤šï¼Œæ•ˆç‡ä¼šå¾ˆä½ï¼‰</span></li></ul></li></ul></li><li><p><span>æ ‡è®°-å‹ç¼©ç®—æ³•ï¼ˆMark-Compactï¼‰</span></p><ul><li><p><span>æ‰§è¡Œè¿‡ç¨‹</span></p><ul><li><span>ç¬¬ä¸€é˜¶æ®µå’Œæ ‡è®°æ¸…é™¤ç®—æ³•ä¸€æ ·ï¼Œä»æ ¹èŠ‚ç‚¹å¼€å§‹æ ‡è®°æ‰€æœ‰è¢«å¼•ç”¨å¯¹è±¡</span></li><li><span>ç¬¬äºŒé˜¶æ®µå°†æ‰€æœ‰çš„å­˜æ´»å¯¹è±¡å‹ç¼©åˆ°å†…å­˜çš„ä¸€ç«¯ï¼ŒæŒ‰é¡ºåºæ’æ”¾ã€‚ä¹‹åï¼Œæ¸…ç†è¾¹ç•Œå¤–æ‰€æœ‰çš„ç©ºé—´ã€‚</span></li></ul></li><li><p><span>ä¼˜ç¼ºç‚¹</span></p><ul><li><p><span>ä¼˜ç‚¹</span></p><ul><li><span>æ¶ˆé™¤äº†æ ‡è®°-æ¸…é™¤ç®—æ³•å½“ä¸­ï¼Œå†…å­˜åŒºåŸŸåˆ†æ•£çš„ç¼ºç‚¹ï¼Œæˆ‘ä»¬éœ€è¦ç»™æ–°å¯¹è±¡åˆ†é…å†…å­˜æ—¶ï¼ŒJVMåªéœ€è¦æŒæœ‰ä¸€ä¸ªå†…å­˜çš„èµ·å§‹åœ°å€å³å¯</span></li><li><span>æ¶ˆé™¤äº†å¤åˆ¶ç®—æ³•å½“ä¸­ï¼Œå†…å­˜å‡åŠçš„é«˜é¢ä»£ä»·</span></li></ul></li><li><p><span>ç¼ºç‚¹</span></p><ul><li><span>ä»æ•ˆç‡ä¸Šæ¥è¯´ï¼Œæ ‡è®°-æ•´ç†ç®—æ³•è¦ä½äºå¤åˆ¶ç®—æ³•</span></li><li><span>ç§»åŠ¨å¯¹è±¡çš„åŒæ—¶ï¼Œå¦‚æœå¯¹è±¡è¢«å…¶ä»–å¯¹è±¡å¼•ç”¨ï¼Œåˆ™è¿˜éœ€è¦è°ƒæ•´å¼•ç”¨çš„åœ°å€</span></li><li><span>ç§»åŠ¨è¿‡ç¨‹ä¸­ï¼Œéœ€è¦å…¨ç¨‹æš‚åœç”¨æˆ·åº”ç”¨ç¨‹åºã€‚å³ï¼šSTW</span></li></ul></li></ul></li></ul></li></ul></li><li><p><span>æ ‡æ¸…å’Œæ ‡æ•´çš„åŒºåˆ«</span></p><ul><li><span>æ ‡è®°-æ¸…é™¤ç®—æ³•æ˜¯ä¸€ç§éç§»åŠ¨å¼çš„å›æ”¶ç®—æ³•ï¼Œæ ‡è®°-å‹ç¼©æ˜¯ç§»åŠ¨å¼çš„ã€‚</span></li><li><span>æ ‡æ•´å­˜æ´»å¯¹è±¡é‡æ–°æŒ‰ç…§å†…å­˜åœ°å€ä¾æ¬¡æ’åºï¼Œè¦ç»™æ–°å¯¹è±¡åˆ†é…å†…å­˜æ—¶ï¼ŒJVMåªéœ€è¦æŒæœ‰ä¸€ä¸ªå†…å­˜çš„èµ·å§‹åœ°å€å³å¯ï¼Œæ¯”ç©ºé—²åˆ—è¡¨å¼€é”€å°</span></li></ul></li></ul></li><li><p><span>åˆ†ä»£æ”¶é›†ç®—æ³•</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>ä¸åŒç”Ÿå‘½å‘¨æœŸçš„å¯¹è±¡å¯ä»¥é‡‡å–ä¸åŒçš„æ”¶é›†æ–¹å¼</span></li></ul></li><li><p><span>åœºæ™¯</span></p><ul><li><span>æ–°ç”Ÿä»£â€”â€”å¤åˆ¶</span></li><li><span>è€å¹´ä»£â€”â€”æ ‡æ¸…ï¼Œæ ‡æ•´</span></li></ul></li></ul></li><li><p><span>å¢é‡æ”¶é›†ç®—æ³•</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>è®©åƒåœ¾æ”¶é›†çº¿ç¨‹å’Œåº”ç”¨ç¨‹åºçº¿ç¨‹äº¤æ›¿æ‰§è¡Œ</span></li><li><span>å¢é‡æ”¶é›†ç®—æ³•é€šè¿‡å¯¹çº¿ç¨‹é—´å†²çªçš„å¦¥å–„å¤„ç†ï¼Œå…è®¸åƒåœ¾æ”¶é›†çº¿ç¨‹ä»¥åˆ†é˜¶æ®µçš„æ–¹å¼å®Œæˆæ ‡è®°ã€æ¸…ç†æˆ–å¤åˆ¶å·¥ä½œ</span></li><li><span>å¢é‡æ”¶é›†ç®—æ³•çš„åŸºç¡€ä»æ˜¯ä¼ ç»Ÿçš„æ ‡è®°-æ¸…é™¤å’Œå¤åˆ¶ç®—æ³•ã€‚</span></li></ul></li><li><p><span>åŸç†</span></p><ul><li><span>æ¯æ¬¡ï¼Œåƒåœ¾æ”¶é›†çº¿ç¨‹åªæ”¶é›†ä¸€å°ç‰‡åŒºåŸŸçš„å†…å­˜ç©ºé—´ï¼Œæ¥ç€åˆ‡æ¢åˆ°åº”ç”¨ç¨‹åºçº¿ç¨‹ã€‚ä¾æ¬¡åå¤ï¼Œç›´åˆ°åƒåœ¾æ”¶é›†å®Œæˆã€‚</span></li></ul></li><li><p><span>ä¼˜ç¼ºç‚¹</span></p><ul><li><span>èƒ½å‡å°‘ç³»ç»Ÿçš„åœé¡¿æ—¶é—´</span></li><li><span>å› ä¸ºçº¿ç¨‹åˆ‡æ¢å’Œä¸Šä¸‹æ–‡è½¬æ¢çš„æ¶ˆè€—ï¼Œä¼šä½¿å¾—åƒåœ¾å›æ”¶çš„æ€»ä½“æˆæœ¬ä¸Šå‡ï¼Œé€ æˆç³»ç»Ÿååé‡çš„ä¸‹é™ã€‚</span></li></ul></li></ul></li><li><p><span>åˆ†åŒºç®—æ³•</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>å°†ä¸€å—å¤§çš„å†…å­˜åŒºåŸŸåˆ†å‰²æˆå¤šä¸ªå°å—ï¼Œæ ¹æ®ç›®æ ‡çš„åœé¡¿æ—¶é—´ï¼Œæ¯æ¬¡åˆç†åœ°å›æ”¶è‹¥å¹²ä¸ªå°åŒºé—´</span></li><li><span>ä¸æ˜¯æ•´ä¸ªå †ç©ºé—´ï¼Œä»è€Œå‡å°‘ä¸€æ¬¡GCæ‰€äº§ç”Ÿçš„åœé¡¿ã€‚</span></li></ul></li><li><p><span>å­ä¸»é¢˜ 2</span></p></li></ul></li></ul></li><li><p><span>ç›¸å…³æ¦‚å¿µ</span></p><ul><li><p><span>System.gc()çš„ç†è§£</span></p></li><li><p><span>å†…å­˜æº¢å‡º(OOM)</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>æ²¡æœ‰ç©ºé—²å†…å­˜çš„æƒ…å†µï¼šè¯´æ˜Javaè™šæ‹Ÿæœºçš„å †å†…å­˜ä¸å¤Ÿ</span></li><li><span>ç¨‹åºåœ¨ç”³è¯·å†…å­˜æ—¶ï¼Œæ²¡æœ‰è¶³å¤Ÿçš„å†…å­˜ç©ºé—´ä¾›å…¶ä½¿ç”¨</span></li></ul></li><li><p><span>åŸå› </span></p><ul><li><p>&nbsp;</p><ul><li><span>Javaè™šæ‹Ÿæœºçš„å †å†…å­˜è®¾ç½®ä¸å¤Ÿã€‚</span></li><li><span>ä»£ç ä¸­åˆ›å»ºäº†å¤§é‡å¤§å¯¹è±¡ï¼Œå¹¶ä¸”é•¿æ—¶é—´ä¸èƒ½è¢«åƒåœ¾æ”¶é›†å™¨æ”¶é›†ï¼ˆå­˜åœ¨è¢«å¼•ç”¨ï¼‰</span></li></ul></li></ul></li><li><p><span>æ³¨æ„äº‹é¡¹</span></p><ul><li><span>åœ¨æŠ›å‡ºOutofMemoryErrorä¹‹å‰ï¼Œé€šå¸¸åƒåœ¾æ”¶é›†å™¨ä¼šè¢«è§¦å‘ï¼Œå°½å…¶æ‰€èƒ½å»æ¸…ç†å‡ºç©ºé—´</span></li><li><span>ä¹Ÿä¸æ˜¯åœ¨ä»»ä½•æƒ…å†µä¸‹åƒåœ¾æ”¶é›†å™¨éƒ½ä¼šè¢«è§¦å‘çš„</span></li><li><span>æˆ‘ä»¬å»åˆ†é…ä¸€ä¸ªè¶…å¤§å¯¹è±¡ï¼Œç±»ä¼¼ä¸€ä¸ªè¶…å¤§æ•°ç»„è¶…è¿‡å †çš„æœ€å¤§å€¼ï¼ŒJVMå¯ä»¥åˆ¤æ–­å‡ºåƒåœ¾æ”¶é›†å¹¶ä¸èƒ½è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæ‰€ä»¥ç›´æ¥æŠ›å‡ºOutofMemoryErrorã€‚</span></li></ul></li></ul></li><li><p><span>å†…å­˜æ³„éœ²</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>ç¨‹åºåœ¨ç”³è¯·å†…å­˜åï¼Œæ— æ³•é‡Šæ”¾å·²ç”³è¯·çš„å†…å­˜ç©ºé—´</span></li><li><span>æœ‰å¤§é‡çš„å¼•ç”¨æŒ‡å‘æŸäº›å¯¹è±¡ï¼Œä½†æ˜¯è¿™äº›å¯¹è±¡ä»¥åä¸ä¼šä½¿ç”¨äº†ï¼Œä½†æ˜¯å› ä¸ºå®ƒä»¬è¿˜å’ŒGC ROOTæœ‰å…³è”ï¼Œæ‰€ä»¥å¯¼è‡´ä»¥åè¿™äº›å¯¹è±¡ä¹Ÿä¸ä¼šè¢«å›æ”¶ï¼Œè¿™å°±æ˜¯å†…å­˜æ³„æ¼çš„é—®é¢˜ã€‚</span></li></ul></li><li><p><span>ä¾‹å­</span></p><ul><li><p><span>å•ä¾‹æ¨¡å¼</span></p><ul><li><span>å•ä¾‹çš„ç”Ÿå‘½å‘¨æœŸå’Œåº”ç”¨ç¨‹åºæ˜¯ä¸€æ ·é•¿çš„ï¼Œæ‰€ä»¥å•ä¾‹ç¨‹åºä¸­ï¼Œå¦‚æœæŒæœ‰å¯¹å¤–éƒ¨å¯¹è±¡çš„å¼•ç”¨çš„è¯ï¼Œé‚£ä¹ˆè¿™ä¸ªå¤–éƒ¨å¯¹è±¡æ˜¯ä¸èƒ½è¢«å›æ”¶çš„ï¼Œåˆ™ä¼šå¯¼è‡´å†…å­˜æ³„æ¼çš„äº§ç”Ÿã€‚</span></li></ul></li><li><p><span>ä¸€äº›æä¾›closeçš„èµ„æºæœªå…³é—­å¯¼è‡´å†…å­˜æ³„æ¼</span></p><ul><li><span>æ•°æ®åº“è¿æ¥ï¼ˆdataSourse.getConnection() ï¼‰ï¼Œç½‘ç»œè¿æ¥ï¼ˆsocketï¼‰å’Œioè¿æ¥å¿…é¡»æ‰‹åŠ¨close</span></li></ul></li></ul></li></ul></li><li><p><span>STW(stop the world)</span></p><ul><li><span>Gcäº‹ä»¶å‘ç”Ÿè¿‡ç¨‹ä¸­ï¼Œä¼šäº§ç”Ÿåº”ç”¨ç¨‹åºçš„åœé¡¿ã€‚åœé¡¿äº§ç”Ÿæ—¶æ•´ä¸ªåº”ç”¨ç¨‹åºçº¿ç¨‹éƒ½ä¼šè¢«æš‚åœï¼Œæ²¡æœ‰ä»»ä½•å“åº”ï¼Œæœ‰ç‚¹åƒå¡æ­»çš„æ„Ÿè§‰ã€‚</span></li><li><span>å¯è¾¾æ€§åˆ†æ(GC Roots)ä¼šå‡ºç°</span></li></ul></li><li><p><span>åƒåœ¾å›æ”¶çš„å¹¶è¡Œä¸å¹¶å‘</span></p><ul><li><p><span>å¹¶è¡Œï¼ˆParallelï¼‰</span></p><ul><li><p><span>å¤šæ¡åƒåœ¾æ”¶é›†çº¿ç¨‹å¹¶è¡Œå·¥ä½œï¼Œä½†æ­¤æ—¶ç”¨æˆ·çº¿ç¨‹ä»å¤„äºç­‰å¾…çŠ¶æ€(STW)</span></p><ul><li><span>ParNewã€Parallel Scavengeã€Parallel old</span></li></ul></li></ul></li><li><p><span>ä¸²è¡Œï¼ˆSerialï¼‰</span></p><ul><li><p><span>åŒä¸€æ—¶åˆ»åªèƒ½æ‰§è¡Œåƒåœ¾æ”¶é›†çº¿ç¨‹æˆ–ç”¨æˆ·çº¿ç¨‹(STW)</span></p><ul><li><span>Serialã€Serial Old</span></li></ul></li></ul></li><li><p><span>å¹¶å‘ï¼ˆConcurrentï¼‰</span></p><ul><li><span>ç”¨æˆ·çº¿ç¨‹ä¸åƒåœ¾æ”¶é›†çº¿ç¨‹åŒæ—¶æ‰§è¡Œï¼ˆä½†ä¸ä¸€å®šæ˜¯å¹¶è¡Œçš„ï¼Œå¯èƒ½ä¼šäº¤æ›¿æ‰§è¡Œï¼‰,åƒåœ¾å›æ”¶çº¿ç¨‹åœ¨æ‰§è¡Œæ—¶ä¸ä¼šåœé¡¿ç”¨æˆ·ç¨‹åºçš„è¿è¡Œã€‚</span></li><li><span>ç”¨æˆ·ç¨‹åºåœ¨ç»§ç»­è¿è¡Œï¼Œè€Œåƒåœ¾æ”¶é›†ç¨‹åºçº¿ç¨‹è¿è¡Œäºå¦ä¸€ä¸ªCPUä¸Š</span></li><li><span>CMSï¼ŒG1</span></li></ul></li></ul></li><li><p><span>å®‰å…¨ç‚¹ä¸å®‰å…¨åŒºåŸŸ</span></p><ul><li><p><span>å®‰å…¨ç‚¹(Safepoint)</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>ç¨‹åºæ‰§è¡Œåˆ°æŸä¸ªä½ç½®æ—¶å¤„äºå®‰å…¨çŠ¶æ€ï¼Œå¯ä»¥è¿›è¡ŒGC</span></li></ul></li><li><p><span>æ–¹å¼</span></p><ul><li><p><span>æŠ¢å…ˆå¼ä¸­æ–­(ä¸¢å¼ƒ)</span></p><ul><li><span>é¦–å…ˆä¸­æ–­æ‰€æœ‰çº¿ç¨‹ã€‚å¦‚æœè¿˜æœ‰çº¿ç¨‹ä¸åœ¨å®‰å…¨ç‚¹ï¼Œå°±æ¢å¤çº¿ç¨‹ï¼Œè®©çº¿ç¨‹è·‘åˆ°å®‰å…¨ç‚¹</span></li></ul></li><li><p><span>ä¸»åŠ¨å¼ä¸­æ–­</span></p><ul><li><span>è®¾ç½®ä¸€ä¸ªä¸­æ–­æ ‡å¿—ï¼Œå„ä¸ªçº¿ç¨‹è¿è¡Œåˆ°Safe Pointçš„æ—¶å€™ä¸»åŠ¨è½®è¯¢è¿™ä¸ªæ ‡å¿—ï¼Œå¦‚æœä¸­æ–­æ ‡å¿—ä¸ºçœŸï¼Œåˆ™å°†è‡ªå·±è¿›è¡Œä¸­æ–­æŒ‚èµ·ã€‚ï¼ˆæœ‰è½®è¯¢çš„æœºåˆ¶ï¼‰</span></li></ul></li></ul></li><li><p><span>ä½œç”¨</span></p><ul><li><span>ä¿è¯äº†ç¨‹åºæ‰§è¡Œæ—¶ï¼Œåœ¨ä¸å¤ªé•¿çš„æ—¶é—´å†…å°±ä¼šé‡åˆ°å¯è¿›å…¥GCçš„Safepointã€‚</span></li></ul></li></ul></li><li><p><span>å®‰å…¨åŒºåŸŸ(Safe Region)</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>åœ¨ä¸€æ®µä»£ç ç‰‡æ®µä¸­ï¼Œå¯¹è±¡çš„å¼•ç”¨å…³ç³»ä¸ä¼šå‘ç”Ÿå˜åŒ–ï¼Œåœ¨è¿™ä¸ªåŒºåŸŸä¸­çš„ä»»ä½•ä½ç½®å¼€å§‹Gcéƒ½æ˜¯å®‰å…¨çš„ã€‚</span></li></ul></li><li><p><span>æ‰§è¡Œæµç¨‹</span></p><ul><li><span>å½“çº¿ç¨‹è¿è¡Œåˆ°Safe Regionçš„ä»£ç æ—¶ï¼Œé¦–å…ˆæ ‡è¯†å·²ç»è¿›å…¥äº†Safe Relgionï¼Œå¦‚æœè¿™æ®µæ—¶é—´å†…å‘ç”ŸGCï¼ŒJVMä¼šå¿½ç•¥æ ‡è¯†ä¸ºSafe RegionçŠ¶æ€çš„çº¿ç¨‹ã€‚</span></li><li><span>å½“çº¿ç¨‹å³å°†ç¦»å¼€Safe Regionæ—¶ï¼Œä¼šæ£€æŸ¥JVMæ˜¯å¦å·²ç»å®ŒæˆGCï¼Œå¦‚æœå®Œæˆäº†ï¼Œåˆ™ç»§ç»­è¿è¡Œï¼Œå¦åˆ™çº¿ç¨‹å¿…é¡»ç­‰å¾…ç›´åˆ°æ”¶åˆ°å¯ä»¥å®‰å…¨ç¦»å¼€Safe Regionçš„ä¿¡å·ä¸ºæ­¢ï¼›</span></li></ul></li><li><p><span>äº§ç”ŸåŸå› </span></p><ul><li><span>ç¨‹åºâ€œä¸æ‰§è¡Œâ€çš„æ—¶å€™ï¼Œä¾‹å¦‚çº¿ç¨‹å¤„äºsleep-çŠ¶æ€æˆ–Blocked çŠ¶æ€ï¼Œè¿™æ—¶å€™çº¿ç¨‹æ— æ³•å“åº”JVMçš„ä¸­æ–­è¯·æ±‚ã€‚</span></li></ul></li></ul></li></ul></li><li><p><span>å››å¤§å¼•ç”¨</span></p><ul><li><p><span>å¼ºå¼•ç”¨</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>ä½¿ç”¨newæ“ä½œç¬¦åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œå¹¶å°†å…¶èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡çš„æ—¶å€™ï¼Œè¿™ä¸ªå˜é‡å°±æˆä¸ºæŒ‡å‘è¯¥å¯¹è±¡çš„ä¸€ä¸ªå¼ºå¼•ç”¨ã€‚</span></li><li><span>å¼ºå¼•ç”¨çš„å¯¹è±¡æ˜¯å¯è§¦åŠ(GC Roots)çš„ï¼Œåƒåœ¾æ”¶é›†å™¨å°±æ°¸è¿œä¸ä¼šå›æ”¶æ‰è¢«å¼•ç”¨çš„å¯¹è±¡ã€‚</span></li></ul></li><li><p><span>ç‰¹ç‚¹</span></p><ul><li><span>å¼ºå¼•ç”¨å¯ä»¥ç›´æ¥è®¿é—®ç›®æ ‡å¯¹è±¡</span></li><li><span>å¼ºå¼•ç”¨æ‰€æŒ‡å‘çš„å¯¹è±¡åœ¨ä»»ä½•æ—¶å€™éƒ½ä¸ä¼šè¢«ç³»ç»Ÿå›æ”¶ï¼Œè™šæ‹Ÿæœºå®æ„¿æŠ›å‡ºOOMå¼‚å¸¸ï¼Œä¹Ÿä¸ä¼šå›æ”¶å¼ºå¼•ç”¨æ‰€æŒ‡å‘å¯¹è±¡</span></li><li><span>å¼ºå¼•ç”¨å¯èƒ½å¯¼è‡´å†…å­˜æ³„æ¼ã€‚</span></li></ul></li></ul></li><li><p><span>è½¯å¼•ç”¨</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>ç”¨æ¥æè¿°ä¸€äº›è¿˜æœ‰ç”¨ï¼Œä½†éå¿…éœ€çš„å¯¹è±¡</span></li><li><span>åœ¨ç³»ç»Ÿå°†è¦å‘ç”Ÿå†…å­˜æº¢å‡ºå¼‚å¸¸å‰ï¼Œä¼šæŠŠè½¯å¼•ç”¨å…³è”å¯¹è±¡åˆ—è¿›å›æ”¶èŒƒå›´ä¹‹ä¸­è¿›è¡Œç¬¬äºŒæ¬¡å›æ”¶ã€‚</span></li><li><span>å¦‚æœè¿™æ¬¡å›æ”¶è¿˜æ²¡æœ‰è¶³å¤Ÿçš„å†…å­˜ï¼Œæ‰ä¼šæŠ›å‡ºå†…å­˜æº¢å‡ºå¼‚å¸¸ã€‚</span></li></ul></li><li><p><span>ç‰¹ç‚¹</span></p><ul><li><span>å½“å†…å­˜è¶³å¤Ÿæ—¶ï¼Œä¸ä¼šå›æ”¶è½¯å¼•ç”¨å¯è¾¾çš„å¯¹è±¡ã€‚å†…å­˜ä¸å¤Ÿæ—¶ï¼Œä¼šå›æ”¶è½¯å¼•ç”¨çš„å¯è¾¾å¯¹è±¡</span></li></ul></li></ul></li><li><p><span>å¼±å¼•ç”¨</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>ç”¨æ¥æè¿°é‚£äº›éå¿…éœ€å¯¹è±¡ï¼Œè¢«å¼±å¼•ç”¨å…³è”çš„å¯¹è±¡åªèƒ½ç”Ÿå­˜åˆ°ä¸‹ä¸€æ¬¡åƒåœ¾æ”¶é›†å‘ç”Ÿä¸ºæ­¢</span></li></ul></li><li><p><span>å¯ä»¥æŒ‡å®šä¸€ä¸ªå¼•ç”¨é˜Ÿåˆ—ï¼Œå½“å¼±å¼•ç”¨å¯¹è±¡è¢«å›æ”¶æ—¶ï¼Œå°±ä¼šåŠ å…¥æŒ‡å®šçš„å¼•ç”¨é˜Ÿåˆ—ï¼Œé€šè¿‡è¿™ä¸ªé˜Ÿåˆ—å¯ä»¥è·Ÿè¸ªå¯¹è±¡çš„å›æ”¶æƒ…å†µã€‚</span></p></li></ul></li><li><p><span>è™šå¼•ç”¨</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æœ‰è™šå¼•ç”¨çš„å­˜åœ¨ï¼Œå®Œå…¨ä¸ä¼šå†³å®šå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸã€‚å¦‚æœä¸€ä¸ªå¯¹è±¡ä»…æŒæœ‰è™šå¼•ç”¨ï¼Œé‚£ä¹ˆå®ƒå’Œæ²¡æœ‰å¼•ç”¨å‡ ä¹æ˜¯ä¸€æ ·çš„ï¼Œéšæ—¶éƒ½å¯èƒ½è¢«åƒåœ¾å›æ”¶å™¨å›æ”¶ã€‚</span></li></ul></li><li><p><span>ç›®çš„</span></p><ul><li><p><span>å”¯ä¸€ç›®çš„åœ¨äºè·Ÿè¸ªåƒåœ¾å›æ”¶è¿‡ç¨‹</span></p><ul><li><span>åœ¨è¿™ä¸ªå¯¹è±¡è¢«æ”¶é›†å™¨å›æ”¶æ—¶æ”¶åˆ°ä¸€ä¸ªç³»ç»Ÿé€šçŸ¥</span></li></ul></li></ul></li><li><p><span>ç‰¹ç‚¹</span></p><ul><li><span>æ— æ³•è·å–æ•°æ®</span></li><li><span>å¿…é¡»å’Œå¼•ç”¨é˜Ÿåˆ—ä¸€èµ·ä½¿ç”¨</span></li></ul></li></ul></li></ul></li></ul></li><li><p><span>åƒåœ¾å›æ”¶å™¨</span></p><ul><li><p><span>åˆ†ç±»</span></p><ul><li><p><span>çº¿ç¨‹æ•°</span></p><ul><li><span>ä¸²è¡Œ</span></li><li><span>å¹¶è¡Œ</span></li></ul></li><li><p><span>å·¥ä½œæ¨¡å¼</span></p><ul><li><p><span>å¹¶å‘å¼</span></p></li><li><p><span>ç‹¬å å¼</span></p><ul><li><span>ä¸€æ—¦è¿è¡Œï¼Œå°±åœæ­¢åº”ç”¨ç¨‹åºä¸­çš„æ‰€æœ‰ç”¨æˆ·çº¿ç¨‹ï¼Œç›´åˆ°åƒåœ¾å›æ”¶è¿‡ç¨‹å®Œå…¨ç»“æŸ</span></li></ul></li></ul></li><li><p><span>ç¢ç‰‡å¤„ç†æ–¹å¼</span></p><ul><li><span>å‹ç¼©å¼</span></li><li><span>éå‹ç¼©å¼</span></li></ul></li></ul></li><li><p><span>æ€§èƒ½æŒ‡æ ‡</span></p><ul><li><p><span>åˆ†ç±»</span></p><ul><li><p><span>ååé‡</span></p><ul><li><p><span>è¿è¡Œç”¨æˆ·ä»£ç çš„æ—¶é—´å æ€»è¿è¡Œæ—¶é—´çš„æ¯”ä¾‹ï¼ˆæ€»è¿è¡Œæ—¶é—´ = ç¨‹åºçš„è¿è¡Œæ—¶é—´ + å†…å­˜å›æ”¶çš„æ—¶é—´ï¼‰ã€‚</span></p><ul><li><span>é‡ç‚¹</span></li></ul></li></ul></li><li><p><span>åƒåœ¾æ”¶é›†å¼€é”€</span></p><ul><li><span>ååé‡çš„è¡¥æ•°ï¼Œåƒåœ¾æ”¶é›†æ‰€ç”¨æ—¶é—´ä¸æ€»è¿è¡Œæ—¶é—´çš„æ¯”ä¾‹ã€‚</span></li></ul></li><li><p><span>æš‚åœæ—¶é—´</span></p><ul><li><p><span>æ‰§è¡Œåƒåœ¾æ”¶é›†æ—¶ï¼Œç¨‹åºçš„å·¥ä½œçº¿ç¨‹è¢«æš‚åœçš„æ—¶é—´ã€‚</span></p><ul><li><span>é‡ç‚¹</span></li></ul></li></ul></li><li><p><span>æ”¶é›†é¢‘ç‡</span></p><ul><li><span>ç›¸å¯¹äºåº”ç”¨ç¨‹åºçš„æ‰§è¡Œï¼Œæ”¶é›†æ“ä½œå‘ç”Ÿçš„é¢‘ç‡ã€‚</span></li></ul></li><li><p><span>å†…å­˜å ç”¨</span></p><ul><li><span>Javaå †åŒºæ‰€å çš„å†…å­˜å¤§å°ã€‚</span></li></ul></li><li><p><span>å¿«é€Ÿ</span></p><ul><li><span>ä¸€ä¸ªå¯¹è±¡ä»è¯ç”Ÿåˆ°è¢«å›æ”¶æ‰€ç»å†çš„æ—¶é—´ã€‚</span></li></ul></li></ul></li><li><p><span>ååé‡vsæš‚åœæ—¶é—´</span></p><ul><li><span>ä»¥ååé‡ä¼˜å…ˆï¼Œé‚£ä¹ˆå¿…ç„¶éœ€è¦é™ä½å†…å­˜å›æ”¶çš„æ‰§è¡Œé¢‘ç‡ï¼Œä½†æ˜¯è¿™æ ·ä¼šå¯¼è‡´GCéœ€è¦æ›´é•¿çš„æš‚åœæ—¶é—´æ¥æ‰§è¡Œå†…å­˜å›æ”¶</span></li><li><span>ä»¥ä½å»¶è¿Ÿä¼˜å…ˆä¸ºåŸåˆ™ï¼Œé‚£ä¹ˆä¸ºäº†é™ä½æ¯æ¬¡æ‰§è¡Œå†…å­˜å›æ”¶æ—¶çš„æš‚åœæ—¶é—´ï¼Œä¹Ÿåªèƒ½é¢‘ç¹åœ°æ‰§è¡Œå†…å­˜å›æ”¶ï¼Œä½†è¿™åˆå¼•èµ·äº†å¹´è½»ä»£å†…å­˜çš„ç¼©å‡å’Œå¯¼è‡´ç¨‹åºååé‡çš„ä¸‹é™</span></li><li><span>é«˜ååä¸ä½æš‚åœäº’ç›¸çŸ›ç›¾</span></li></ul></li></ul></li><li><p><span>7å¤§å›æ”¶å™¨</span></p><ul><li><p><span>åˆ†ç±»</span></p><ul><li><p><span>åˆ†ä»£</span></p><ul><li><p><span>æ–°ç”Ÿä»£æ”¶é›†å™¨</span></p><ul><li><span>Serialã€ParNewã€Paralle1 Scavenge</span></li></ul></li><li><p><span>è€å¹´ä»£æ”¶é›†å™¨</span></p><ul><li><span>Serial oldã€Parallel oldã€CMS</span></li></ul></li><li><p><span>æ•´å †æ”¶é›†å™¨</span></p><ul><li><span>G1</span></li></ul></li></ul></li><li><p><span>çº¿ç¨‹æ•°</span></p><ul><li><p><span>ä¸²è¡Œå›æ”¶å™¨</span></p><ul><li><span>Serialã€Serial old</span></li></ul></li><li><p><span>å¹¶è¡Œå›æ”¶å™¨</span></p><ul><li><span>ParNewã€Parallel Scavengeã€Parallel old</span></li></ul></li><li><p><span>å¹¶å‘å›æ”¶å™¨</span></p><ul><li><span>CMSã€G11</span></li></ul></li></ul></li></ul></li><li><p><span>é…å¯¹</span></p></li><li><p><span>Serial</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>å¤åˆ¶ç®—æ³• + ä¸²è¡Œå›æ”¶ + &quot;stop-the-World&quot;æœºåˆ¶çš„æ–¹å¼æ‰§è¡Œå†…å­˜å›æ”¶</span></li><li><span>HotSpotä¸­clientæ¨¡å¼ä¸‹çš„é»˜è®¤æ–°ç”Ÿä»£åƒåœ¾æ”¶é›†å™¨ã€‚</span></li></ul></li></ul></li><li><p><span>Serial Old</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>æ ‡å¿—-å‹ç¼©ç®—æ³• + ä¸²è¡Œå›æ”¶ + &quot;stop-the-World&quot;æœºåˆ¶çš„æ–¹å¼æ‰§è¡Œå†…å­˜å›æ”¶</span></li><li><span>è¿è¡Œåœ¨Clientæ¨¡å¼ä¸‹é»˜è®¤çš„è€å¹´ä»£çš„åƒåœ¾å›æ”¶å™¨</span></li></ul></li><li><p><span>Serveræ¨¡å¼</span></p><ul><li><span>ä¸æ–°ç”Ÿä»£çš„Parallel scavengeé…åˆä½¿ç”¨</span></li><li><span>ä½œä¸ºè€å¹´ä»£CMSæ”¶é›†å™¨çš„åå¤‡åƒåœ¾æ”¶é›†æ–¹æ¡ˆ</span></li></ul></li></ul></li><li><p><span>ParNew</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>å¤åˆ¶ç®—æ³•+ å¹¶è¡Œå›æ”¶ + &quot;stop-the-World&quot;æœºåˆ¶</span></li><li><span>è¿è¡Œåœ¨Serveræ¨¡å¼ä¸‹æ–°ç”Ÿä»£çš„é»˜è®¤åƒåœ¾æ”¶é›†å™¨</span></li></ul></li><li><p><span>åœºæ™¯</span></p><ul><li><span>å¯¹äºæ–°ç”Ÿä»£ï¼Œå›æ”¶æ¬¡æ•°é¢‘ç¹ï¼Œä½¿ç”¨å¹¶è¡Œæ–¹å¼é«˜æ•ˆã€‚</span></li><li><span>å¯¹äºè€å¹´ä»£ï¼Œå›æ”¶æ¬¡æ•°å°‘ï¼Œä½¿ç”¨ä¸²è¡Œæ–¹å¼èŠ‚çœèµ„æºã€‚ï¼ˆCPUå¹¶è¡Œéœ€è¦åˆ‡æ¢çº¿ç¨‹ï¼Œä¸²è¡Œå¯ä»¥çœå»åˆ‡æ¢çº¿ç¨‹çš„èµ„æºï¼‰</span></li></ul></li></ul></li><li><p><span>Parallel(ååé‡ä¼˜å…ˆ)</span></p><ul><li><p><span>Parallel Scavenge</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>å¤åˆ¶ç®—æ³•+ å¹¶è¡Œå›æ”¶ + &quot;stop-the-World&quot;æœºåˆ¶</span></li><li><span>ç›®æ ‡åˆ™æ˜¯è¾¾åˆ°ä¸€ä¸ªå¯æ§åˆ¶çš„ååé‡ï¼ˆThroughputï¼‰</span></li></ul></li></ul></li><li><p><span>Parallel Old</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>æ ‡è®°-å‹ç¼©ç®—æ³• + å¹¶è¡Œå›æ”¶ + &quot;stop-the-World&quot;æœºåˆ¶</span></li></ul></li></ul></li><li><p><span>ä¸€èˆ¬ç”¨äºServeræ¨¡å¼</span></p></li></ul></li><li><p><span>CMS(ä½å»¶è¿Ÿ)</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>æ ‡è®°-æ¸…é™¤ç®—æ³• + å¹¶å‘å›æ”¶ + &quot;stop-the-World&quot;æœºåˆ¶</span></li><li><span>ç¬¬ä¸€æ¬¡å®ç°äº†è®©åƒåœ¾æ”¶é›†çº¿ç¨‹ä¸ç”¨æˆ·çº¿ç¨‹åŒæ—¶å·¥ä½œ</span></li><li><span>å°½å¯èƒ½ç¼©çŸ­åƒåœ¾æ”¶é›†æ—¶ç”¨æˆ·çº¿ç¨‹çš„åœé¡¿æ—¶é—´</span></li></ul></li><li><p><span>æ‰§è¡Œè¿‡ç¨‹</span></p><ul><li><p><span>åˆå§‹æ ‡è®°é˜¶æ®µ</span></p><ul><li><span>ç¨‹åºä¸­æ‰€æœ‰çš„å·¥ä½œçº¿ç¨‹éƒ½å°†ä¼šå› ä¸ºâ€œstop-the-worldâ€æœºåˆ¶è€Œå‡ºç°çŸ­æš‚çš„æš‚åœ</span></li><li><span>ä»…ä»…åªæ˜¯æ ‡è®°å‡ºGCRootsèƒ½ç›´æ¥å…³è”åˆ°çš„å¯¹è±¡</span></li></ul></li><li><p><span>å¹¶å‘æ ‡è®°é˜¶æ®µ</span></p><ul><li><span>ä»Gc Rootsçš„ç›´æ¥å…³è”å¯¹è±¡å¼€å§‹éå†æ•´ä¸ªå¯¹è±¡å›¾</span></li><li><span>ä¸éœ€è¦åœé¡¿ç”¨æˆ·çº¿ç¨‹ï¼Œå¯ä»¥ä¸åƒåœ¾æ”¶é›†çº¿ç¨‹ä¸€èµ·å¹¶å‘è¿è¡Œã€‚</span></li></ul></li><li><p><span>é‡æ–°æ ‡è®°é˜¶æ®µ</span></p><ul><li><span>ä¿®æ­£å¹¶å‘æ ‡è®°æœŸé—´ï¼Œå› ç”¨æˆ·ç¨‹åºç»§ç»­è¿ä½œè€Œå¯¼è‡´æ ‡è®°äº§ç”Ÿå˜åŠ¨çš„é‚£ä¸€éƒ¨åˆ†å¯¹è±¡çš„æ ‡è®°è®°å½•</span></li></ul></li><li><p><span>å¹¶å‘æ¸…é™¤é˜¶æ®µ</span></p><ul><li><span>æ¸…ç†åˆ é™¤æ‰æ ‡è®°é˜¶æ®µåˆ¤æ–­çš„å·²ç»æ­»äº¡çš„å¯¹è±¡ï¼Œé‡Šæ”¾å†…å­˜ç©ºé—´</span></li><li><span>ä¸éœ€è¦ç§»åŠ¨å­˜æ´»å¯¹è±¡ï¼Œæ‰€ä»¥è¿™ä¸ªé˜¶æ®µä¹Ÿæ˜¯å¯ä»¥ä¸ç”¨æˆ·çº¿ç¨‹åŒæ—¶å¹¶å‘çš„</span></li></ul></li></ul></li><li><p><span>ä¼˜ç¼ºç‚¹</span></p><ul><li><p><span>ä¼˜ç‚¹</span></p><ul><li><span>å¹¶å‘æ”¶é›†</span></li><li><span>ä½å»¶è¿Ÿ</span></li><li><span>è‹¥å¹²æ¬¡Gcåè¿›è¡Œä¸€æ¬¡ç¢ç‰‡æ•´ç†</span></li></ul></li><li><p><span>ç¼ºç‚¹</span></p><ul><li><p><span>ä¼šäº§ç”Ÿå†…å­˜ç¢ç‰‡</span></p><ul><li><span>æ ‡è®°-æ¸…é™¤ç®—æ³•äº§ç”Ÿ</span></li></ul></li><li><p><span>CMSæ”¶é›†å™¨å¯¹CPUèµ„æºéå¸¸æ•æ„Ÿ</span></p><ul><li><span>CMSå ç”¨ä¸€éƒ¨åˆ†çº¿ç¨‹ï¼Œåœ¨å¹¶å‘é˜¶æ®µä¼šé™ä½æ€»ååé‡ï¼Œä½¿ç¨‹åºå˜æ…¢</span></li></ul></li><li><p><span>CMSæ”¶é›†å™¨æ— æ³•å¤„ç†æµ®åŠ¨åƒåœ¾</span></p><ul><li><span>å¹¶å‘æ ‡è®°é˜¶æ®µäº§ç”Ÿçš„åƒåœ¾å¯¹è±¡æ— æ³•è¢«æ ‡è®°</span></li></ul></li></ul></li></ul></li><li><p><span>æµ®åŠ¨åƒåœ¾</span></p><ul><li><span>å¹¶å‘æ ‡è®°é˜¶æ®µäº§ç”Ÿçš„æ–°çš„åƒåœ¾å¯¹è±¡ï¼Œæ— æ³•å¯¹å…¶è¿›è¡Œæ ‡è®°</span></li></ul></li><li><p><span>æ³¨æ„äº‹é¡¹</span></p><ul><li><span>ç”±äºåœ¨åƒåœ¾æ”¶é›†é˜¶æ®µç”¨æˆ·çº¿ç¨‹æ²¡æœ‰ä¸­æ–­ï¼Œæ‰€ä»¥åœ¨CMSå›æ”¶è¿‡ç¨‹ä¸­ï¼Œè¿˜åº”è¯¥ç¡®ä¿åº”ç”¨ç¨‹åºç”¨æˆ·çº¿ç¨‹æœ‰è¶³å¤Ÿçš„å†…å­˜å¯ç”¨ã€‚</span></li><li><span>CMSæ”¶é›†å™¨ä¸èƒ½åƒå…¶ä»–æ”¶é›†å™¨é‚£æ ·ç­‰åˆ°è€å¹´ä»£å‡ ä¹å®Œå…¨è¢«å¡«æ»¡äº†å†è¿›è¡Œæ”¶é›†ï¼Œè€Œæ˜¯å½“å †å†…å­˜ä½¿ç”¨ç‡è¾¾åˆ°æŸä¸€é˜ˆå€¼æ—¶ï¼Œä¾¿å¼€å§‹è¿›è¡Œå›æ”¶ï¼Œä»¥ç¡®ä¿åº”ç”¨ç¨‹åºåœ¨CMSå·¥ä½œè¿‡ç¨‹ä¸­ä¾ç„¶æœ‰è¶³å¤Ÿçš„ç©ºé—´æ”¯æŒåº”ç”¨ç¨‹åºè¿è¡Œã€‚</span></li><li><span>CMSè¿è¡ŒæœŸé—´é¢„ç•™çš„å†…å­˜æ— æ³•æ»¡è¶³ç¨‹åºéœ€è¦ï¼Œä¸´æ—¶å¯ç”¨Serial oldæ”¶é›†å™¨æ¥é‡æ–°è¿›è¡Œè€å¹´ä»£çš„åƒåœ¾æ”¶é›†ï¼Œåœé¡¿æ—¶é—´åŠ é•¿ã€‚</span></li></ul></li></ul></li><li><p><span>G1(åŒºåŸŸåŒ–åˆ†ä»£å¼)</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>ä¸€æ¬¾é¢å‘æœåŠ¡ç«¯åº”ç”¨çš„åƒåœ¾æ”¶é›†å™¨ï¼Œä¸»è¦é’ˆå¯¹é…å¤‡å¤šæ ¸CPUåŠå¤§å®¹é‡å†…å­˜çš„æœºå™¨ï¼Œä»¥æé«˜æ¦‚ç‡æ»¡è¶³GCåœé¡¿æ—¶é—´çš„åŒæ—¶ï¼Œè¿˜å…¼å…·é«˜ååé‡çš„æ€§èƒ½ç‰¹å¾ã€‚</span></li><li><span>ä¸€ä¸ªå¹¶è¡Œå›æ”¶å™¨ï¼Œå®ƒæŠŠå †å†…å­˜åˆ†å‰²ä¸ºå¾ˆå¤šä¸ç›¸å…³çš„åŒºåŸŸï¼ˆRegionï¼‰ï¼ˆç‰©ç†ä¸Šä¸è¿ç»­çš„ï¼‰ã€‚ä½¿ç”¨ä¸åŒçš„Regionæ¥è¡¨ç¤ºEdenã€å¹¸å­˜è€…0åŒºï¼Œå¹¸å­˜è€…1åŒºï¼Œè€å¹´ä»£ç­‰ã€‚</span></li><li><span>G1 GCæœ‰è®¡åˆ’åœ°é¿å…åœ¨æ•´ä¸ªJavaå †ä¸­è¿›è¡Œå…¨åŒºåŸŸçš„åƒåœ¾æ”¶é›†ã€‚</span></li><li><span>G1è·Ÿè¸ªå„ä¸ªRegioné‡Œé¢çš„åƒåœ¾å †ç§¯çš„ä»·å€¼å¤§å°ï¼ˆå›æ”¶æ‰€è·å¾—çš„ç©ºé—´å¤§å°ä»¥åŠå›æ”¶æ‰€éœ€æ—¶é—´çš„ç»éªŒå€¼ï¼‰ï¼Œåœ¨åå°ç»´æŠ¤ä¸€ä¸ªä¼˜å…ˆåˆ—è¡¨ï¼Œæ¯æ¬¡æ ¹æ®å…è®¸çš„æ”¶é›†æ—¶é—´ï¼Œä¼˜å…ˆå›æ”¶ä»·å€¼æœ€å¤§çš„Regionã€‚</span></li><li><span>ä¿è¯äº†G1æ”¶é›†å™¨åœ¨æœ‰é™çš„æ—¶é—´å†…å¯ä»¥è·å–å°½å¯èƒ½é«˜çš„æ”¶é›†æ•ˆç‡ã€‚</span></li></ul></li><li><p><span>åœºæ™¯</span></p><ul><li><span>é¢å‘æœåŠ¡ç«¯åº”ç”¨ï¼Œé’ˆå¯¹å…·æœ‰å¤§å†…å­˜ã€å¤šå¤„ç†å™¨çš„æœºå™¨ã€‚</span></li></ul></li><li><p><span>ä¼˜ç¼ºç‚¹</span></p><ul><li><p><span>ä¼˜ç‚¹</span></p><ul><li><p><span>å¹¶è¡Œæ€§ï¼šG1åœ¨å›æ”¶æœŸé—´ï¼Œå¯ä»¥æœ‰å¤šä¸ªGCçº¿ç¨‹åŒæ—¶å·¥ä½œï¼Œæœ‰æ•ˆåˆ©ç”¨å¤šæ ¸è®¡ç®—èƒ½åŠ›ã€‚æ­¤æ—¶ç”¨æˆ·çº¿ç¨‹STW</span></p></li><li><p><span>å¹¶å‘æ€§ï¼šG1æ‹¥æœ‰ä¸åº”ç”¨ç¨‹åºäº¤æ›¿æ‰§è¡Œçš„èƒ½åŠ›ï¼Œéƒ¨åˆ†å·¥ä½œå¯ä»¥å’Œåº”ç”¨ç¨‹åºåŒæ—¶æ‰§è¡Œï¼Œå› æ­¤ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œä¸ä¼šåœ¨æ•´ä¸ªå›æ”¶é˜¶æ®µå‘ç”Ÿå®Œå…¨é˜»å¡åº”ç”¨ç¨‹åºçš„æƒ…å†µ</span></p></li><li><p><span>åˆ†ä»£æ”¶é›†</span></p><ul><li><span>å¯ä»¥å·¥ä½œåœ¨è€å¹´ä»£å’Œå¹´è½»ä»£</span></li></ul></li><li><p><span>ç©ºé—´æ•´åˆ</span></p><ul><li><span>G1å°†å†…å­˜åˆ’åˆ†ä¸ºä¸€ä¸ªä¸ªçš„regionã€‚å†…å­˜çš„å›æ”¶æ˜¯ä»¥regionä½œä¸ºåŸºæœ¬å•ä½çš„ã€‚</span></li><li><span>Regionä¹‹é—´æ˜¯å¤åˆ¶ç®—æ³•ï¼Œä½†æ•´ä½“ä¸Šå®é™…å¯çœ‹ä½œæ˜¯æ ‡è®°-å‹ç¼©ï¼ˆMark-Compactï¼‰ç®—æ³•ï¼Œä¸¤ç§ç®—æ³•éƒ½å¯ä»¥é¿å…å†…å­˜ç¢ç‰‡ã€‚</span></li></ul></li><li><p><span>å¯é¢„æµ‹çš„åœé¡¿æ—¶é—´æ¨¡å‹ï¼ˆè½¯å®æ—¶soft real-timeï¼‰</span></p><ul><li><span>èƒ½å»ºç«‹å¯é¢„æµ‹çš„åœé¡¿æ—¶é—´æ¨¡å‹ï¼Œèƒ½è®©ä½¿ç”¨è€…æ˜ç¡®æŒ‡å®šåœ¨ä¸€ä¸ªé•¿åº¦ä¸ºMæ¯«ç§’çš„æ—¶é—´ç‰‡æ®µå†…ï¼Œæ¶ˆè€—åœ¨åƒåœ¾æ”¶é›†ä¸Šçš„æ—¶é—´ä¸å¾—è¶…è¿‡Næ¯«ç§’ã€‚</span></li></ul></li></ul></li><li><p><span>ç¼ºç‚¹</span></p><ul><li><span>åœ¨ç”¨æˆ·ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼ŒG1æ— è®ºæ˜¯ä¸ºäº†åƒåœ¾æ”¶é›†äº§ç”Ÿçš„å†…å­˜å ç”¨ï¼ˆFootprintï¼‰è¿˜æ˜¯ç¨‹åºè¿è¡Œæ—¶çš„é¢å¤–æ‰§è¡Œè´Ÿè½½ï¼ˆoverloadï¼‰éƒ½è¦æ¯”CMSè¦é«˜ã€‚</span></li><li><span>åœ¨å°å†…å­˜åº”ç”¨ä¸ŠCMSçš„è¡¨ç°å¤§æ¦‚ç‡ä¼šä¼˜äºG1ï¼Œè€ŒG1åœ¨å¤§å†…å­˜åº”ç”¨ä¸Šåˆ™å‘æŒ¥å…¶ä¼˜åŠ¿</span></li></ul></li></ul></li><li><p><span>åˆ†åŒºRegion(åŒ–æ•´ä¸ºé›¶)</span></p><ul><li><p><span>å®šä¹‰</span></p><ul><li><span>æ‰€æœ‰çš„Regionå¤§å°ç›¸åŒï¼Œä¸”åœ¨JVMç”Ÿå‘½å‘¨æœŸå†…ä¸ä¼šè¢«æ”¹å˜ã€‚</span></li><li><span>å°†æ•´ä¸ªJavaå †åˆ’åˆ†æˆçº¦2048ä¸ªå¤§å°ç›¸åŒçš„ç‹¬ç«‹Regionå—ï¼Œ</span></li><li><span>ä¸€ä¸ªregionæœ‰å¯èƒ½å±äºEdenï¼ŒSurvivoræˆ–è€…old/Tenuredå†…å­˜åŒºåŸŸã€‚ä½†æ˜¯ä¸€ä¸ªregionåªå¯èƒ½å±äºä¸€ä¸ªè§’è‰²ã€‚</span></li><li><span>regioné€šè¿‡æŒ‡é’ˆç¢°æ’åˆ†é…ç©ºé—´</span></li></ul></li><li><p><span>Humongous(HåŒº)</span></p><ul><li><span>ä¸»è¦ç”¨äºå­˜å‚¨å¤§å¯¹è±¡ï¼Œå¦‚æœè¶…è¿‡1.5ä¸ªregionï¼Œå°±æ”¾åˆ°Hã€‚</span></li></ul></li><li><p><span>æ³¨æ„äº‹é¡¹</span></p><ul><li><span>å¦‚æœè®¾ç½®äº†Regionæ•°é‡ï¼Œé‚£ä¹ˆRegionå¤§å°å°±ä¸æ˜¯å›ºå®šçš„ï¼Œä½†æ˜¯å¤§å°è‚¯å®šæ˜¯2çš„å¹‚æ¬¡æ–¹ï¼Œå¹¶ä¸”åœ¨1~32Mä¹‹é—´ï¼›</span></li><li><span>å¦‚æœè®¾ç½®äº†Regionå¤§å°ï¼Œé‚£ä¹ˆRegionæ•°é‡å°±ä¸æ˜¯å›ºå®šçš„ï¼Œä½†æ˜¯è‚¯å®šæ˜¯2048é™„è¿‘ï¼›</span></li></ul></li></ul></li><li><p><span>å›æ”¶è¿‡ç¨‹</span></p><ul><li><p><span>Remembered Set(è®°å¿†é›†)</span></p><ul><li><p><span>è§£å†³çš„é—®é¢˜</span></p><ul><li><p><span>ä¸€ä¸ªå¯¹è±¡è¢«ä¸åŒåŒºåŸŸå¼•ç”¨çš„é—®é¢˜</span></p></li><li><p><span>åˆ¤æ–­å¯¹è±¡å­˜æ´»æ—¶ï¼Œæ˜¯å¦éœ€è¦æ‰«ææ•´ä¸ªJavaå †æ‰èƒ½ä¿è¯å‡†ç¡®ï¼Ÿ</span></p></li><li><p><span>è€å¹´ä»£å¼•ç”¨æ–°ç”Ÿä»£ï¼Œå›æ”¶æ–°ç”Ÿä»£ä¹Ÿä¸å¾—ä¸åŒæ—¶æ‰«æè€å¹´ä»£ï¼Ÿ</span></p><ul><li><span>ä¼šé™ä½MinorGCçš„æ•ˆç‡</span></li></ul></li></ul></li><li><p><span>è§£å†³æ–¹æ¡ˆ</span></p><ul><li><p><span>1ã€æ¯ä¸ªRegionéƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„Remembered Set</span></p></li><li><p><span>2ã€æ¯æ¬¡Referenceç±»å‹æ•°æ®å†™æ“ä½œæ—¶ï¼Œéƒ½ä¼šäº§ç”Ÿä¸€ä¸ªWrite Barrieræš‚æ—¶ä¸­æ–­æ“ä½œã€‚</span></p></li><li><p><span>3ã€æ£€æŸ¥å°†è¦å†™å…¥çš„å¼•ç”¨æŒ‡å‘çš„å¯¹è±¡æ˜¯å¦å’Œè¯¥Referenceç±»å‹æ•°æ®åœ¨ä¸åŒçš„Region</span></p><ul><li><span>å…¶ä»–æ”¶é›†å™¨ï¼šæ£€æŸ¥è€å¹´ä»£å¯¹è±¡æ˜¯å¦å¼•ç”¨äº†æ–°ç”Ÿä»£å¯¹è±¡</span></li></ul></li><li><p><span>4ã€å¦‚æœä¸åŒï¼Œé€šè¿‡cardTableæŠŠç›¸å…³å¼•ç”¨ä¿¡æ¯è®°å½•åˆ°å¼•ç”¨æŒ‡å‘å¯¹è±¡çš„æ‰€åœ¨Regionå¯¹åº”çš„Remembered Setä¸­</span></p></li><li><p><span>5ã€è¿›è¡Œåƒåœ¾æ”¶é›†æ—¶ï¼Œåœ¨GCæ ¹èŠ‚ç‚¹çš„æšä¸¾èŒƒå›´åŠ å…¥Remembered Setï¼›å°±å¯ä»¥ä¿è¯ä¸è¿›è¡Œå…¨å±€æ‰«æï¼Œä¹Ÿä¸ä¼šæœ‰é—æ¼ã€‚</span></p></li></ul></li></ul></li><li><p><span>dirty card queue(è„å¡è¡¨)</span></p><ul><li><span>Resetæ›´æ–°éœ€è¦çº¿ç¨‹åŒæ­¥ï¼Œæ‰€ä»¥å¼€é”€ä¼šå¾ˆå¤§ï¼Œå› æ­¤ä¸èƒ½å®æ—¶æ›´æ–°</span></li><li><span>æŠŠå¼•ç”¨å¯¹è±¡è¢«å…¶ä»–å¯¹è±¡å¼•ç”¨çš„å…³ç³»æ”¾åœ¨ä¸€ä¸ªè„å¡è¡¨é˜Ÿåˆ—ä¸­ï¼Œ</span></li><li><span>å½“å¹´è½»ä»£å›æ”¶çš„æ—¶å€™ä¼šè¿›è¡ŒSTWï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿæ­£å¥½æŠŠè„å¡è¡¨é˜Ÿåˆ—ä¸­çš„å€¼æ›´æ–°åˆ°Rsetä¸­ï¼Œ</span></li><li><span>ä¿è¯Rsetä¸­çš„æ•°æ®æ˜¯å‡†ç¡®çš„</span></li><li><span>è®°å½•å¯èƒ½å­˜åœ¨è€å¹´ä»£åˆ°æ–°ç”Ÿä»£å¼•ç”¨çš„å†…å­˜åŒºåŸŸ</span></li></ul></li><li><p><span>æ‰§è¡Œæµç¨‹</span></p><ul><li><p><span>å¹´è½»ä»£GCï¼ˆYoung GCï¼‰</span></p><ul><li><p><span>æ‰«ææ ¹</span></p><ul><li><span>staticå˜é‡æŒ‡å‘çš„å¯¹è±¡ï¼Œæ­£åœ¨æ‰§è¡Œçš„æ–¹æ³•è°ƒç”¨é“¾æ¡ä¸Šçš„å±€éƒ¨å˜é‡ç­‰ï¼Œè¿åŒRSetè®°å½•çš„å¤–éƒ¨å¼•ç”¨ä½œä¸ºæ‰«æå­˜æ´»å¯¹è±¡çš„å…¥å£ã€‚</span></li></ul></li><li><p><span>æ›´æ–°RSet</span></p><ul><li><span>å¤„ç†dirty card queueï¼ˆè§å¤‡æ³¨ï¼‰ä¸­çš„cardï¼Œæ›´æ–°RSetã€‚</span></li></ul></li><li><p><span>å¤„ç†RSet</span></p><ul><li><span>è¯†åˆ«è¢«è€å¹´ä»£å¯¹è±¡æŒ‡å‘çš„Edenä¸­çš„å¯¹è±¡ä¸ºå­˜æ´»å¯¹è±¡</span></li></ul></li><li><p><span>å¤åˆ¶å¯¹è±¡</span></p><ul><li><p><span>å¯¹è±¡æ ‘è¢«éå†ï¼ŒEdenåŒºå†…å­˜æ®µä¸­å­˜æ´»çš„å¯¹è±¡ä¼šè¢«å¤åˆ¶åˆ°SurvivoråŒºä¸­ç©ºçš„å†…å­˜åˆ†æ®µ</span></p><ul><li><span>SurvivoråŒºå†…å­˜æ®µä¸­å­˜æ´»çš„å¯¹è±¡å¦‚æœå¹´é¾„æœªè¾¾é˜ˆå€¼ï¼Œå¹´é¾„ä¼šåŠ 1ï¼Œè¾¾åˆ°é˜€å€¼ä¼šè¢«ä¼šè¢«å¤åˆ¶åˆ°oldåŒºä¸­ç©ºçš„å†…å­˜åˆ†æ®µ</span></li><li><span>å¦‚æœSurvivorç©ºé—´ä¸å¤Ÿï¼ŒEdenç©ºé—´çš„éƒ¨åˆ†æ•°æ®ä¼šç›´æ¥æ™‹å‡åˆ°è€å¹´ä»£ç©ºé—´ã€‚</span></li></ul></li></ul></li><li><p><span>å¤„ç†å¼•ç”¨</span></p><ul><li><span>å¤„ç†Softï¼ŒWeakï¼ŒPhantomï¼ŒFinalï¼ŒJNI Weak ç­‰å¼•ç”¨ã€‚</span></li></ul></li></ul></li><li><p><span>è€å¹´ä»£å¹¶å‘æ ‡è®°è¿‡ç¨‹ï¼ˆConcurrent Markingï¼‰</span></p><ul><li><p><span>åˆå§‹æ ‡è®°é˜¶æ®µ</span></p><ul><li><span>æ ‡è®°ä»æ ¹èŠ‚ç‚¹ç›´æ¥å¯è¾¾çš„å¯¹è±¡ã€‚è¿™ä¸ªé˜¶æ®µæ˜¯sTwçš„ï¼Œå¹¶ä¸”ä¼šè§¦å‘ä¸€æ¬¡å¹´è½»ä»£GC</span></li></ul></li><li><p><span>æ ¹åŒºåŸŸæ‰«æ</span></p><ul><li><span>G1 Gcæ‰«æsurvivoråŒºç›´æ¥å¯è¾¾çš„è€å¹´ä»£åŒºåŸŸå¯¹è±¡ï¼Œå¹¶æ ‡è®°è¢«å¼•ç”¨çš„å¯¹è±¡ã€‚</span></li><li><span>è¿™ä¸€è¿‡ç¨‹å¿…é¡»åœ¨youngGCä¹‹å‰å®Œæˆã€‚è¿›è¡Œyoung GCçš„æ—¶å€™ä¼šç§»åŠ¨SurvivoråŒºï¼Œç§»åŠ¨ä¹‹åå°±æ‰¾ä¸åˆ°å“ªäº›è€å¹´ä»£å¯¹è±¡æ˜¯å¯è¾¾çš„äº†ã€‚</span></li></ul></li><li><p><span>å¹¶å‘æ ‡è®°</span></p><ul><li><span>åœ¨æ•´ä¸ªå †ä¸­è¿›è¡Œå¹¶å‘æ ‡è®°ï¼ˆå’Œåº”ç”¨ç¨‹åºå¹¶å‘æ‰§è¡Œï¼‰ï¼Œå¯èƒ½ä¼šè¢«YGCæ‰“æ–­ã€‚</span></li><li><span>è‹¥å‘ç°åŒºåŸŸå¯¹è±¡ä¸­çš„æ‰€æœ‰å¯¹è±¡éƒ½æ˜¯åƒåœ¾ï¼Œé‚£è¿™ä¸ªåŒºåŸŸä¼šè¢«ç«‹å³å›æ”¶ã€‚åŒæ—¶ï¼Œå¹¶å‘æ ‡è®°è¿‡ç¨‹ä¸­ï¼Œä¼šè®¡ç®—æ¯ä¸ªåŒºåŸŸçš„å¯¹è±¡æ´»æ€§</span></li></ul></li><li><p><span>å†æ¬¡æ ‡è®°</span></p><ul><li><p><span>ç”±äºåº”ç”¨ç¨‹åºæŒç»­è¿›è¡Œï¼Œéœ€è¦ä¿®æ­£ä¸Šä¸€æ¬¡çš„æ ‡è®°ç»“æœ</span></p><ul><li><span>é‡‡ç”¨äº†æ¯”CMSæ›´å¿«çš„åˆå§‹å¿«ç…§ç®—æ³•ï¼šsnapshot-at-the-beginningï¼ˆSATBï¼‰ã€‚</span></li></ul></li></ul></li><li><p><span>ç‹¬å æ¸…ç†</span></p><ul><li><span>è®¡ç®—å„ä¸ªåŒºåŸŸçš„å­˜æ´»å¯¹è±¡å’ŒGCå›æ”¶æ¯”ä¾‹ï¼Œå¹¶è¿›è¡Œæ’åºï¼Œè¯†åˆ«å¯ä»¥æ··åˆå›æ”¶çš„åŒºåŸŸ</span></li></ul></li><li><p><span>å¹¶å‘æ¸…ç†é˜¶æ®µ</span></p><ul><li><span>è¯†åˆ«å¹¶æ¸…ç†å®Œå…¨ç©ºé—²çš„åŒºåŸŸ</span></li></ul></li></ul></li><li><p><span>æ··åˆå›æ”¶ï¼ˆMixed GCï¼‰</span></p></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul><h3 id='å­ä¸»é¢˜-29'><span>å­ä¸»é¢˜ 29</span></h3><p><span>### </span></p><h3 id='ç±»å‘ç”Ÿåˆå§‹åŒ–çš„æ—¶æœº'><span>ç±»å‘ç”Ÿåˆå§‹åŒ–çš„æ—¶æœºï¼Ÿ</span></h3><ul><li><p><span>ç±»çš„ä¸»åŠ¨å¼•ç”¨</span></p><ul><li><span>1ã€å½“è™šæ‹Ÿæœºå¯åŠ¨ï¼Œå…ˆåˆå§‹åŒ–mainæ–¹æ³•æ‰€åœ¨çš„ç±»</span></li><li><span>2ã€newä¸€ä¸ªç±»çš„å¯¹è±¡</span></li><li><span>3ã€è°ƒç”¨ç±»çš„é™æ€æˆå‘˜ï¼ˆé™¤äº†finalå¸¸é‡ï¼‰å’Œé™æ€æ–¹æ³•</span></li><li><span>4ã€ä½¿ç”¨java.lang.reflectåŒ…çš„æ–¹æ³•å¯¹ç±»è¿›è¡Œåå°„è°ƒç”¨</span></li><li><span>5ã€å½“åˆå§‹åŒ–ä¸€ä¸ªç±»ï¼Œå¦‚æœå…¶çˆ¶ç±»æ²¡æœ‰è¢«åˆå§‹åŒ–ï¼Œåˆ™å…ˆä¼šåˆå§‹åŒ–å®ƒçš„çˆ¶ç±»</span></li></ul></li><li><p><span>ç±»çš„è¢«åŠ¨å¼•ç”¨</span></p><ul><li><p><span>1ã€å½“è®¿é—®ä¸€ä¸ªé™æ€åŸŸæ—¶ï¼Œåªæœ‰çœŸæ­£å£°æ˜è¿™ä¸ªåŸŸçš„ç±»æ‰ä¼šè¢«åˆå§‹åŒ–</span></p><ul><li><span>å½“é€šè¿‡å­ç±»å¼•ç”¨çˆ¶ç±»çš„é™æ€å˜é‡ï¼Œä¸ä¼šå¯¼è‡´å­ç±»åˆå§‹åŒ–ï¼Œåªæ˜¯å­˜æ”¾äº†æŒ‡å‘è¿™ä¸ªå˜é‡çš„å¼•ç”¨</span></li></ul></li><li><p><span>2ã€é€šè¿‡æ•°ç»„å®šä¹‰ç±»å¼•ç”¨ï¼Œä¸ä¼šè§¦å‘æ­¤ç±»çš„åˆå§‹åŒ–</span></p><ul><li><span>åªæ˜¯å®šä¹‰äº†ä¸€ä¸ªå˜é‡åå’Œå¼€è¾Ÿäº†ä¸€å—ç©ºé—´</span></li></ul></li><li><p><span>3ã€å¼•ç”¨å¸¸é‡ä¸ä¼šè§¦å‘æ­¤ç±»çš„åˆå§‹åŒ–</span></p><ul><li><span>å¸¸é‡åœ¨é“¾æ¥é˜¶æ®µå°±å­˜å…¥è°ƒç”¨ç±»çš„å¸¸é‡æ± ä¸­äº†</span></li></ul></li></ul></li></ul><h3 id='åŠ è½½classæ–‡ä»¶çš„æ–¹å¼'><span>åŠ è½½classæ–‡ä»¶çš„æ–¹å¼ï¼Ÿ</span></h3><ul><li><span>ä»æœ¬åœ°ç³»ç»Ÿä¸­ç›´æ¥åŠ è½½</span></li><li><span>ä»zipå‹ç¼©åŒ…ä¸­è¯»å–ï¼Œæˆä¸ºæ—¥åjarã€waræ ¼å¼çš„åŸºç¡€</span></li><li><span>é€šè¿‡ç½‘ç»œè·å–ï¼Œå…¸å‹åœºæ™¯ï¼šWeb Applet</span></li><li><span>ä»åŠ å¯†æ–‡ä»¶ä¸­è·å–ï¼Œå…¸å‹çš„é˜²Classæ–‡ä»¶è¢«åç¼–è¯‘çš„ä¿æŠ¤æªæ–½</span></li></ul><h3 id='ä¸ºä»€ä¹ˆè¦æŠŠç¬¦å·å¼•ç”¨è½¬ä¸ºç›´æ¥å¼•ç”¨'><span>ä¸ºä»€ä¹ˆè¦æŠŠç¬¦å·å¼•ç”¨è½¬ä¸ºç›´æ¥å¼•ç”¨ï¼Ÿ</span></h3><ul><li><span>classæ–‡ä»¶åŠ è½½æ—¶è¿˜æ²¡æœ‰è¿›å…¥å†…å­˜ï¼Œæ²¡æœ‰å˜é‡å’Œæ–¹æ³•çš„çœŸå®åœ°å€ï¼Œåªèƒ½ç”¨ç¬¦å·ä»£æ›¿ï¼ŒçœŸæ­£ç”¨æ—¶æ‰è¿›è¡Œè½¬æ¢</span></li></ul><h3 id='ä¸ºä»€ä¹ˆè¦è‡ªå®šä¹‰ç±»åŠ è½½å™¨'><span>ä¸ºä»€ä¹ˆè¦è‡ªå®šä¹‰ç±»åŠ è½½å™¨ï¼Ÿ</span></h3><ul><li><p><span>éš”ç¦»åŠ è½½ç±»</span></p><ul><li><span>ä¸€ä¸ªå·¥ç¨‹å¼•ç”¨å¤šä¸ªæ¡†æ¶æ—¶ï¼ŒæŸäº›ç±»çš„è·¯å¾„ã€ç±»åä¸€è‡´ï¼Œäº§ç”Ÿå†²çª</span></li></ul></li><li><p><span>ä¿®æ”¹ç±»åŠ è½½çš„æ–¹å¼</span></p><ul><li><span>è‡ªå®šä¹‰åŠ è½½é€»è¾‘</span></li></ul></li><li><p><span>æ‰©å±•åŠ è½½æº</span></p><ul><li><span>æŒ‡å®šæ–¹å¼åŠ è½½ç±»åº“(é€šè¿‡æ•°æ®åº“ã€ç”µè§†æœºçš„æœºé¡¶ç›’ç­‰ç­‰æ¥æ‰©å±•åŠ è½½æº)</span></li></ul></li><li><p><span>é˜²æ­¢æºç æ³„æ¼</span></p><ul><li><span>å¯ä»¥å¯¹å­—èŠ‚ç æ–‡ä»¶è¿›è¡ŒåŠ å¯†ï¼Œåªè¦è‡ªå®šä¹‰ç±»åŠ è½½å™¨æ‰èƒ½è§£å¯†</span></li></ul></li></ul><p><span>### </span></p><h3 id='javaå †heapè·Ÿæ ˆstackçš„åŒºåˆ«'><span>Javaå †(Heap)è·Ÿæ ˆ(Stack)çš„åŒºåˆ«ï¼Ÿ</span></h3><ul><li><span>1ã€æ ˆæ˜¯è¿è¡Œæ—¶çš„å•ä½ï¼Œè€Œå †æ˜¯å­˜å‚¨çš„å•ä½</span></li><li><span>2ã€æ ˆè§£å†³ç¨‹åºçš„è¿è¡Œé—®é¢˜ï¼Œå³ç¨‹åºå¦‚ä½•æ‰§è¡Œï¼Œæˆ–è€…è¯´å¦‚ä½•å¤„ç†æ•°æ®</span></li><li><span>3ã€å †è§£å†³çš„æ˜¯æ•°æ®å­˜å‚¨çš„é—®é¢˜ï¼Œå³æ•°æ®æ€ä¹ˆæ”¾ï¼Œæ”¾å“ªé‡Œ</span></li></ul><h3 id='æ ˆå¯èƒ½å‡ºç°çš„é—®é¢˜'><span>æ ˆå¯èƒ½å‡ºç°çš„é—®é¢˜ï¼Ÿ</span></h3><ul><li><p><span>StackoverflowError</span></p><ul><li><p><span>é‡‡ç”¨å›ºå®šå¤§å°çš„Javaè™šæ‹Ÿæœºæ ˆ</span></p><ul><li><span>çº¿ç¨‹è¯·æ±‚åˆ†é…çš„æ ˆå®¹é‡è¶…è¿‡Javaè™šæ‹Ÿæœºæ ˆå…è®¸çš„æœ€å¤§å®¹é‡</span></li></ul></li></ul></li><li><p><span>outofMemoryError </span></p><ul><li><p><span>Javaè™šæ‹Ÿæœºæ ˆå¯ä»¥åŠ¨æ€æ‰©å±•</span></p><ul><li><p><span>å°è¯•æ‰©å±•çš„æ—¶å€™æ— æ³•ç”³è¯·åˆ°è¶³å¤Ÿçš„å†…å­˜</span></p><ul><li></li></ul></li><li><p><span>åœ¨åˆ›å»ºæ–°çš„çº¿ç¨‹æ—¶æ²¡æœ‰è¶³å¤Ÿçš„å†…å­˜å»åˆ›å»ºå¯¹åº”çš„è™šæ‹Ÿæœºæ ˆ</span></p><ul><li><span>Integerå­˜æ”¾Longç±»å‹</span></li></ul></li></ul></li></ul></li></ul><h3 id='ä¸¾ä¾‹æ ˆæº¢å‡ºoomçš„æƒ…å†µ'><span>ä¸¾ä¾‹æ ˆæº¢å‡º(OOM)çš„æƒ…å†µï¼Ÿ</span></h3><ul><li><p><span>æƒ…å†µ</span></p><ul><li><p><span>1ã€é€’å½’è°ƒç”¨</span></p></li><li><p><span>2ã€å¤§é‡å¾ªç¯æˆ–æ­»å¾ªç¯</span></p></li><li><p><span>3ã€å…¨å±€å˜é‡æ˜¯å¦è¿‡å¤š</span></p><ul><li><span>å±€éƒ¨å˜é‡è¡¨è¿‡å¤§</span></li></ul></li><li><p><span>4ã€æ•°ç»„ã€Listã€mapæ•°æ®æ˜¯å¦è¿‡å¤§</span></p></li></ul></li><li><p><span>è§£å†³æ–¹æ¡ˆ</span></p><ul><li><span>ä½¿ç”¨DDMSå·¥å…·è¿›è¡ŒæŸ¥æ‰¾å¤§æ¦‚å‡ºç°æ ˆæº¢å‡ºçš„ä½ç½®</span></li></ul></li></ul><h3 id='è°ƒæ•´æ ˆå¤§å°å°±èƒ½ä¿è¯ä¸å‡ºç°æº¢å‡ºä¹ˆ'><span>è°ƒæ•´æ ˆå¤§å°ï¼Œå°±èƒ½ä¿è¯ä¸å‡ºç°æº¢å‡ºä¹ˆï¼Ÿ</span></h3><ul><li><span>ä¸èƒ½ï¼Œè¿˜æ˜¯å­˜åœ¨</span></li></ul><h3 id='åˆ†é…çš„æ ˆå†…å­˜è¶Šå¤§è¶Šå¥½ä¹ˆ'><span>åˆ†é…çš„æ ˆå†…å­˜è¶Šå¤§è¶Šå¥½ä¹ˆï¼Ÿ</span></h3><ul><li><span>ä¸æ˜¯ï¼Œä¸€å®šæ—¶é—´å†…é™ä½äº†OOMæ¦‚ç‡ï¼Œä½†æ˜¯ä¼šæŒ¤å å…¶å®ƒçš„çº¿ç¨‹ç©ºé—´ï¼Œå› ä¸ºæ•´ä¸ªç©ºé—´æ˜¯æœ‰é™çš„</span></li></ul><h3 id='åƒåœ¾å›æ”¶æ˜¯å¦æ¶‰åŠåˆ°è™šæ‹Ÿæœºæ ˆ'><span>åƒåœ¾å›æ”¶æ˜¯å¦æ¶‰åŠåˆ°è™šæ‹Ÿæœºæ ˆï¼Ÿ</span></h3><ul><li><span>ä¸ä¼šï¼Œåªæœ‰å…¥æ ˆå‡ºæ ˆæ“ä½œï¼Œä¸ä¿ç•™æ•°æ®</span></li></ul><h3 id='æ–¹æ³•ä¸­å®šä¹‰çš„å±€éƒ¨å˜é‡æ˜¯å¦çº¿ç¨‹å®‰å…¨'><span>æ–¹æ³•ä¸­å®šä¹‰çš„å±€éƒ¨å˜é‡æ˜¯å¦çº¿ç¨‹å®‰å…¨ï¼Ÿ</span></h3><ul><li><span>å¦‚æœå¯¹è±¡æ˜¯åœ¨å†…éƒ¨äº§ç”Ÿï¼Œå¹¶åœ¨å†…éƒ¨æ¶ˆäº¡ï¼Œæ²¡æœ‰è¿”å›åˆ°å¤–éƒ¨ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œåä¹‹åˆ™æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„</span></li></ul><h3 id='ä¸ºä»€ä¹ˆprivateä¿®é¥°çš„æ–¹æ³•æ— æ³•thisè°ƒç”¨'><span>ä¸ºä»€ä¹ˆprivateä¿®é¥°çš„æ–¹æ³•æ— æ³•thisè°ƒç”¨ï¼Ÿ</span></h3><ul><li><span>thiså˜é‡ä¸å­˜åœ¨äºå±€éƒ¨å˜é‡è¡¨ä¸­</span></li></ul><h3 id='é™æ€å˜é‡å’Œå±€éƒ¨å˜é‡çš„åŒºåˆ«'><span>é™æ€å˜é‡å’Œå±€éƒ¨å˜é‡çš„åŒºåˆ«ï¼Ÿ</span></h3><ul><li><span>ç±»å˜é‡æœ‰ä¸¤æ¬¡åˆå§‹åŒ–æ—¶æœº(å‡†å¤‡ã€åˆå§‹åŒ–)ï¼Œå±€éƒ¨å˜é‡æ²¡æœ‰ç³»ç»Ÿåˆå§‹åŒ–è¿‡ç¨‹ã€‚</span></li><li><span>ç±»å˜é‡æ²¡æœ‰èµ‹å€¼å¯ä»¥ä½¿ç”¨ï¼Œæ–¹æ³•å†…å±€éƒ¨å˜é‡ä¸è¡Œ</span></li></ul><h3 id='æ ˆé¡¶ç¼“å­˜æŠ€æœ¯'><span>æ ˆé¡¶ç¼“å­˜æŠ€æœ¯ï¼Ÿ</span></h3><ul><li><span>ç”±äºæ“ä½œæ•°æ˜¯å­˜å‚¨åœ¨å†…å­˜ä¸­çš„ï¼Œå°†æ ˆé¡¶å…ƒç´ å…¨éƒ¨ç¼“å­˜åœ¨ç‰©ç†CPUçš„å¯„å­˜å™¨ä¸­ï¼Œä»¥æ­¤é™ä½å¯¹å†…å­˜çš„è¯»/å†™æ¬¡æ•°ï¼Œæå‡æ‰§è¡Œå¼•æ“çš„æ‰§è¡Œæ•ˆç‡ã€‚</span></li></ul><h3 id='ä¸ºä»€ä¹ˆéœ€è¦å¸¸é‡æ± è¿è¡Œæ—¶å¸¸é‡æ± '><span>ä¸ºä»€ä¹ˆéœ€è¦å¸¸é‡æ± ã€è¿è¡Œæ—¶å¸¸é‡æ± ï¼Ÿ</span></h3><ul><li><p><span>å¸¸é‡æ± </span></p><ul><li><span>å°±æ˜¯ä¸ºäº†æä¾›ä¸€äº›ç¬¦å·å’Œå¸¸é‡ï¼Œä¾¿äºæŒ‡ä»¤çš„è¯†åˆ«ï¼ˆç¬¦å·å¼•ç”¨ï¼‰</span></li><li><span>Javaä¸­çš„å­—èŠ‚ç éœ€è¦æ•°æ®æ”¯æŒï¼Œé€šå¸¸è¿™ç§æ•°æ®ä¼šå¾ˆå¤§ä»¥è‡³äºä¸èƒ½ç›´æ¥å­˜åˆ°å­—èŠ‚ç é‡Œï¼Œæ¢å¦ä¸€ç§æ–¹å¼ï¼Œå¯ä»¥å­˜åˆ°å¸¸é‡æ± ï¼Œè¿™ä¸ªå­—èŠ‚ç åŒ…å«äº†æŒ‡å‘å¸¸é‡æ± çš„å¼•ç”¨ã€‚</span></li></ul></li><li><p><span>è¿è¡Œæ—¶å¸¸é‡æ± </span></p><ul><li><span>å› ä¸ºåœ¨ä¸åŒçš„æ–¹æ³•ï¼Œéƒ½å¯èƒ½è°ƒç”¨å¸¸é‡æˆ–è€…æ–¹æ³•ï¼Œæ‰€ä»¥åªéœ€è¦å­˜å‚¨ä¸€ä»½å³å¯ï¼ŒèŠ‚çœäº†ç©ºé—´</span></li></ul></li></ul><h3 id='æ–¹æ³•ç»“æŸçš„æ–¹å¼'><span>æ–¹æ³•ç»“æŸçš„æ–¹å¼ï¼Ÿ</span></h3><ul><li><span>æ­£å¸¸æ‰§è¡Œå®Œæˆ</span></li><li><span>å‡ºç°æœªå¤„ç†çš„å¼‚å¸¸ï¼Œéæ­£å¸¸é€€å‡º</span></li></ul><h3 id='è¿è¡Œæ—¶æ•°æ®åŒºæ˜¯å¦å­˜åœ¨errorå’Œgc'><span>è¿è¡Œæ—¶æ•°æ®åŒºï¼Œæ˜¯å¦å­˜åœ¨Errorå’ŒGCï¼Ÿ</span></h3><ul><li><span>è¿è¡Œæ—¶æ•°æ®åŒº</span><span>	</span><span>æ˜¯å¦å­˜åœ¨Error</span><span>	</span><span>æ˜¯å¦å­˜åœ¨GC</span>
<span>ç¨‹åºè®¡æ•°å™¨</span><span>	</span><span>å¦</span><span>	</span><span>å¦</span>
<span>è™šæ‹Ÿæœºæ ˆ</span><span>	</span><span>æ˜¯</span><span>	</span><span>å¦</span>
<span>æœ¬åœ°æ–¹æ³•æ ˆ</span><span>	</span><span>æ˜¯</span><span>	</span><span>å¦</span>
<span>æ–¹æ³•åŒº</span><span>	</span><span>             æ˜¯ï¼ˆOOMï¼‰</span><span>	</span><span>æ˜¯</span>
<span>å †</span><span>	</span><span>             æ˜¯</span><span>	</span><span>æ˜¯</span></li></ul><p><span>### </span></p><h3 id='ä»€ä¹ˆæ˜¯stw'><span>ä»€ä¹ˆæ˜¯STWï¼Ÿ</span></h3><ul><li><span>Gcäº‹ä»¶å‘ç”Ÿè¿‡ç¨‹ä¸­ï¼Œä¼šäº§ç”Ÿåº”ç”¨ç¨‹åºçš„åœé¡¿ã€‚åœé¡¿äº§ç”Ÿæ—¶æ•´ä¸ªåº”ç”¨ç¨‹åºçº¿ç¨‹éƒ½ä¼šè¢«æš‚åœï¼Œæ²¡æœ‰ä»»ä½•å“åº”ï¼Œæœ‰ç‚¹åƒå¡æ­»çš„æ„Ÿè§‰ã€‚</span></li></ul><h3 id='ä¸ºä»€ä¹ˆè¦æŠŠjavaå †åˆ†ä»£ä¸åˆ†ä»£å°±ä¸èƒ½æ­£å¸¸å·¥ä½œäº†å—'><span>ä¸ºä»€ä¹ˆè¦æŠŠJavaå †åˆ†ä»£ï¼Ÿä¸åˆ†ä»£å°±ä¸èƒ½æ­£å¸¸å·¥ä½œäº†å—ï¼Ÿ</span></h3><ul><li><span>1ã€ç»ç ”ç©¶ï¼Œä¸åŒå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸä¸åŒã€‚70%-99%çš„å¯¹è±¡æ˜¯ä¸´æ—¶å¯¹è±¡ã€‚</span></li><li><span>2ã€åˆ†ä»£çš„å”¯ä¸€ç†ç”±å°±æ˜¯ä¼˜åŒ–GCæ€§èƒ½ã€‚</span></li><li><span>3ã€å¦‚æœæ²¡æœ‰åˆ†ä»£ï¼ŒGCçš„æ—¶å€™æ¯æ¬¡éƒ½ä¼šå¯¹å †çš„æ‰€æœ‰åŒºåŸŸè¿›è¡Œæ‰«æï¼Œå¾ˆè€—æ—¶é—´ã€‚è€Œå¾ˆå¤šå¯¹è±¡éƒ½æ˜¯ä¸´æ—¶å¯¹è±¡ï¼Œç”¨åˆ†ä»£çš„æ€æƒ³ï¼Œæ–°åˆ›å»ºçš„å¯¹è±¡æ”¾åˆ°æŸä¸ªåœ°æ–¹ï¼ŒGCçš„æ—¶å€™é¦–å…ˆå¯¹è¿™å—åŒºåŸŸè¿›è¡Œå›æ”¶ï¼Œå¯ä»¥æé«˜å †çš„ç©ºé—´åˆ©ç”¨ç‡ã€‚</span></li></ul><h3 id='å †ç©ºé—´éƒ½æ˜¯å…±äº«çš„å—'><span>å †ç©ºé—´éƒ½æ˜¯å…±äº«çš„å—ï¼Ÿ</span></h3><ul><li><span>ä¸ä¸€å®šï¼Œå› ä¸ºè¿˜æœ‰TLABè¿™ä¸ªæ¦‚å¿µï¼Œåœ¨å †ä¸­åˆ’åˆ†å‡ºä¸€å—åŒºåŸŸï¼Œä¸ºæ¯ä¸ªçº¿ç¨‹æ‰€ç‹¬å </span></li></ul><h3 id='ä¸ºä»€ä¹ˆæœ‰tlab'><span>ä¸ºä»€ä¹ˆæœ‰TLABï¼Ÿ</span></h3><ul><li><span>1ã€å †åŒºæ˜¯çº¿ç¨‹å…±äº«åŒºåŸŸï¼Œä»»ä½•çº¿ç¨‹éƒ½å¯ä»¥è®¿é—®åˆ°å †åŒºä¸­çš„å…±äº«æ•°æ®</span></li><li><span>2ã€ç”±äºå¯¹è±¡å®ä¾‹çš„åˆ›å»ºåœ¨JVMä¸­éå¸¸é¢‘ç¹ï¼Œå› æ­¤åœ¨å¹¶å‘ç¯å¢ƒä¸‹ä»å †åŒºä¸­åˆ’åˆ†å†…å­˜ç©ºé—´æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ã€‚</span></li><li><span>3ã€ä¸ºé¿å…å¤šä¸ªçº¿ç¨‹æ“ä½œåŒä¸€åœ°å€ï¼Œéœ€è¦ä½¿ç”¨åŠ é”ç­‰æœºåˆ¶ï¼Œè¿›è€Œå½±å“åˆ†é…é€Ÿåº¦ã€‚</span></li></ul><h3 id='å †æ˜¯åˆ†é…å¯¹è±¡çš„å”¯ä¸€é€‰æ‹©ä¹ˆ'><span>å †æ˜¯åˆ†é…å¯¹è±¡çš„å”¯ä¸€é€‰æ‹©ä¹ˆï¼Ÿ</span></h3><ul><li><span>å°†å †ä¸Šçš„å¯¹è±¡åˆ†é…åˆ°æ ˆï¼Œéœ€è¦ä½¿ç”¨é€ƒé€¸åˆ†ææ‰‹æ®µ</span></li></ul><p><span>### </span></p><h3 id='å…ƒç©ºé—´ä¸æ°¸ä¹…ä»£çš„åŒºåˆ«'><span>å…ƒç©ºé—´ä¸æ°¸ä¹…ä»£çš„åŒºåˆ«ï¼Ÿ</span></h3><ul><li><span>å…ƒç©ºé—´ä¸åœ¨è™šæ‹Ÿæœºè®¾ç½®çš„å†…å­˜ä¸­ï¼Œè€Œæ˜¯ä½¿ç”¨æœ¬åœ°å†…å­˜</span></li><li><span>å†…éƒ¨ç»“æ„ä¸åŒ</span></li></ul><h3 id='å¦‚ä½•è§£å†³oom'><span>å¦‚ä½•è§£å†³OOMï¼Ÿ</span></h3><ul><li><span>1ã€é¦–å…ˆé€šè¿‡å†…å­˜æ˜ åƒåˆ†æå·¥å…·ï¼ˆå¦‚Ec1ipse Memory Analyzerï¼‰å¯¹dumpå‡ºæ¥çš„å †è½¬å‚¨å¿«ç…§è¿›è¡Œåˆ†æï¼Œé‡ç‚¹æ˜¯ç¡®è®¤å†…å­˜ä¸­çš„å¯¹è±¡æ˜¯å¦æ˜¯å¿…è¦çš„ï¼Œä¹Ÿå°±æ˜¯è¦å…ˆåˆ†æ¸…æ¥šåˆ°åº•æ˜¯å‡ºç°äº†å†…å­˜æ³„æ¼ï¼ˆMemory Leakï¼‰è¿˜æ˜¯å†…å­˜æº¢å‡ºï¼ˆMemory Overflowï¼‰ã€‚</span></li><li><span>2ã€å¦‚æœæ˜¯å†…å­˜æ³„æ¼ï¼Œå¯è¿›ä¸€æ­¥é€šè¿‡å·¥å…·æŸ¥çœ‹æ³„æ¼å¯¹è±¡åˆ°GC Rootsçš„å¼•ç”¨é“¾ã€‚äºæ˜¯å°±èƒ½æ‰¾åˆ°æ³„æ¼å¯¹è±¡æ˜¯é€šè¿‡æ€æ ·çš„è·¯å¾„ä¸GCRootsç›¸å…³è”å¹¶å¯¼è‡´åƒåœ¾æ”¶é›†å™¨æ— æ³•è‡ªåŠ¨å›æ”¶å®ƒä»¬çš„ã€‚æŒæ¡äº†æ³„æ¼å¯¹è±¡çš„ç±»å‹ä¿¡æ¯ï¼Œä»¥åŠGCRootså¼•ç”¨é“¾çš„ä¿¡æ¯ï¼Œå°±å¯ä»¥æ¯”è¾ƒå‡†ç¡®åœ°å®šä½å‡ºæ³„æ¼ä»£ç çš„ä½ç½®ã€‚</span></li><li><span>3ã€å¦‚æœæ˜¯å†…å­˜æ³„æ¼ï¼Œå¯è¿›ä¸€æ­¥é€šè¿‡å·¥å…·æŸ¥çœ‹æ³„æ¼å¯¹è±¡åˆ°GC Rootsçš„å¼•ç”¨é“¾ã€‚äºæ˜¯å°±èƒ½æ‰¾åˆ°æ³„æ¼å¯¹è±¡æ˜¯é€šè¿‡æ€æ ·çš„è·¯å¾„ä¸GCRootsç›¸å…³è”å¹¶å¯¼è‡´åƒåœ¾æ”¶é›†å™¨æ— æ³•è‡ªåŠ¨å›æ”¶å®ƒä»¬çš„ã€‚æŒæ¡äº†æ³„æ¼å¯¹è±¡çš„ç±»å‹ä¿¡æ¯ï¼Œä»¥åŠGCRootså¼•ç”¨é“¾çš„ä¿¡æ¯ï¼Œå°±å¯ä»¥æ¯”è¾ƒå‡†ç¡®åœ°å®šä½å‡ºæ³„æ¼ä»£ç çš„ä½ç½®ã€‚</span></li></ul><h3 id='staticå’Œstatic-finalçš„åŒºåˆ«'><span>staticå’Œstatic finalçš„åŒºåˆ«?</span></h3><ul><li><span>staticä¿®é¥°çš„å˜é‡åœ¨é“¾æ¥çš„å‡†å¤‡é˜¶æ®µèµ‹äºˆé»˜è®¤å€¼ï¼Œåˆå§‹åŒ–é˜¶æ®µçœŸæ­£èµ‹å€¼ã€‚</span></li><li><span>static finalä¿®é¥°çš„å˜é‡åœ¨ç¼–è¯‘é˜¶æ®µè¢«åˆ†é…(åŠ è½½classæ–‡ä»¶æ—¶)</span></li></ul><h3 id='hotspotæ–¹æ³•åŒºçš„å˜åŒ–'><span>Hotspotæ–¹æ³•åŒºçš„å˜åŒ–ï¼Ÿ</span></h3><ul><li><span>JDK1.6åŠä»¥å‰ï¼šæœ‰æ°¸ä¹…ä»£ï¼Œé™æ€å˜é‡å­˜å‚¨åœ¨æ°¸ä¹…ä»£ä¸Š</span></li><li><span>JDK1.7ï¼šæœ‰æ°¸ä¹…ä»£ï¼Œä½†å·²ç»é€æ­¥ â€œå»æ°¸ä¹…ä»£â€ï¼Œå­—ç¬¦ä¸²å¸¸é‡æ± ï¼Œé™æ€å˜é‡ç§»é™¤ï¼Œä¿å­˜åœ¨å †ä¸­ã€‚</span></li><li><span>JDK1.8ï¼šæ— æ°¸ä¹…ä»£ï¼Œç±»å‹ä¿¡æ¯ï¼Œå­—æ®µï¼Œæ–¹æ³•ï¼Œå¸¸é‡ä¿å­˜åœ¨æœ¬åœ°å†…å­˜çš„å…ƒç©ºé—´ï¼Œä½†å­—ç¬¦ä¸²å¸¸é‡æ± ã€é™æ€å˜é‡ä»ç„¶åœ¨å †ä¸­ã€‚</span></li></ul><h3 id='ä¸ºä»€ä¹ˆæ°¸ä¹…ä»£è¦è¢«å…ƒç©ºé—´æ›¿ä»£'><span>ä¸ºä»€ä¹ˆæ°¸ä¹…ä»£è¦è¢«å…ƒç©ºé—´æ›¿ä»£ï¼Ÿ</span></h3><ul><li><p><span>ä¸ºæ°¸ä¹…ä»£è®¾ç½®ç©ºé—´å¤§å°æ˜¯å¾ˆéš¾ç¡®å®šçš„</span></p><ul><li><span>å…ƒç©ºé—´çš„å¤§å°ä»…å—æœ¬åœ°å†…å­˜é™åˆ¶ã€‚</span></li></ul></li><li><p><span>å¯¹æ°¸ä¹…ä»£è¿›è¡Œè°ƒä¼˜æ˜¯å¾ˆå›°éš¾çš„</span></p><ul><li><span>Full GCæ‰ä¼šå›æ”¶ï¼Œå›æ”¶é¢‘ç‡ä¸é«˜</span></li></ul></li></ul><h3 id='stringtableä¸ºä»€ä¹ˆè¦è°ƒæ•´ä½ç½®'><span>StringTableä¸ºä»€ä¹ˆè¦è°ƒæ•´ä½ç½®ï¼Ÿ</span></h3><ul><li><span>æ°¸ä¹…ä»£çš„å›æ”¶æ•ˆç‡å¾ˆä½ï¼Œåœ¨full gcçš„æ—¶å€™æ‰ä¼šè§¦å‘ã€‚è€Œful1gcæ˜¯è€å¹´ä»£çš„ç©ºé—´ä¸è¶³ã€æ°¸ä¹…ä»£ä¸è¶³æ—¶æ‰ä¼šè§¦å‘ã€‚</span></li><li><span>æ°¸ä¹…ä»£ä¸­çš„stringTableå›æ”¶æ•ˆç‡ä¸é«˜ã€‚è€Œæˆ‘ä»¬å¼€å‘ä¸­ä¼šæœ‰å¤§é‡çš„å­—ç¬¦ä¸²è¢«åˆ›å»ºï¼Œå›æ”¶æ•ˆç‡ä½ï¼Œå¯¼è‡´æ°¸ä¹…ä»£å†…å­˜ä¸è¶³ã€‚æ”¾åˆ°å †é‡Œï¼Œèƒ½åŠæ—¶å›æ”¶å†…å­˜ã€‚</span></li><li><span>æ°¸ä¹…ä»£(permSize)ç©ºé—´è¾ƒå°ï¼Œå®¹æ˜“OOM</span></li></ul><p><span>### </span></p><h3 id='ä»€ä¹ˆæ˜¯ç›´æ¥å†…å­˜'><span>ä»€ä¹ˆæ˜¯ç›´æ¥å†…å­˜ï¼Ÿ</span></h3><ul><li><span>ç›´æ¥å†…å­˜æ˜¯åœ¨Javaå †å¤–çš„ã€ç›´æ¥å‘ç³»ç»Ÿç”³è¯·çš„å†…å­˜åŒºé—´ã€‚</span></li><li><span>æ¥æºäºNIOï¼Œé€šè¿‡å­˜åœ¨å †ä¸­çš„DirectByteBufferæ“ä½œNativeå†…å­˜</span></li><li><span>ä¸æ˜¯è™šæ‹Ÿæœºè¿è¡Œæ—¶æ•°æ®åŒºçš„ä¸€éƒ¨åˆ†ï¼Œä¹Ÿä¸æ˜¯ã€ŠJavaè™šæ‹Ÿæœºè§„èŒƒã€‹ä¸­å®šä¹‰çš„å†…å­˜åŒºåŸŸ</span></li></ul><p><span>### </span></p><h3 id='ä¸ºä»€ä¹ˆéœ€è¦gc'><span>ä¸ºä»€ä¹ˆéœ€è¦gcï¼Ÿ</span></h3><ul><li><span>å¦‚æœä¸è¿›è¡Œåƒåœ¾å›æ”¶ï¼Œå†…å­˜è¿Ÿæ—©éƒ½ä¼šè¢«æ¶ˆè€—å®Œï¼Œå› ä¸ºä¸æ–­åœ°åˆ†é…å†…å­˜ç©ºé—´è€Œä¸è¿›è¡Œå›æ”¶</span></li></ul><h3 id='ä¸è¦ä¸»åŠ¨è°ƒç”¨æŸä¸ªå¯¹è±¡çš„finalizeæ–¹æ³•åº”è¯¥äº¤ç»™åƒåœ¾å›æ”¶æœºåˆ¶è°ƒç”¨'><span>ä¸è¦ä¸»åŠ¨è°ƒç”¨æŸä¸ªå¯¹è±¡çš„finalizeæ–¹æ³•,åº”è¯¥äº¤ç»™åƒåœ¾å›æ”¶æœºåˆ¶è°ƒç”¨ï¼Ÿ</span></h3><ul><li><p><span>åœ¨finalizeï¼ˆï¼‰æ—¶å¯èƒ½ä¼šå¯¼è‡´å¯¹è±¡å¤æ´»</span></p></li><li><p><span>ä¸€ä¸ªç³Ÿç³•çš„finalizeï¼ˆï¼‰ä¼šä¸¥é‡å½±å“Gcçš„æ€§èƒ½</span></p></li><li><p><span>finalizeï¼ˆï¼‰æ–¹æ³•çš„æ‰§è¡Œæ—¶é—´æ˜¯æ²¡æœ‰ä¿éšœçš„ï¼Œå®ƒå®Œå…¨ç”±Gcçº¿ç¨‹å†³å®š</span></p><ul><li><span>ä¼˜å…ˆçº§æ¯”è¾ƒä½ï¼Œå³ä½¿ä¸»åŠ¨è°ƒç”¨è¯¥æ–¹æ³•ï¼Œä¹Ÿä¸ä¼šå› æ­¤å°±ç›´æ¥è¿›è¡Œå›æ”¶</span></li></ul></li></ul><h3 id='åˆ†ä»£ç®—æ³•å’Œåˆ†åŒºç®—æ³•çš„åŒºåˆ«'><span>åˆ†ä»£ç®—æ³•å’Œåˆ†åŒºç®—æ³•çš„åŒºåˆ«ï¼Ÿ</span></h3><ul><li><span>åˆ†ä»£ç®—æ³•å°†æŒ‰ç…§å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸé•¿çŸ­åˆ’åˆ†æˆä¸¤ä¸ªéƒ¨åˆ†ï¼Œåˆ†åŒºç®—æ³•å°†æ•´ä¸ªå †ç©ºé—´åˆ’åˆ†æˆè¿ç»­çš„ä¸åŒå°åŒºé—´ã€‚</span></li></ul><p><span>### </span></p><h3 id='ä½ å¼€å‘ä¸­ä½¿ç”¨è¿‡weakhashmapå—'><span>ä½ å¼€å‘ä¸­ä½¿ç”¨è¿‡WeakHashMapå—ï¼Ÿ</span></h3><ul><li><span>WeakHashMapç”¨æ¥å­˜å‚¨å›¾ç‰‡ä¿¡æ¯ï¼Œå¯ä»¥åœ¨å†…å­˜ä¸è¶³çš„æ—¶å€™ï¼ŒåŠæ—¶å›æ”¶ï¼Œé¿å…äº†OOM</span></li></ul><h3 id='cmsä¸ºä»€ä¹ˆä¸ä½¿ç”¨æ ‡è®°æ•´ç†ç®—æ³•'><span>CMSä¸ºä»€ä¹ˆä¸ä½¿ç”¨æ ‡è®°æ•´ç†ç®—æ³•ï¼Ÿ</span></h3><ul><li><span>æ ‡è®°æ•´ç†ç®—æ³•ä¼šç§»åŠ¨å¯¹è±¡çš„å†…å­˜åœ°å€ï¼Œæ¸…é™¤é˜¶æ®µç”¨æˆ·çº¿ç¨‹ä¾ç„¶åœ¨è¿è¡Œã€‚</span></li></ul><h3 id='ä¸ºä»€ä¹ˆcmsæ˜¯ä½å»¶è¿Ÿçš„'><span>ä¸ºä»€ä¹ˆCMSæ˜¯ä½å»¶è¿Ÿçš„ï¼Ÿ</span></h3><ul><li><span>æœ€è€—è´¹æ—¶é—´çš„å¹¶å‘æ ‡è®°ä¸å¹¶å‘æ¸…é™¤é˜¶æ®µéƒ½ä¸éœ€è¦æš‚åœå·¥ä½œï¼Œæ‰€ä»¥æ•´ä½“çš„å›æ”¶æ˜¯ä½åœé¡¿çš„ã€‚</span></li></ul><h3 id='g1è®¾ç½®hçš„åŸå› '><span>G1è®¾ç½®Hçš„åŸå› ï¼Ÿ</span></h3><ul><li><span>å¯¹äºå †ä¸­çš„å¤§å¯¹è±¡ï¼Œé»˜è®¤ç›´æ¥ä¼šè¢«åˆ†é…åˆ°è€å¹´ä»£ï¼Œä½†æ˜¯å¦‚æœå®ƒæ˜¯ä¸€ä¸ªçŸ­æœŸå­˜åœ¨çš„å¤§å¯¹è±¡å°±ä¼šå¯¹åƒåœ¾æ”¶é›†å™¨é€ æˆè´Ÿé¢å½±å“ã€‚</span></li><li><span>G1åˆ’åˆ†äº†ä¸€ä¸ªHumongousåŒºï¼Œå®ƒç”¨æ¥ä¸“é—¨å­˜æ”¾å¤§å¯¹è±¡ã€‚å¦‚æœä¸€ä¸ªHåŒºè£…ä¸ä¸‹ä¸€ä¸ªå¤§å¯¹è±¡ï¼Œé‚£ä¹ˆG1ä¼šå¯»æ‰¾è¿ç»­çš„HåŒºæ¥å­˜å‚¨ã€‚ä¸ºäº†èƒ½æ‰¾åˆ°è¿ç»­çš„HåŒºï¼Œæœ‰æ—¶å€™ä¸å¾—ä¸å¯åŠ¨Fu11Gcã€‚</span></li></ul><p>&nbsp;</p></div></div>

<script>(function(){var e=document.body.parentElement,t=[],n=null,i=document.body.classList.contains("typora-export-collapse-outline"),r=function(e,t,n){document.addEventListener(e,function(e){if(!e.defaultPrevented)for(var i=e.target;i&&i!=this;i=i.parentNode)if(i.matches(t)){!1===n.call(i,e)&&(e.preventDefault(),e.stopPropagation());break}},!1)};function o(){return e.scrollTop}r("click",".outline-expander",function(e){var t=this.closest(".outline-item-wrapper").classList;return t.contains("outline-item-open")?t.remove("outline-item-open"):t.add("outline-item-open"),d(),!1}),r("click",".outline-item",function(e){var t=this.querySelector(".outline-label");if(location.hash="#"+t.getAttribute("href"),i){var n=this.closest(".outline-item-wrapper").classList;n.contains("outline-item-open")||n.add("outline-item-open"),c(),n.add("outline-item-active")}});var a,s,l=function(){var e=o();n=null;for(var i=0;i<t.length&&t[i][1]-e<60;i++)n=t[i]},c=function(){document.querySelectorAll(".outline-item-active").forEach(e=>e.classList.remove("outline-item-active")),document.querySelectorAll(".outline-item-single.outline-item-open").forEach(e=>e.classList.remove("outline-item-open"))},d=function(){if(n){c();var e=document.querySelector('.outline-label[href="#'+(CSS.escape?CSS.escape(n[0]):n[0])+'"]');if(e)if(i){var t=e.closest(".outline-item-open>ul>.outline-item-wrapper");if(t)t.classList.add("outline-item-active");else{for(var r=(e=e.closest(".outline-item-wrapper")).parentElement.closest(".outline-item-wrapper");r;)r=(e=r).parentElement.closest(".outline-item-wrapper");e.classList.add("outline-item-active")}}else e.closest(".outline-item-wrapper").classList.add("outline-item-active")}};window.addEventListener("scroll",function(e){a&&clearTimeout(a),a=setTimeout(function(){l(),d()},300)});var u=function(){s=setTimeout(function(){!function(){t=[];var e=o();document.querySelector("#write").querySelectorAll("h1, h2, h3, h4, h5, h6").forEach(n=>{var i=n.getAttribute("id");t.push([i,e+n.getBoundingClientRect().y])})}(),l(),d()},300)};window.addEventListener("resize",function(e){s&&clearTimeout(s),u()}),u()})();</script><a id="O-switch" style="width: 50px; height: 50px; text-align: center; line-height:50px; position:fixed; bottom:0; opacity: 0.3;" title="æ˜¾ç¤º/éšè—ç›®å½•">ã€‡</a>

<script>
var sidebar = document.getElementsByClassName("typora-export-sidebar")[0];var button = document.getElementById("O-switch");sidebar.style.display='none';button.onclick=function(){if(sidebar.style.display=='block')sidebar.style.display='none';else sidebar.style.display='block'};
</script></body>
</html>